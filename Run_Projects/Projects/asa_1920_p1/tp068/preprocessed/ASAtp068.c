/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <stdlib.h>
#include <getopt.h>
#include <string.h>


typedef struct node
{
  int currentGrade;
  struct node **connections;
  int numberCon;
  int done;
} Node;
struct node *createNode(int ppls, int number)
{
  struct node *newNode = malloc(sizeof(struct node));
  newNode->numberCon = 0;
  newNode->done = 0;
  newNode->currentGrade = number;
  newNode->connections = 0;
  return newNode;
}

int funcao(Node *aaa)
{
  int temp;
  int i;
  aaa->done = 1;
  for (i = 0; i < aaa->numberCon; i++)
  {
    if (aaa->connections[i]->done == 0)
    {
      temp = funcao(aaa->connections[i]);
    }
    else
    {
      temp = aaa->connections[i]->currentGrade;
    }

    if (temp > aaa->currentGrade)
    {
      aaa->currentGrade = temp;
    }
    else
    {
      
    }

  }

  return aaa->currentGrade;
}

int main()
{
  char str1[12];
  int ppl;
  int con;
  int temp1;
  int temp2;
  int i;
  for (int str1_index = 0; str1_index < 10; str1_index++)
  {
    str1[str1_index] = new_sym_var(sizeof(char) * 8);
  }

  str1[10 - 1] = '\0';
  char s[2] = ",";
  char *token;
  int fors;
  token = strtok(str1, s);
  ppl = atoi(token);
  token = strtok(0, s);
  con = atoi(token);
  struct node **nodeList;
  nodeList = malloc(ppl * (sizeof(Node *)));
  for (fors = 0; fors < ppl; fors++)
  {
    for (int str1_index = 0; str1_index < 10; str1_index++)
    {
      str1[str1_index] = new_sym_var(sizeof(char) * 8);
    }

    str1[10 - 1] = '\0';
    nodeList[fors] = createNode(ppl, atoi(str1));
  }

  for (fors = 0; fors < con; fors++)
  {
    temp1 = new_sym_var(sizeof(int) * 8);
    temp2 = new_sym_var(sizeof(int) * 8);
    nodeList[temp1 - 1]->connections = realloc(nodeList[temp1 - 1]->connections, (nodeList[temp1 - 1]->numberCon + 1) * (sizeof(Node *)));
    nodeList[temp1 - 1]->connections[nodeList[temp1 - 1]->numberCon] = nodeList[temp2 - 1];
    nodeList[temp1 - 1]->numberCon++;
  }

  for (i = 0; i < ppl; i++)
  {
    if (nodeList[i]->done == 0)
    {
      funcao(nodeList[i]);
    }
    else
    {
      
    }

  }

  for (i = 0; i < ppl; i++)
  {
    printf("%d\n", nodeList[i]->currentGrade);
  }

  return 0;
}

