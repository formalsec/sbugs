/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <stdlib.h>
#include <string.h>


int id = 0;
int order_id = 0;
typedef struct 
{
  char description[64];
  int price;
  int weight;
  int stock;
} Product;
typedef struct 
{
  int order_weight;
  Product product[10000];
} Order;
Product myProduct[10000];
Order myOrders[500];
void custoEncomenda(int order_identifier);
void orderMostProduct(int identifier);
int main()
{
  char cmd[200 + 1];
  int identifier;
  int stock;
  int order_identifier;
  int price;
  while (fgets(cmd, 200, stdin) != 0)
  {
    switch (cmd[0])
    {
      case 'a':
        for (int myProduct_index = 0; myProduct_index < 10; myProduct_index++)
      {
        myProduct[id].description[myProduct_index] = new_sym_var(sizeof(char) * 8);
      }

        myProduct[id].description[10 - 1] = '\0';
        myProduct[id].price = new_sym_var(sizeof(int) * 8);
        myProduct[id].weight = new_sym_var(sizeof(int) * 8);
        myProduct[id].stock = new_sym_var(sizeof(int) * 8);
        printf("Novo produto %d.\n", id);
        id++;
        break;

      case 'q':
        identifier = new_sym_var(sizeof(int) * 8);
        stock = new_sym_var(sizeof(int) * 8);
        if (identifier >= id)
      {
        printf("Impossivel adicionar produto %d ao stock. Produto inexistente.\n", identifier);
      }
      else
      {
        myProduct[identifier].stock += stock;
      }

        break;

      case 'N':
        printf("Nova encomenda %d.\n", order_id);
        order_id++;
        break;

      case 'A':
        order_identifier = new_sym_var(sizeof(int) * 8);
        identifier = new_sym_var(sizeof(int) * 8);
        stock = new_sym_var(sizeof(int) * 8);
        if (order_identifier >= order_id)
      {
        printf("Impossivel adicionar produto %d a encomenda %d. Encomenda inexistente.\n", identifier, order_identifier);
        break;
      }
      else
      {
        
      }

        if (identifier >= id)
      {
        printf("Impossivel adicionar produto %d a encomenda %d. Produto inexistente.\n", identifier, order_identifier);
        break;
      }
      else
      {
        
      }

        if (myProduct[identifier].stock < stock)
      {
        printf("Impossivel adicionar produto %d a encomenda %d. Quantidade em stock insuficiente.\n", identifier, order_identifier);
        break;
      }
      else
      {
        
      }

        if ((myOrders[order_identifier].order_weight + (stock * myProduct[identifier].weight)) > 200)
      {
        printf("Impossivel adicionar produto %d a encomenda %d. Peso da encomenda excede o maximo de 200.\n", identifier, order_identifier);
        break;
      }
      else
      {
        myOrders[order_identifier].product[identifier].stock = myOrders[order_identifier].product[identifier].stock + stock;
        myOrders[order_identifier].order_weight = myOrders[order_identifier].order_weight + (stock * myProduct[identifier].weight);
        myProduct[identifier].stock = myProduct[identifier].stock - stock;
        break;
      }

        break;

      case 'r':
        identifier = new_sym_var(sizeof(int) * 8);
        stock = new_sym_var(sizeof(int) * 8);
        if (identifier >= id)
      {
        printf("Impossivel remover stock do produto %d. Produto inexistente.\n", identifier);
        break;
      }
      else
      {
        
      }

        if (myProduct[identifier].stock < stock)
      {
        printf("Impossivel remover %d unidades do produto %d do stock. Quantidade insuficiente.\n", stock, identifier);
        break;
      }
      else
      {
        myProduct[identifier].stock = myProduct[identifier].stock - stock;
        printf("novo stock:%d", myProduct[identifier].stock);
        break;
      }

        break;

      case 'R':
        order_identifier = new_sym_var(sizeof(int) * 8);
        identifier = new_sym_var(sizeof(int) * 8);
        if (order_identifier >= order_id)
      {
        printf("Impossivel remover produto %d a encomenda %d. Encomenda inexistente.\n", identifier, order_identifier);
        break;
      }
      else
      {
        
      }

        if (identifier >= id)
      {
        printf("Impossivel remover produto %d a encomenda %d. Produto inexistente.\n", identifier, order_identifier);
        break;
      }
      else
      {
        myProduct[identifier].stock = myProduct[identifier].stock + myOrders[order_identifier].product[identifier].stock;
        myOrders[order_identifier].order_weight -= myProduct[identifier].weight * myOrders[order_identifier].product[identifier].stock;
        myOrders[order_identifier].product[identifier].stock = 0;
        break;
      }

        break;

      case 'C':
        order_identifier = new_sym_var(sizeof(int) * 8);
        if (order_identifier >= order_id)
      {
        printf("Impossivel calcular custo da encomenda %d. Encomenda inexistente.\n", order_identifier);
        break;
      }
      else
      {
        custoEncomenda(order_identifier);
        break;
      }

        break;

      case 'p':
        identifier = new_sym_var(sizeof(int) * 8);
        price = new_sym_var(sizeof(int) * 8);
        if (identifier >= id)
      {
        printf("Impossivel alterar preco do produto %d. Produto inexistente.\n", identifier);
        break;
      }
      else
      {
        myProduct[identifier].price = price;
        break;
      }

        break;

      case 'E':
        order_identifier = new_sym_var(sizeof(int) * 8);
        identifier = new_sym_var(sizeof(int) * 8);
        if (order_identifier >= order_id)
      {
        printf("Impossivel listar encomenda %d. Encomenda inexistente.\n", order_identifier);
        break;
      }
      else
      {
        
      }

        if (identifier >= id)
      {
        printf("Impossivel listar produto %d. Produto inexistente.\n", identifier);
        break;
      }
      else
      {
        printf("%s %d.\n", myProduct[identifier].description, myOrders[order_identifier].product[identifier].stock);
        break;
      }

        break;

      case 'm':
        identifier = new_sym_var(sizeof(int) * 8);
        if (identifier >= id)
      {
        printf("Impossivel listar maximo do produto %d. Produto inexistente.", identifier);
        break;
      }
      else
      {
        orderMostProduct(identifier);
        break;
      }


      case 'l':
        printf("Produtos\n");
        break;

      case 'x':
        return 0;

    }

  }

  return 0;
}

void custoEncomenda(int order_identifier)
{
  int i;
  int order_price = 0;
  for (i = 0; i <= id; i++)
  {
    order_price = order_price + (myProduct[i].price * myOrders[order_identifier].product[i].stock);
  }

  printf("Custo da encomenda %d %d.\n", order_identifier, order_price);
}

void orderMostProduct(int identifier)
{
  int i;
  int order;
  int max = 0;
  for (i = 0; i < order_id; i++)
  {
    if (max < myOrders[i].product[identifier].stock)
    {
      max = myOrders[i].product[identifier].stock;
      order = i;
    }
    else
    {
      
    }

  }

  printf("Maximo produto %d %d %d.", identifier, order, max);
}

