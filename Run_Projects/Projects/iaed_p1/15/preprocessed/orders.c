/*File generated by PreProcessor.py*/


#include <stdlib.h>
#include <stdio.h>
#include <string.h>
#include "myLib.h"
#include "product.h"
#include "order.h"
#include "orders.h"


Orders *orders_init()
{
  Orders *oo = (Orders *) malloc(sizeof(Orders));
  if (errno > 0)
  {
    perror("orders_init: malloc Order");
    exit(errno);
  }
  else
  {
    
  }

  ;
  oo->orders = (Order **) malloc((sizeof(Order *)) * 500);
  if (errno > 0)
  {
    perror("orders_init: malloc Orders");
    exit(errno);
  }
  else
  {
    
  }

  ;
  oo->count = 0;
  return oo;
}

void orders_free(Orders *oo)
{
  int oid;
  if (oo == 0)
  {
    printf("%s: null pointer\n", "orders_free");
    exit(1);
  }
  else
  {
    
  }

  ;
  for (oid = 0; oid < oo->count; oid++)
    order_free(orders_get_order(oo, oid));

  free(oo->orders);
  free(oo);
}

void orders_print(const Orders *oo)
{
  if (oo == 0)
  {
    printf("%s: null pointer\n", "orders_print");
    exit(1);
  }
  else
  {
    
  }

  ;
  printf("Orders: C=%d\n", orders_get_count(oo));
}

void orders_list(const Orders *oo)
{
  int oid;
  if (oo == 0)
  {
    printf("%s: null pointer\n", "orders_list");
    exit(1);
  }
  else
  {
    
  }

  ;
  puts("ORDERS");
  for (oid = 0; oid < oo->count; oid++)
  {
    order_print(orders_get_order(oo, oid));
  }

}

Order *orders_get_order(const Orders *oo, int oid)
{
  if (oo == 0)
  {
    printf("%s: null pointer\n", "orders_get_order");
    exit(1);
  }
  else
  {
    
  }

  ;
  return oo->orders[oid];
}

int orders_add_order(Orders *oo, Order *o)
{
  if (oo == 0)
  {
    printf("%s: null pointer\n", "orders_add_order: Orders");
    exit(1);
  }
  else
  {
    
  }

  ;
  if (o == 0)
  {
    printf("%s: null pointer\n", "orders_add_order: Order");
    exit(1);
  }
  else
  {
    
  }

  ;
  if (oo->count == 500)
  {
    return -1;
  }
  else
  {
    
  }

  oo->orders[oo->count++] = o;
  return 0;
}

int orders_get_count(const Orders *oo)
{
  if (oo == 0)
  {
    printf("%s: null pointer\n", "orders_get_count");
    exit(1);
  }
  else
  {
    
  }

  ;
  return oo->count;
}

