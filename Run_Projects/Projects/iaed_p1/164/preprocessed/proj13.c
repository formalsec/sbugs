/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <string.h>


typedef struct produto
{
  int idp;
  char desc[63];
  int preco;
  int peso;
  int quantidade;
} produto;
typedef struct encomenda
{
  produto produtos[10000];
  int peso;
} encomenda;
produto produtos[10000];
encomenda encomendas[500];
void a(produto produtos[10000], int i)
{
  for (int produtos_index = 0; produtos_index < 10; produtos_index++)
  {
    produtos[i].desc[produtos_index] = new_sym_var(sizeof(char) * 8);
  }

  produtos[i].desc[10 - 1] = '\0';
  produtos[i].preco = new_sym_var(sizeof(int) * 8);
  produtos[i].peso = new_sym_var(sizeof(int) * 8);
  produtos[i].quantidade = new_sym_var(sizeof(int) * 8);
  produtos[i].idp = i;
  printf("Novo produto %d.\n", produtos[i].idp);
}

void q(produto produtos[10000], int i)
{
  int id;
  int qtd;
  id = new_sym_var(sizeof(int) * 8);
  qtd = new_sym_var(sizeof(int) * 8);
  if (id >= i)
  {
    {
      printf("Impossivel adicionar produto %d ao stock. Produto inexistente.\n", id);
    }
  }
  else
  {
    {
      produtos[id].quantidade += qtd;
    }
  }

}

void N(encomenda encomendas[500], int e)
{
  encomendas[e].peso = 0;
  printf("Nova encomenda %d.\n", e);
}

void A(encomenda encomendas[500], produto produtos[10000], int e, int i)
{
  int ide;
  int id;
  int qtd;
  ide = new_sym_var(sizeof(int) * 8);
  id = new_sym_var(sizeof(int) * 8);
  qtd = new_sym_var(sizeof(int) * 8);
  if (ide >= e)
  {
    {
      printf("Impossivel adicionar produto %d a encomenda %d. Encomenda inexistente.\n", id, ide);
    }
  }
  else
  {
    if (id >= i)
    {
      {
        printf("Impossivel adicionar produto %d a encomenda %d. Produto inexistente.\n", id, ide);
      }
    }
    else
    {
      if (qtd > produtos[id].quantidade)
      {
        {
          printf("Impossivel adicionar produto %d a encomenda %d. Quantidade em stock insuficiente.\n", id, ide);
        }
      }
      else
      {
        if ((encomendas[ide].peso + (produtos[id].peso * qtd)) > 200)
        {
          {
            printf("Impossivel adicionar produto %d a encomenda %d. Peso da encomenda excede o maximo de 200.\n", id, ide);
          }
        }
        else
        {
          {
            produtos[id].quantidade -= qtd;
            encomendas[ide].peso += produtos[id].peso * qtd;
            encomendas[ide].produtos[id].idp = id;
            strcpy(encomendas[ide].produtos[id].desc, produtos[id].desc);
            encomendas[ide].produtos[id].preco = produtos[id].preco;
            encomendas[ide].produtos[id].peso = produtos[id].peso;
            if (encomendas[ide].produtos[id].quantidade > 0)
            {
              {
                encomendas[ide].produtos[id].quantidade += qtd;
              }
            }
            else
            {
              {
                encomendas[ide].produtos[id].quantidade = qtd;
              }
            }

          }
        }

      }

    }

  }

}

void r(produto produtos[10000], int i)
{
  int id;
  int qtd;
  id = new_sym_var(sizeof(int) * 8);
  qtd = new_sym_var(sizeof(int) * 8);
  if (id >= i)
  {
    {
      printf("Impossivel remover stock do produto %d. Produto inexistente.\n", id);
    }
  }
  else
  {
    if ((produtos[id].quantidade - qtd) < 0)
    {
      {
        printf("Impossivel remover %d unidades do produto %d do stock. Quantidade insuficiente.\n", qtd, id);
      }
    }
    else
    {
      {
        produtos[id].quantidade -= qtd;
      }
    }

  }

}

void R(encomenda encomendas[500], produto produtos[10000], int e, int i)
{
  int ide;
  int id;
  ide = new_sym_var(sizeof(int) * 8);
  id = new_sym_var(sizeof(int) * 8);
  if (ide >= e)
  {
    {
      printf("Impossivel remover produto %d a encomenda %d. Encomenda inexistente.\n", id, ide);
    }
  }
  else
  {
    if (id >= i)
    {
      {
        printf("Impossivel remover produto %d a encomenda %d. Produto inexistente.\n", id, ide);
      }
    }
    else
    {
      {
        produtos[id].quantidade += encomendas[ide].produtos[id].quantidade;
        encomendas[ide].peso -= encomendas[ide].produtos[id].peso * encomendas[ide].produtos[id].quantidade;
        encomendas[ide].produtos[id].peso = 0;
        encomendas[ide].produtos[id].preco = 0;
        encomendas[ide].produtos[id].quantidade = 0;
      }
    }

  }

}

void C(encomenda encomendas[500], int e)
{
  int ide;
  int custo = 0;
  int i;
  ide = new_sym_var(sizeof(int) * 8);
  if (ide >= e)
  {
    {
      printf("Impossivel calcular custo da encomenda %d. Encomenda inexistente.\n", ide);
    }
  }
  else
  {
    {
      for (i = 0; i < 10000; i++)
      {
        custo += encomendas[ide].produtos[i].preco * encomendas[ide].produtos[i].quantidade;
      }

      printf("Custo da encomenda %d %d.\n", ide, custo);
    }
  }

}

void p(produto produtos[10000], encomenda encomendas[500], int i)
{
  int id;
  int custo;
  int a;
  id = new_sym_var(sizeof(int) * 8);
  custo = new_sym_var(sizeof(int) * 8);
  if (id >= i)
  {
    {
      printf("Impossivel alterar preco do produto %d. Produto inexistente.\n", id);
    }
  }
  else
  {
    {
      produtos[id].preco = custo;
      for (a = 0; a < 500; a++)
      {
        if (encomendas[a].produtos[id].preco > 0)
        {
          {
            encomendas[a].produtos[id].preco = custo;
          }
        }
        else
        {
          
        }

      }

    }
  }

}

void E(encomenda encomendas[500], produto produtos[10000], int e, int i)
{
  int ide;
  int id;
  ide = new_sym_var(sizeof(int) * 8);
  id = new_sym_var(sizeof(int) * 8);
  if (ide >= e)
  {
    {
      printf("Impossivel listar encomenda %d. Encomenda inexistente.\n", ide);
    }
  }
  else
  {
    if (id >= i)
    {
      {
        printf("Impossivel listar produto %d. Produto inexistente.\n", id);
      }
    }
    else
    {
      {
        printf("%s %d.\n", produtos[id].desc, encomendas[ide].produtos[id].quantidade);
      }
    }

  }

}

void m(encomenda encomendas[500], int e, int i)
{
  int id;
  int a;
  int b;
  int qtd[500] = {0};
  int ide[500] = {0};
  int menoride = 0;
  int maiorqtd = 0;
  int c = 0;
  id = new_sym_var(sizeof(int) * 8);
  if (id >= i)
  {
    {
      printf("Impossivel listar maximo do produto %d. Produto inexistente.\n", id);
    }
  }
  else
  {
    if (e == 0)
    {
      {
        ;
      }
    }
    else
    {
      {
        for (a = 0; a < 500; a++)
        {
          for (b = 0; b < 10000; b++)
          {
            if (encomendas[a].produtos[b].idp == id)
            {
              {
                ide[c] = a;
                qtd[c] = encomendas[a].produtos[b].quantidade;
                c++;
                break;
              }
            }
            else
            {
              
            }

          }

        }

        for (a = 0; a < 500; a++)
        {
          if (qtd[a] > maiorqtd)
          {
            {
              maiorqtd = qtd[a];
              menoride = ide[a];
            }
          }
          else
          {
            
          }

          ide[a] = 0;
          qtd[a] = 0;
        }

        if (maiorqtd > 0)
        {
          {
            printf("Maximo produto %d %d %d.\n", id, menoride, maiorqtd);
          }
        }
        else
        {
          {
            ;
          }
        }

      }
    }

  }

}

void merge(int a[], int left, int m, int right)
{
  int i;
  int j;
  int k;
  int aux[10000];
  for (i = m + 1; i > left; i--)
  {
    aux[i - 1] = a[i - 1];
  }

  for (j = m; j < right; j++)
  {
    aux[(right + m) - j] = a[j + 1];
  }

  for (k = left; k <= right; k++)
  {
    if ((aux[j] < aux[i]) || (i > m))
    {
      {
        a[k] = aux[j--];
      }
    }
    else
    {
      {
        a[k] = aux[i++];
      }
    }

  }

}

void mergesort(int a[], int left, int right)
{
  int m = (right + left) / 2;
  if (right <= left)
  {
    {
      return;
    }
  }
  else
  {
    
  }

  mergesort(a, left, m);
  mergesort(a, m + 1, right);
  merge(a, left, m, right);
}

void l(produto produtos[10000], int i)
{
  int precos[10000] = {0};
  int ids[10000] = {0};
  int a;
  int j;
  int k;
  int contador;
  int aux;
  int l;
  int r;
  int c;
  contador = (aux = (l = (r = (c = 0))));
  for (a = 0; a < i; a++)
  {
    if (produtos[a].preco > 0)
    {
      {
        precos[c] = produtos[a].preco;
        c++;
        r++;
      }
    }
    else
    {
      
    }

  }

  r--;
  mergesort(precos, l, r);
  printf("Produtos\n");
  r++;
  for (a = 0; a < r; a++)
  {
    for (j = 0; j < i; j++)
    {
      if (precos[a] == produtos[j].preco)
      {
        {
          if ((a != 0) && (precos[a] == precos[a - 1]))
          {
            {
              for (k = 0; k < aux; k++)
              {
                if (produtos[j].idp == ids[k])
                {
                  {
                    contador++;
                    break;
                  }
                }
                else
                {
                  
                }

              }

              if (contador == 1)
              {
                {
                  contador = 0;
                }
              }
              else
              {
                {
                  ids[aux] = produtos[j].idp;
                  aux++;
                  printf("* %s %d %d\n", produtos[j].desc, precos[a], produtos[j].quantidade);
                  break;
                }
              }

            }
          }
          else
          {
            {
              ids[aux] = produtos[j].idp;
              aux++;
              printf("* %s %d %d\n", produtos[j].desc, precos[a], produtos[j].quantidade);
              break;
            }
          }

        }
      }
      else
      {
        
      }

    }

  }

}

void merge2(char a[][63], int left, int m, int right)
{
  int i;
  int j;
  int k;
  char aux[10000][63];
  for (i = m + 1; i > left; i--)
  {
    strcpy(aux[i - 1], a[i - 1]);
  }

  for (j = m; j < right; j++)
  {
    strcpy(aux[(right + m) - j], a[j + 1]);
  }

  for (k = left; k <= right; k++)
  {
    if ((strcmp(aux[j], aux[i]) < 0) || (i > m))
    {
      {
        strcpy(a[k], aux[j--]);
      }
    }
    else
    {
      {
        strcpy(a[k], aux[i++]);
      }
    }

  }

}

void mergesort2(char a[][63], int left, int right)
{
  int m = (right + left) / 2;
  if (right <= left)
  {
    {
      return;
    }
  }
  else
  {
    
  }

  mergesort2(a, left, m);
  mergesort2(a, m + 1, right);
  merge2(a, left, m, right);
}

void L(encomenda encomendas[500], int e)
{
  int ide;
  int i;
  int a;
  int aux = 0;
  int l = 0;
  int r = 0;
  char desc[10000][63];
  ide = new_sym_var(sizeof(int) * 8);
  if (ide >= e)
  {
    {
      printf("Impossivel listar encomenda %d. Encomenda inexistente.\n", ide);
    }
  }
  else
  {
    {
      printf("Encomenda %d\n", ide);
      for (i = 0; i < 10000; i++)
      {
        if (encomendas[ide].produtos[i].quantidade > 0)
        {
          {
            strcpy(desc[aux], encomendas[ide].produtos[i].desc);
            aux++;
            r++;
          }
        }
        else
        {
          
        }

      }

      r--;
      mergesort2(desc, l, r);
      for (i = 0; i < aux; i++)
      {
        for (a = 0; a < 10000; a++)
        {
          if (strcmp(desc[i], encomendas[ide].produtos[a].desc) == 0)
          {
            {
              printf("* %s %d %d\n", desc[i], encomendas[ide].produtos[a].preco, encomendas[ide].produtos[a].quantidade);
              break;
            }
          }
          else
          {
            
          }

        }

      }

    }
  }

}

int main()
{
  int i = 0;
  int e = 0;
  int b;
  int c;
  c = getchar();
  for (b = 0; b < 500; b++)
  {
    encomendas[b].peso = 0;
  }

  while ((c != EOF) && (c != '\n'))
  {
    if (c == 'a')
    {
      {
        getchar();
        a(produtos, i);
        i++;
      }
    }
    else
    {
      
    }

    if (c == 'q')
    {
      {
        getchar();
        q(produtos, i);
      }
    }
    else
    {
      
    }

    if (c == 'N')
    {
      {
        N(encomendas, e);
        e++;
      }
    }
    else
    {
      
    }

    if (c == 'A')
    {
      {
        getchar();
        A(encomendas, produtos, e, i);
      }
    }
    else
    {
      
    }

    if (c == 'r')
    {
      {
        getchar();
        r(produtos, i);
      }
    }
    else
    {
      
    }

    if (c == 'R')
    {
      {
        getchar();
        R(encomendas, produtos, e, i);
      }
    }
    else
    {
      
    }

    if (c == 'C')
    {
      {
        getchar();
        C(encomendas, e);
      }
    }
    else
    {
      
    }

    if (c == 'p')
    {
      {
        getchar();
        p(produtos, encomendas, i);
      }
    }
    else
    {
      
    }

    if (c == 'E')
    {
      {
        getchar();
        E(encomendas, produtos, e, i);
      }
    }
    else
    {
      
    }

    if (c == 'm')
    {
      {
        getchar();
        m(encomendas, e, i);
      }
    }
    else
    {
      
    }

    if (c == 'l')
    {
      {
        l(produtos, i);
      }
    }
    else
    {
      
    }

    if (c == 'L')
    {
      {
        getchar();
        L(encomendas, e);
      }
    }
    else
    {
      
    }

    if (c == 'x')
    {
      {
        break;
      }
    }
    else
    {
      
    }

    c = getchar();
  }

  return 0;
}

