/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <stdlib.h>
#include <string.h>


typedef struct Produto
{
  int id;
  char desc[64];
  int preco;
  int peso;
  int stock;
} produto;
typedef struct Encomenda
{
  int id;
  int idprodutos[200];
  int quantidadestock[200];
  int peso;
  int custo;
  int numeroDeProdutos;
} encomenda;
int main()
{
  char comando;
  char tmp[100];
  char tmp2[100];
  char adiciona[100];
  int comandoA = 0;
  int comandoE = 0;
  int altera = 1;
  int i;
  int f;
  int ocorrenciaProduto = 0;
  int idOcorrencia = 0;
  produto listaProdutos[10000];
  encomenda listaEncomendas[500];
  comando = new_sym_var(sizeof(char) * 8);
  for (;;)
  {
    switch (comando)
    {
      case 'a':
      {
        listaProdutos[comandoA].id = comandoA;
        for (int listaProdutos_index = 0; listaProdutos_index < 10; listaProdutos_index++)
        {
          listaProdutos[comandoA].desc[listaProdutos_index] = new_sym_var(sizeof(char) * 8);
        }

        listaProdutos[comandoA].desc[10 - 1] = '\0';
        for (int tmp_index = 0; tmp_index < 10; tmp_index++)
        {
          tmp[tmp_index] = new_sym_var(sizeof(char) * 8);
        }

        tmp[10 - 1] = '\0';
        listaProdutos[comandoA].preco = atoi(tmp);
        for (int tmp_index = 0; tmp_index < 10; tmp_index++)
        {
          tmp[tmp_index] = new_sym_var(sizeof(char) * 8);
        }

        tmp[10 - 1] = '\0';
        listaProdutos[comandoA].peso = atoi(tmp);
        for (int tmp_index = 0; tmp_index < 10; tmp_index++)
        {
          tmp[tmp_index] = new_sym_var(sizeof(char) * 8);
        }

        tmp[10 - 1] = '\0';
        listaProdutos[comandoA].stock = atoi(tmp);
        printf("Novo produto %i.\n", listaProdutos[comandoA].id);
        comandoA++;
        break;
      }

      case 'q':
      {
        for (int tmp_index = 0; tmp_index < 10; tmp_index++)
        {
          tmp[tmp_index] = new_sym_var(sizeof(char) * 8);
        }

        tmp[10 - 1] = '\0';
        if (strlen(listaProdutos[atoi(tmp)].desc) == 0)
        {
          {
            printf("Impossivel adicionar produto %s ao stock. Produto inexistente.\n", tmp);
            break;
          }
        }
        else
        {
          
        }

        for (int adiciona_index = 0; adiciona_index < 10; adiciona_index++)
        {
          adiciona[adiciona_index] = new_sym_var(sizeof(char) * 8);
        }

        adiciona[10 - 1] = '\0';
        listaProdutos[atoi(tmp)].stock += atoi(adiciona);
        break;
      }

      case 'N':
      {
        listaEncomendas[comandoE].id = comandoE;
        printf("Nova encomenda %i.\n", listaEncomendas[comandoE].id);
        listaEncomendas[comandoE].peso = 0;
        listaEncomendas[comandoE].custo = 0;
        listaEncomendas[comandoE].numeroDeProdutos = 0;
        comandoE++;
        break;
      }

      case 'A':
      {
        for (int tmp_index = 0; tmp_index < 10; tmp_index++)
        {
          tmp[tmp_index] = new_sym_var(sizeof(char) * 8);
        }

        tmp[10 - 1] = '\0';
        for (int tmp2_index = 0; tmp2_index < 10; tmp2_index++)
        {
          tmp2[tmp2_index] = new_sym_var(sizeof(char) * 8);
        }

        tmp2[10 - 1] = '\0';
        if (comandoE <= atoi(tmp))
        {
          {
            printf("Impossivel adicionar produto %s a encomenda %s. Encomenda inexistente.\n", tmp2, tmp);
            break;
          }
        }
        else
        {
          
        }

        if (strlen(listaProdutos[atoi(tmp2)].desc) == 0)
        {
          {
            printf("Impossivel adicionar produto %s a encomenda %s. Produto inexistente.\n", tmp2, tmp);
            break;
          }
        }
        else
        {
          
        }

        for (int adiciona_index = 0; adiciona_index < 10; adiciona_index++)
        {
          adiciona[adiciona_index] = new_sym_var(sizeof(char) * 8);
        }

        adiciona[10 - 1] = '\0';
        if (listaProdutos[atoi(tmp2)].stock < atoi(adiciona))
        {
          {
            printf("Impossivel adicionar produto %s a encomenda %s. Quantidade em stock insuficiente.\n", tmp2, tmp);
            break;
          }
        }
        else
        {
          
        }

        if (((atoi(adiciona) * listaProdutos[atoi(tmp2)].peso) + listaEncomendas[atoi(tmp)].peso) > 200)
        {
          {
            printf("Impossivel adicionar produto %s a encomenda %s. Peso da encomenda excede o maximo de 200.\n", tmp2, tmp);
            break;
          }
        }
        else
        {
          
        }

        for (i = 0; i < listaEncomendas[atoi(tmp)].numeroDeProdutos; i++)
        {
          if (listaEncomendas[atoi(tmp)].idprodutos[i] == atoi(tmp2))
          {
            {
              listaEncomendas[atoi(tmp)].quantidadestock[i] += atoi(adiciona);
              listaEncomendas[atoi(tmp)].peso = listaEncomendas[atoi(tmp)].peso + (atoi(adiciona) * listaProdutos[atoi(tmp2)].peso);
              listaProdutos[atoi(tmp2)].stock -= atoi(adiciona);
              goto fim;
            }
          }
          else
          {
            
          }

        }

        listaEncomendas[atoi(tmp)].idprodutos[listaEncomendas[atoi(tmp)].numeroDeProdutos] = atoi(tmp2);
        listaEncomendas[atoi(tmp)].quantidadestock[listaEncomendas[atoi(tmp)].numeroDeProdutos] = atoi(adiciona);
        listaEncomendas[atoi(tmp)].peso = listaEncomendas[atoi(tmp)].peso + (atoi(adiciona) * listaProdutos[atoi(tmp2)].peso);
        listaProdutos[atoi(tmp2)].stock -= atoi(adiciona);
        if (altera)
        {
          {
            listaEncomendas[atoi(tmp)].numeroDeProdutos++;
          }
        }
        else
        {
          
        }

        fim:
        break;

      }

      case 'r':
      {
        for (int tmp_index = 0; tmp_index < 10; tmp_index++)
        {
          tmp[tmp_index] = new_sym_var(sizeof(char) * 8);
        }

        tmp[10 - 1] = '\0';
        if (strlen(listaProdutos[atoi(tmp)].desc) == 0)
        {
          {
            printf("Impossivel remover stock do produto %s. Produto inexistente.\n", tmp);
            break;
          }
        }
        else
        {
          
        }

        for (int adiciona_index = 0; adiciona_index < 10; adiciona_index++)
        {
          adiciona[adiciona_index] = new_sym_var(sizeof(char) * 8);
        }

        adiciona[10 - 1] = '\0';
        if (listaProdutos[atoi(tmp)].stock < atoi(adiciona))
        {
          {
            printf("Impossivel remover %s unidades do produto %i do stock. Quantidade insuficiente.\n", adiciona, listaProdutos[atoi(tmp)].id);
            break;
          }
        }
        else
        {
          
        }

        listaProdutos[atoi(tmp)].stock -= atoi(adiciona);
        break;
      }

      case 'R':
      {
        for (int tmp_index = 0; tmp_index < 10; tmp_index++)
        {
          tmp[tmp_index] = new_sym_var(sizeof(char) * 8);
        }

        tmp[10 - 1] = '\0';
        for (int tmp2_index = 0; tmp2_index < 10; tmp2_index++)
        {
          tmp2[tmp2_index] = new_sym_var(sizeof(char) * 8);
        }

        tmp2[10 - 1] = '\0';
        if (comandoE <= atoi(tmp))
        {
          {
            printf("Impossivel remover produto %s a encomenda %s. Encomenda inexistente.\n", tmp2, tmp);
            break;
          }
        }
        else
        {
          
        }

        if (strlen(listaProdutos[atoi(tmp2)].desc) == 0)
        {
          {
            printf("Impossivel remover produto %s a encomenda %s. Produto inexistente.\n", tmp2, tmp);
            break;
          }
        }
        else
        {
          
        }

        for (i = 0; i < listaEncomendas[atoi(tmp)].numeroDeProdutos; i++)
        {
          if (listaEncomendas[atoi(tmp)].idprodutos[i] == atoi(tmp2))
          {
            {
              listaEncomendas[atoi(tmp)].peso -= listaEncomendas[atoi(tmp)].quantidadestock[i] * listaProdutos[atoi(tmp2)].peso;
              listaEncomendas[atoi(tmp)].idprodutos[i] = listaEncomendas[atoi(tmp)].idprodutos[i + 1];
              listaProdutos[atoi(tmp2)].stock += listaEncomendas[atoi(tmp)].quantidadestock[i];
              listaEncomendas[atoi(tmp)].quantidadestock[i] = listaEncomendas[atoi(tmp)].quantidadestock[i + 1];
              for (; i < (listaEncomendas[atoi(tmp)].numeroDeProdutos - 1); i++)
              {
                listaEncomendas[atoi(tmp)].idprodutos[i] = listaEncomendas[atoi(tmp)].idprodutos[i + 1];
                listaEncomendas[atoi(tmp)].quantidadestock[i] = listaEncomendas[atoi(tmp)].quantidadestock[i + 1];
              }

              listaEncomendas[atoi(tmp)].quantidadestock[i + 1] = 0;
              listaEncomendas[atoi(tmp)].numeroDeProdutos--;
              goto final;
            }
          }
          else
          {
            
          }

        }

        final:
        break;

      }

      case 'C':
      {
        for (int tmp_index = 0; tmp_index < 10; tmp_index++)
        {
          tmp[tmp_index] = new_sym_var(sizeof(char) * 8);
        }

        tmp[10 - 1] = '\0';
        if (comandoE <= atoi(tmp))
        {
          {
            printf("Impossivel calcular custo da encomenda %s. Encomenda inexistente.\n", tmp);
            break;
          }
        }
        else
        {
          
        }

        for (i = 0; i < listaEncomendas[atoi(tmp)].numeroDeProdutos; i++)
        {
          listaEncomendas[atoi(tmp)].custo += listaProdutos[listaEncomendas[atoi(tmp)].idprodutos[i]].preco * listaEncomendas[atoi(tmp)].quantidadestock[i];
        }

        printf("Custo da encomenda %s %i.\n", tmp, listaEncomendas[atoi(tmp)].custo);
        listaEncomendas[atoi(tmp)].custo = 0;
        break;
      }

      case 'p':
      {
        for (int tmp_index = 0; tmp_index < 10; tmp_index++)
        {
          tmp[tmp_index] = new_sym_var(sizeof(char) * 8);
        }

        tmp[10 - 1] = '\0';
        if (strlen(listaProdutos[atoi(tmp)].desc) == 0)
        {
          {
            printf("Impossivel alterar preco do produto %s. Produto inexistente.\n", tmp);
            break;
          }
        }
        else
        {
          
        }

        for (int adiciona_index = 0; adiciona_index < 10; adiciona_index++)
        {
          adiciona[adiciona_index] = new_sym_var(sizeof(char) * 8);
        }

        adiciona[10 - 1] = '\0';
        listaProdutos[atoi(tmp)].preco = atoi(adiciona);
        break;
      }

      case 'E':
      {
        for (int tmp_index = 0; tmp_index < 10; tmp_index++)
        {
          tmp[tmp_index] = new_sym_var(sizeof(char) * 8);
        }

        tmp[10 - 1] = '\0';
        for (int tmp2_index = 0; tmp2_index < 10; tmp2_index++)
        {
          tmp2[tmp2_index] = new_sym_var(sizeof(char) * 8);
        }

        tmp2[10 - 1] = '\0';
        if (comandoE <= atoi(tmp))
        {
          {
            printf("Impossivel listar encomenda %s. Encomenda inexistente.\n", tmp);
            break;
          }
        }
        else
        {
          
        }

        if (strlen(listaProdutos[atoi(tmp2)].desc) == 0)
        {
          {
            printf("Impossivel listar produto %s. Produto inexistente.\n", tmp2);
            break;
          }
        }
        else
        {
          
        }

        for (i = 0; i < listaEncomendas[atoi(tmp)].numeroDeProdutos; i++)
        {
          if (listaEncomendas[atoi(tmp)].idprodutos[i] == atoi(tmp2))
          {
            {
              printf("%s %i.\n", listaProdutos[atoi(tmp2)].desc, listaEncomendas[atoi(tmp)].quantidadestock[i]);
              goto terminou;
            }
          }
          else
          {
            
          }

        }

        printf("%s 0.\n", listaProdutos[atoi(tmp2)].desc);
        terminou:
        break;

      }

      case 'm':
      {
        for (int tmp_index = 0; tmp_index < 10; tmp_index++)
        {
          tmp[tmp_index] = new_sym_var(sizeof(char) * 8);
        }

        tmp[10 - 1] = '\0';
        if (strlen(listaProdutos[atoi(tmp)].desc) == 0)
        {
          {
            printf("Impossivel listar maximo do produto %s. Produto inexistente.\n", tmp);
            break;
          }
        }
        else
        {
          
        }

        for (i = 0; i < comandoE; i++)
        {
          for (f = 0; f < listaEncomendas[i].numeroDeProdutos; f++)
          {
            if (listaEncomendas[i].idprodutos[f] == atoi(tmp))
            {
              {
                if (ocorrenciaProduto < listaEncomendas[i].quantidadestock[f])
                {
                  {
                    ocorrenciaProduto = listaEncomendas[i].quantidadestock[f];
                    idOcorrencia = i;
                  }
                }
                else
                {
                  
                }

                if (ocorrenciaProduto == listaEncomendas[i].quantidadestock[f])
                {
                  {
                    if (idOcorrencia > i)
                    {
                      {
                        idOcorrencia = i;
                      }
                    }
                    else
                    {
                      
                    }

                  }
                }
                else
                {
                  
                }

              }
            }
            else
            {
              
            }

          }

        }

        if (ocorrenciaProduto != 0)
        {
          {
            printf("Maximo produto %s %i %i.\n", tmp, idOcorrencia, ocorrenciaProduto);
          }
        }
        else
        {
          
        }

        ocorrenciaProduto = 0;
        idOcorrencia = 0;
        break;
      }

      case 'l':
      {
        break;
      }

      case 'L':
      {
        break;
      }

      case 'x':
      {
        return 0;
      }

    }

    comando = new_sym_var(sizeof(char) * 8);
  }

  return 0;
}

