/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <string.h>


typedef int Item;
typedef struct produto
{
  int preco;
  int peso;
  int qtd;
  char descricao[63];
} Produto;
typedef struct encomenda
{
  int peso;
  int preco;
  int qtd_total;
  int quantidade[10000];
} Encomenda;
Produto todos_produtos[10000];
int idp;
Encomenda todas_encomendas[500];
int ide;
void executa_a()
{
  for (int todos_produtos_index = 0; todos_produtos_index < 10; todos_produtos_index++)
  {
    todos_produtos[idp].descricao[todos_produtos_index] = new_sym_var(sizeof(char) * 8);
  }

  todos_produtos[idp].descricao[10 - 1] = '\0';
  todos_produtos[idp].preco = new_sym_var(sizeof(int) * 8);
  todos_produtos[idp].peso = new_sym_var(sizeof(int) * 8);
  todos_produtos[idp].qtd = new_sym_var(sizeof(int) * 8);
  printf("Novo produto %d.\n", idp);
  idp++;
}

void executa_q()
{
  int idp_exemplo;
  int stock;
  idp_exemplo = new_sym_var(sizeof(int) * 8);
  stock = new_sym_var(sizeof(int) * 8);
  if (idp_exemplo < idp)
  {
    {
      todos_produtos[idp_exemplo].qtd += stock;
    }
  }
  else
  {
    {
      printf("Impossivel adicionar produto %d ao stock. Produto inexistente.\n", idp_exemplo);
    }
  }

}

void executa_N()
{
  printf("Nova encomenda %d.\n", ide);
  ide++;
}

void executa_A()
{
  int ide_exemplo;
  int idp_exemplo;
  int stock;
  ide_exemplo = new_sym_var(sizeof(int) * 8);
  idp_exemplo = new_sym_var(sizeof(int) * 8);
  stock = new_sym_var(sizeof(int) * 8);
  if (ide_exemplo >= ide)
  {
    {
      printf("Impossivel adicionar produto %d a encomenda %d. Encomenda inexistente.\n", idp_exemplo, ide_exemplo);
    }
  }
  else
  {
    if (idp_exemplo >= idp)
    {
      {
        printf("Impossivel adicionar produto %d a encomenda %d. Produto inexistente.\n", idp_exemplo, ide_exemplo);
      }
    }
    else
    {
      if ((todos_produtos[idp_exemplo].qtd - stock) < 0)
      {
        {
          printf("Impossivel adicionar produto %d a encomenda %d. Quantidade em stock insuficiente.\n", idp_exemplo, ide_exemplo);
        }
      }
      else
      {
        if (((todos_produtos[idp_exemplo].peso * stock) + todas_encomendas[ide_exemplo].peso) > 200)
        {
          {
            printf("Impossivel adicionar produto %d a encomenda %d. Peso da encomenda excede o maximo de 200.\n", idp_exemplo, ide_exemplo);
          }
        }
        else
        {
          {
            todas_encomendas[ide_exemplo].peso += todos_produtos[idp_exemplo].peso * stock;
            todas_encomendas[ide_exemplo].preco += todos_produtos[idp_exemplo].preco * stock;
            todos_produtos[idp_exemplo].qtd -= stock;
            todas_encomendas[ide_exemplo].quantidade[idp_exemplo] += stock;
            todas_encomendas[ide_exemplo].qtd_total += stock;
          }
        }

      }

    }

  }

}

void executa_r()
{
  int idp_exemplo;
  int stock;
  idp_exemplo = new_sym_var(sizeof(int) * 8);
  stock = new_sym_var(sizeof(int) * 8);
  if (idp_exemplo >= idp)
  {
    {
      printf("Impossivel remover stock do produto %d. Produto inexistente.\n", idp_exemplo);
    }
  }
  else
  {
    if ((todos_produtos[idp_exemplo].qtd - stock) < 0)
    {
      {
        printf("Impossivel remover %d unidades do produto %d do stock. Quantidade insuficiente.\n", stock, idp_exemplo);
      }
    }
    else
    {
      {
        todos_produtos[idp_exemplo].qtd -= stock;
      }
    }

  }

}

void executa_R()
{
  int ide_exemplo;
  int idp_exemplo;
  ide_exemplo = new_sym_var(sizeof(int) * 8);
  idp_exemplo = new_sym_var(sizeof(int) * 8);
  if (ide_exemplo >= ide)
  {
    {
      printf("Impossivel remover produto %d a encomenda %d. Encomenda inexistente.\n", idp_exemplo, ide_exemplo);
    }
  }
  else
  {
    if (idp_exemplo >= idp)
    {
      {
        printf("Impossivel remover produto %d a encomenda %d. Produto inexistente.\n", idp_exemplo, ide_exemplo);
      }
    }
    else
    {
      {
        todas_encomendas[ide_exemplo].peso -= todas_encomendas[ide_exemplo].quantidade[idp_exemplo] * todos_produtos[idp_exemplo].peso;
        todas_encomendas[ide_exemplo].preco -= todas_encomendas[ide_exemplo].quantidade[idp_exemplo] * todos_produtos[idp_exemplo].preco;
        todos_produtos[idp_exemplo].qtd += todas_encomendas[ide_exemplo].quantidade[idp_exemplo];
        todas_encomendas[ide_exemplo].qtd_total -= todas_encomendas[ide_exemplo].quantidade[idp_exemplo];
        todas_encomendas[ide_exemplo].quantidade[idp_exemplo] = 0;
      }
    }

  }

}

void executa_C()
{
  int ide_exemplo;
  ide_exemplo = new_sym_var(sizeof(int) * 8);
  if (ide_exemplo >= ide)
  {
    {
      printf("Impossivel calcular custo da encomenda %d. Encomenda inexistente.\n", ide_exemplo);
    }
  }
  else
  {
    {
      printf("Custo da encomenda %d %d.\n", ide_exemplo, todas_encomendas[ide_exemplo].preco);
    }
  }

}

void executa_p()
{
  int idp_exemplo;
  int novo_preco;
  idp_exemplo = new_sym_var(sizeof(int) * 8);
  novo_preco = new_sym_var(sizeof(int) * 8);
  if (idp_exemplo >= idp)
  {
    {
      printf("Impossivel alterar preco do produto %d. Produto inexistente.\n", idp_exemplo);
    }
  }
  else
  {
    {
      int ide_exemplo;
      for (ide_exemplo = 0; ide_exemplo < ide; ide_exemplo++)
      {
        todas_encomendas[ide_exemplo].preco -= todas_encomendas[ide_exemplo].quantidade[idp_exemplo] * todos_produtos[idp_exemplo].preco;
        todas_encomendas[ide_exemplo].preco += todas_encomendas[ide_exemplo].quantidade[idp_exemplo] * novo_preco;
      }

      todos_produtos[idp_exemplo].preco = novo_preco;
    }
  }

}

void executa_E()
{
  int ide_exemplo;
  int idp_exemplo;
  ide_exemplo = new_sym_var(sizeof(int) * 8);
  idp_exemplo = new_sym_var(sizeof(int) * 8);
  if (ide_exemplo >= ide)
  {
    {
      printf("Impossivel listar encomenda %d. Encomenda inexistente.\n", ide_exemplo);
    }
  }
  else
  {
    if (idp_exemplo >= idp)
    {
      {
        printf("Impossivel listar produto %d. Produto inexistente.\n", idp_exemplo);
      }
    }
    else
    {
      {
        printf("%s %d.\n", todos_produtos[idp_exemplo].descricao, todas_encomendas[ide_exemplo].quantidade[idp_exemplo]);
      }
    }

  }

}

void executa_m()
{
  int idp_exemplo;
  idp_exemplo = new_sym_var(sizeof(int) * 8);
  if (idp_exemplo >= idp)
  {
    {
      printf("Impossivel listar maximo do produto %d. Produto inexistente.\n", idp_exemplo);
    }
  }
  else
  {
    {
      int ide_exemplo;
      int j = 0;
      int n;
      for (ide_exemplo = 0; ide_exemplo < ide; ide_exemplo++)
      {
        if (todas_encomendas[ide_exemplo].quantidade[idp_exemplo] > j)
        {
          {
            j = todas_encomendas[ide_exemplo].quantidade[idp_exemplo];
            n = ide_exemplo;
          }
        }
        else
        {
          
        }

      }

      if (j > 0)
      {
        {
          printf("Maximo produto %d %d %d.\n", idp_exemplo, n, j);
        }
      }
      else
      {
        
      }

    }
  }

}

int partition(Item a[], int l, int r)
{
  int i = l - 1;
  int j = r;
  Item v = a[r];
  while (i < j)
  {
    while (a[++i] < v)
      ;

    while (v < a[--j])
      if (j == l)
    {
      break;
    }
    else
    {
      
    }


    if (i < j)
    {
      {
        Item t = a[i];
        a[i] = a[j];
        a[j] = t;
      }
    }
    else
    {
      
    }

    ;
  }

  {
    Item t = a[i];
    a[i] = a[r];
    a[r] = t;
  }
  ;
  return i;
}

void quicksort(Item a[], int l, int r)
{
  int i;
  if (r <= l)
  {
    return;
  }
  else
  {
    
  }

  i = partition(a, l, r);
  quicksort(a, l, i - 1);
  quicksort(a, i + 1, r);
}

void executa_l()
{
  int idp_exemplo;
  int j;
  int vet[10000];
  for (idp_exemplo = 0; idp_exemplo < idp; idp_exemplo++)
  {
    vet[idp_exemplo] = todos_produtos[idp_exemplo].preco;
  }

  quicksort(vet, 0, idp - 1);
  printf("Produtos\n");
  for (j = 0; j < idp; j++)
  {
    for (idp_exemplo = 0; idp_exemplo < idp; idp_exemplo++)
    {
      if (vet[j] == todos_produtos[idp_exemplo].preco)
      {
        {
          printf("* %s %d %d\n", todos_produtos[idp_exemplo].descricao, vet[j], todos_produtos[idp_exemplo].qtd);
          break;
        }
      }
      else
      {
        
      }

    }

  }

}

void executa_L()
{
  int i = 0;
  int n = 0;
  int ide_exemplo;
  int idp_exemplo;
  int j;
  char str[10000][63];
  char temp[63];
  ide_exemplo = new_sym_var(sizeof(int) * 8);
  if (ide_exemplo >= ide)
  {
    {
      printf("Impossivel listar encomenda %d. Encomenda inexistente.\n", ide_exemplo);
    }
  }
  else
  {
    {
      for (idp_exemplo = 0; idp_exemplo < idp; idp_exemplo++)
      {
        if (todas_encomendas[ide_exemplo].quantidade[idp_exemplo] > 0)
        {
          {
            strcpy(str[n], todos_produtos[idp_exemplo].descricao);
            n++;
          }
        }
        else
        {
          
        }

      }

      for (i = 0; i <= n; i++)
        for (j = i + 1; j <= n; j++)
      {
        if (strcmp(str[i], str[j]) > 0)
        {
          {
            strcpy(temp, str[i]);
            strcpy(str[i], str[j]);
            strcpy(str[j], temp);
          }
        }
        else
        {
          
        }

      }


      printf("Encomenda %d\n", ide_exemplo);
      for (j = 0; j < n; j++)
      {
        for (idp_exemplo = 0; idp_exemplo < idp; idp_exemplo++)
        {
          if (strcmp(str[j], todos_produtos[idp_exemplo].descricao))
          {
            {
              printf("* %s %d %d\n", str[j], todos_produtos[idp_exemplo].preco, todas_encomendas[ide_exemplo].quantidade[idp_exemplo]);
              break;
            }
          }
          else
          {
            
          }

        }

      }

    }
  }

}

int main()
{
  char comando;
  while ((comando = getchar()) != 'x')
  {
    switch (comando)
    {
      case 'a':
        executa_a();
        break;

      case 'q':
        executa_q();
        break;

      case 'N':
        executa_N();
        break;

      case 'A':
        executa_A();
        break;

      case 'r':
        executa_r();
        break;

      case 'R':
        executa_R();
        break;

      case 'C':
        executa_C();
        break;

      case 'p':
        executa_p();
        break;

      case 'E':
        executa_E();
        break;

      case 'm':
        executa_m();
        break;

      case 'l':
        executa_l();
        break;

      case 'L':
        executa_L();
        break;

    }

    getchar();
  }

  return 0;
}

