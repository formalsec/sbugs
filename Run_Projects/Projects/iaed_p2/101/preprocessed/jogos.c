/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "jogos.h"


int hash(Chave value, int M)
{
  unsigned int h;
  unsigned int a = 31415;
  unsigned int b = 27183;
  for (h = 0; (*value) != '\0'; value++, a = (a * b) % (M - 1))
    h = ((a * h) + (*value)) % M;

  return h;
}

Jogos *init_jogos()
{
  Jogos *Lst = malloc(sizeof(Jogos));
  Lst->head = 0;
  Lst->last = 0;
  return Lst;
}

Equipas *init_equipas()
{
  Equipas *Lst = malloc(sizeof(Equipas));
  Lst->head = 0;
  Lst->last = 0;
  return Lst;
}

Jogo *novo_jogo()
{
  Jogo *J = malloc(sizeof(Jogo));
  J->nome = 0;
  J->next = 0;
  J->prev = 0;
  J->score[0] = 0;
  J->score[1] = 0;
  J->Equipas[0] = 0;
  J->Equipas[1] = 0;
  return J;
}

Equipa *nova_equipa()
{
  Equipa *E = malloc(sizeof(Equipa));
  E->nome = 0;
  E->next = 0;
  E->jganhos = 0;
  return E;
}

Jogos *remove_jogo(Jogos *Lst, char *text)
{
  Jogo *aux;
  for (aux = Lst->head; aux != 0; aux = aux->next)
    if (strcmp(aux->nome, text) == 0)
  {
    if (aux == Lst->head)
    {
      Lst->head = aux->next;
    }
    else
    {
      if (aux == Lst->last)
      {
        Lst->last = aux->prev;
      }
      else
      {
        
      }

    }

    if (aux->prev != 0)
    {
      aux->prev->next = aux->next;
    }
    else
    {
      
    }

    if (aux->next != 0)
    {
      aux->next->prev = aux->prev;
    }
    else
    {
      
    }

    elimina_jogo(aux);
    break;
  }
  else
  {
    
  }


  return Lst;
}

unsigned int encontra_max(Equipas *Lst)
{
  Equipa *aux;
  unsigned int Max = 0;
  for (aux = Lst->head; aux != 0; aux = aux->next)
    if (aux->jganhos > Max)
  {
    Max = aux->jganhos;
  }
  else
  {
    
  }


  return Max;
}

int encontra_melhores(Equipas *Lst, unsigned int Max, char **Nomes)
{
  int i = 0;
  Equipa *aux;
  for (aux = Lst->head; aux != 0; aux = aux->next)
    if (aux->jganhos == Max)
  {
    Nomes[i++] = aux->nome;
  }
  else
  {
    
  }


  return i;
}

int compare(const void *a, const void *b)
{
  const char *A = *((const char **) a);
  const char *B = *((const char **) b);
  return strcmp(A, B);
}

void elimina_jogo(Jogo *J)
{
  free(J->nome);
  free(J->Equipas[0]);
  free(J->Equipas[1]);
  free(J);
}

void elimina_equipa(Equipa *E)
{
  free(E->nome);
  free(E);
}

