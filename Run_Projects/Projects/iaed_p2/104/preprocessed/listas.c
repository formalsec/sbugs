/*File generated by PreProcessor.py*/


#include <string.h>
#include <stdlib.h>
#include "equipa.h"
#include "jogo.h"
#include "listas.h"


lstEquipas criar_lst_equipas()
{
  lstEquipas lista = (lstEquipas) malloc(sizeof(struct lst_equipas));
  lista->primeiro = 0;
  lista->ultimo = 0;
  return lista;
}

void adicionar_equipa_lst(lstEquipas lista, ptrEquipa equipa)
{
  linkEquipa nova_equipa;
  nova_equipa = (linkEquipa) malloc(sizeof(struct no_equipa));
  nova_equipa->equipa = equipa;
  nova_equipa->ant = lista->ultimo;
  nova_equipa->prox = 0;
  if (lista->primeiro == 0)
  {
    lista->primeiro = nova_equipa;
    lista->ultimo = nova_equipa;
  }
  else
  {
    lista->ultimo->prox = nova_equipa;
    lista->ultimo = nova_equipa;
  }

}

linkEquipa procurar_equipa_lst(lstEquipas lista, char *nome)
{
  linkEquipa aux;
  for (aux = lista->primeiro; aux != 0; aux = aux->prox)
    if (!strcmp(aux->equipa->nome, nome))
  {
    return aux;
  }
  else
  {
    
  }


  return 0;
}

void remover_equipa_lst(lstEquipas lista, linkEquipa equipa)
{
  if ((equipa == lista->primeiro) && (equipa == lista->ultimo))
  {
    lista->primeiro = 0;
    lista->ultimo = 0;
  }
  else
  {
    if (equipa == lista->primeiro)
    {
      lista->primeiro = equipa->prox;
      lista->primeiro->ant = 0;
    }
    else
    {
      if (equipa == lista->ultimo)
      {
        lista->ultimo = equipa->ant;
        lista->ultimo->prox = 0;
      }
      else
      {
        equipa->ant->prox = equipa->prox;
        equipa->prox->ant = equipa->ant;
      }

    }

  }

  free(equipa);
}

int comp_lst_equipas(lstEquipas lista)
{
  int cont = 0;
  linkEquipa aux;
  for (aux = lista->primeiro; aux != 0; aux = aux->prox)
    cont++;

  return cont;
}

void limpar_lst_equipas(lstEquipas lista)
{
  linkEquipa aux1;
  linkEquipa aux2;
  aux1 = lista->primeiro;
  while (aux1 != 0)
  {
    aux2 = aux1;
    aux1 = aux1->prox;
    remover_equipa_lst(lista, aux2);
  }

}

void apagar_lst_equipas(lstEquipas lista)
{
  linkEquipa aux;
  while (lista->primeiro != 0)
  {
    aux = lista->primeiro;
    lista->primeiro = lista->primeiro->prox;
    free(aux);
  }

  free(lista);
}

void apagar_lst_mais_equipas(lstEquipas lista)
{
  linkEquipa aux;
  while (lista->primeiro != 0)
  {
    aux = lista->primeiro;
    lista->primeiro = lista->primeiro->prox;
    eliminar_equipa(aux->equipa);
    free(aux);
  }

  free(lista);
}

lstJogos criar_lst_jogos()
{
  lstJogos lista = (lstJogos) malloc(sizeof(struct lst_jogos));
  lista->primeiro = 0;
  return lista;
}

void adicionar_jogo_lst(lstJogos lista, ptrJogo jogo)
{
  linkJogo novo_jogo;
  novo_jogo = (linkJogo) malloc(sizeof(struct no_jogo));
  novo_jogo->jogo = jogo;
  novo_jogo->prox = 0;
  if (lista->primeiro == 0)
  {
    novo_jogo->ant = 0;
    lista->primeiro = novo_jogo;
    lista->ultimo = novo_jogo;
  }
  else
  {
    novo_jogo->ant = lista->ultimo;
    lista->ultimo->prox = novo_jogo;
    lista->ultimo = novo_jogo;
  }

}

linkJogo procurar_jogo_lst(lstJogos lista, char *nome)
{
  linkJogo aux;
  for (aux = lista->primeiro; aux != 0; aux = aux->prox)
    if (!strcmp(aux->jogo->nome, nome))
  {
    return aux;
  }
  else
  {
    
  }


  return 0;
}

void remover_jogo_lst(lstJogos lista, linkJogo jogo)
{
  if ((jogo == lista->primeiro) && (jogo == lista->ultimo))
  {
    lista->primeiro = 0;
    lista->ultimo = 0;
  }
  else
  {
    if (jogo == lista->primeiro)
    {
      lista->primeiro = jogo->prox;
      lista->primeiro->ant = 0;
    }
    else
    {
      if (jogo == lista->ultimo)
      {
        lista->ultimo = jogo->ant;
        lista->ultimo->prox = 0;
      }
      else
      {
        jogo->ant->prox = jogo->prox;
        jogo->prox->ant = jogo->ant;
      }

    }

  }

  free(jogo);
}

void apagar_lst_jogos(lstJogos lista)
{
  linkJogo aux;
  while (lista->primeiro != 0)
  {
    aux = lista->primeiro;
    lista->primeiro = lista->primeiro->prox;
    free(aux);
  }

  free(lista);
}

void apagar_lst_mais_jogos(lstJogos lista)
{
  linkJogo aux;
  while (lista->primeiro != 0)
  {
    aux = lista->primeiro;
    lista->primeiro = lista->primeiro->prox;
    eliminar_jogo(aux->jogo);
    free(aux);
  }

  free(lista);
}

