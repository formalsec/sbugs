/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "equipa.h"
#include "jogo.h"


Jogo novo_jogo(char *nome, Equipa eq1, Equipa eq2, int score1, int score2)
{
  Jogo novo = (Jogo) malloc(sizeof(struct jg));
  novo->nome = strdup(nome);
  novo->equipa1 = eq1;
  novo->equipa2 = eq2;
  novo->score1 = score1;
  novo->score2 = score2;
  if (score1 > score2)
  {
    altera_vitorias_eq(eq1, 1);
  }
  else
  {
    if (score2 > score1)
    {
      altera_vitorias_eq(eq2, 1);
    }
    else
    {
      
    }

  }

  return novo;
}

char *nome_jogo(Jogo jg)
{
  return jg->nome;
}

void escreve_jogo(Jogo jg, int NL)
{
  char *nome = jg->nome;
  Equipa eq1 = jg->equipa1;
  Equipa eq2 = jg->equipa2;
  int score1 = jg->score1;
  int score2 = jg->score2;
  char *nome_eq1 = nome_equipa(eq1);
  char *nome_eq2 = nome_equipa(eq2);
  printf("%d %s %s %s %d %d\n", NL, nome, nome_eq1, nome_eq2, score1, score2);
}

Equipa vencedor_jogo(Jogo jogo)
{
  if (jogo->score1 > jogo->score2)
  {
    return jogo->equipa1;
  }
  else
  {
    if (jogo->score2 > jogo->score1)
    {
      return jogo->equipa2;
    }
    else
    {
      return 0;
    }

  }

}

void atualiza_scores_jg(Jogo jg, int score1, int score2)
{
  jg->score1 = score1;
  jg->score2 = score2;
}

void apaga_jogo(Jogo jogo)
{
  free(jogo->nome);
  free(jogo);
}

