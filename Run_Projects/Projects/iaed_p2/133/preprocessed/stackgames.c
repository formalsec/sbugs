/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include "games.h"
#include "stackgames.h"
#include "shared.h"


stacks *create_game_stack(char *name)
{
  stacks *new = (stacks *) malloc(sizeof(stacks));
  new->name = strduplicate(name);
  new->next = 0;
  return new;
}

void insert_game_stack(char *name, stacks **stack, stacks **head_stack)
{
  stacks *new = create_game_stack(name);
  if ((*stack) == 0)
  {
    {
      *stack = new;
      *head_stack = new;
    }
  }
  else
  {
    {
      (*head_stack)->next = new;
      *head_stack = new;
    }
  }

}

void remove_game_stack(stacks **stack, games *game, stacks **head)
{
  stacks *i = *stack;
  stacks *follow = i->next;
  if (strcmp(i->name, game->name) == 0)
  {
    {
      *stack = i->next;
      free(i->name);
      free(i);
    }
  }
  else
  {
    {
      for (; follow != 0; i = i->next, follow = follow->next)
      {
        if (strcmp(follow->name, game->name) == 0)
        {
          {
            i->next = follow->next;
            break;
          }
        }
        else
        {
          
        }

      }

      if (strcmp(follow->name, (*head)->name) == 0)
      {
        {
          *head = i;
        }
      }
      else
      {
        
      }

      free(follow->name);
      free(follow);
    }
  }

}

void print_stack(games **lst_games, stacks **stack, int nl)
{
  stacks *i = *stack;
  games *read;
  if ((*stack) != 0)
  {
    {
      for (; i != 0; i = i->next)
      {
        read = get_game(lst_games, i->name);
        printf("%d %s %s %s %d %d\n", nl, read->name, read->team1, read->team2, read->score1, read->score2);
      }

    }
  }
  else
  {
    
  }

}

void free_stack_games(stacks **stack, stacks **head)
{
  stacks *i = *stack;
  stacks *follow = i;
  for (; follow != 0;)
  {
    i = follow;
    follow = i->next;
    free(i->name);
    free(i);
  }

  free(head);
  free(stack);
}

