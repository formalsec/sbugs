/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "hash.h"


int Equipa_hash(char *nome, int M)
{
  int h;
  int a = 31415;
  int b = 27183;
  for (h = 0; (*nome) != '\0'; nome++, a = (a * b) % (M - 1))
  {
    h = ((a * h) + (*nome)) % M;
  }

  return h;
}

equipa *Equipa_init(int m, unsigned int *M, equipa *Equipa)
{
  int i;
  *M = m;
  Equipa = (equipa *) malloc(m * (sizeof(equipa)));
  for (i = 0; i < m; i++)
  {
    Equipa[i] = 0;
  }

  return Equipa;
}

void Equipa_insert(int M, equipa *Equipa, equipa p)
{
  unsigned int i = Equipa_hash(p->nome, M);
  while (Equipa[i] != 0)
  {
    i = (i + 1) % M;
  }

  Equipa[i] = p;
}

equipa Equipa_search(int M, char Nome[], equipa *Equipa)
{
  unsigned int i = Equipa_hash(Nome, M);
  while (Equipa[i] != 0)
  {
    if (strcmp(Equipa[i]->nome, Nome) == 0)
    {
      return Equipa[i];
    }
    else
    {
      i = (i + 1) % M;
    }

  }

  return 0;
}

void Equipa_FREE(unsigned int M, equipa *Equipa)
{
  unsigned int j;
  for (j = 0; j < M; j++)
  {
    if (Equipa[j] != 0)
    {
      free(Equipa[j]->nome);
      free(Equipa[j]);
    }
    else
    {
      
    }

  }

  free(Equipa);
}

equipa *Equipa_expand(unsigned int *M, equipa *Equipa)
{
  unsigned int i;
  equipa *p = Equipa;
  Equipa = Equipa_init((*M) + (*M), M, Equipa);
  for (i = 0; i < ((*M) / 2); i++)
  {
    if (p[i] != 0)
    {
      Equipa_insert(*M, Equipa, p[i]);
    }
    else
    {
      
    }

  }

  free(p);
  return Equipa;
}

int Jogo_hash(char *nome, int N)
{
  unsigned int h;
  int a = 31415;
  int b = 27183;
  for (h = 0; (*nome) != '\0'; nome++, a = (a * b) % (N - 1))
  {
    h = ((a * h) + (*nome)) % N;
  }

  return h;
}

jogo *Jogo_init(int m, unsigned int *N, jogo *Jogo)
{
  int i;
  *N = m;
  Jogo = (jogo *) malloc(m * (sizeof(jogo)));
  for (i = 0; i < m; i++)
  {
    Jogo[i] = 0;
  }

  return Jogo;
}

void Jogo_insert(int N, jogo *Jogo, jogo p)
{
  unsigned int i = Jogo_hash(p->nome, N);
  while (Jogo[i] != 0)
  {
    i = (i + 1) % N;
  }

  Jogo[i] = p;
}

jogo Jogo_search(int N, char Nome[], jogo *Jogo)
{
  unsigned int i = Jogo_hash(Nome, N);
  while (Jogo[i] != 0)
  {
    if (strcmp(Jogo[i]->nome, Nome) == 0)
    {
      return Jogo[i];
    }
    else
    {
      i = (i + 1) % N;
    }

  }

  return 0;
}

void Jogo_delete(unsigned int N, char Nome[], jogo *Jogo)
{
  unsigned int j;
  unsigned int i = Jogo_hash(Nome, N);
  jogo p;
  while (Jogo[i] != 0)
  {
    if (strcmp(Jogo[i]->nome, Nome) == 0)
    {
      break;
    }
    else
    {
      i = (i + 1) % N;
    }

  }

  if (Jogo[i] == 0)
  {
    return;
  }
  else
  {
    
  }

  free(Jogo[i]->nome);
  free(Jogo[i]);
  Jogo[i] = 0;
  for (j = (i + 1) % N; Jogo[j] != 0; j = (j + 1) % N)
  {
    p = Jogo[j];
    Jogo[j] = 0;
    Jogo_insert(N, Jogo, p);
  }

}

void Jogo_FREE(unsigned int N, jogo *Jogo)
{
  unsigned int j;
  for (j = 0; j < N; j++)
  {
    if (Jogo[j] != 0)
    {
      free(Jogo[j]->nome);
      free(Jogo[j]);
    }
    else
    {
      
    }

  }

  free(Jogo);
}

jogo *Jogo_expand(unsigned int *M, jogo *Jogo)
{
  unsigned int i;
  jogo *p = Jogo;
  Jogo = Jogo_init((*M) + (*M), M, Jogo);
  for (i = 0; i < ((*M) / 2); i++)
  {
    if (p[i] != 0)
    {
      Jogo_insert(*M, Jogo, p[i]);
    }
    else
    {
      
    }

  }

  free(p);
  return Jogo;
}

