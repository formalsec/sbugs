/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include "hash_eq.h"


Equipa cria_equipa(char *nome, int pontos)
{
  Equipa nova = (Equipa) malloc(sizeof(struct equipa));
  nova->nome = str_dup(nome);
  nova->pontos = pontos;
  return nova;
}

void destroi_equipa(Equipa equipa)
{
  free(equipa->nome);
  free(equipa);
}

void apaga_nodulo(lEquipa nodulo)
{
  destroi_equipa(nodulo->equipa);
  free(nodulo);
}

lEquipa insere_eq_lista(lEquipa inicio, Equipa equipa)
{
  lEquipa novo = (lEquipa) malloc(sizeof(struct nodulo));
  novo->equipa = equipa;
  novo->prox = inicio;
  return novo;
}

Equipa procura_eq_lista(lEquipa inicio, char nome[1024])
{
  if (inicio == 0)
  {
    {
      return 0;
    }
  }
  else
  {
    
  }

  if (strcmp(nome, inicio->equipa->nome) == 0)
  {
    {
      return inicio->equipa;
    }
  }
  else
  {
    
  }

  return procura_eq_lista(inicio->prox, nome);
}

void destroi_lista_eq(lEquipa inicio)
{
  lEquipa atual;
  lEquipa aux;
  if (!inicio)
  {
    {
      return;
    }
  }
  else
  {
    
  }

  for (atual = inicio, aux = inicio->prox; atual; aux = atual->prox, apaga_nodulo(atual), atual = aux)
  {
    ;
  }

}

lEquipa *inicializa_eq()
{
  int i;
  int m = 1049;
  lEquipa *equipas = (lEquipa *) malloc(m * (sizeof(lEquipa)));
  for (i = 0; i < m; i++)
  {
    equipas[i] = 0;
  }

  return equipas;
}

void insere_equipa_hash(lEquipa *equipas, Equipa equipa)
{
  int i = hash(equipa->nome, 1049);
  equipas[i] = insere_eq_lista(equipas[i], equipa);
}

void destroi_hash_eq(lEquipa *equipas)
{
  int i;
  int m = 1049;
  for (i = 0; i < m; i++)
  {
    destroi_lista_eq(equipas[i]);
  }

  free(equipas);
}

Equipa procura_eq_hash(lEquipa *equipas, char nome[1024])
{
  int i = hash(nome, 1049);
  return procura_eq_lista(equipas[i], nome);
}

int ordem_alfabetica(const void *pal1, const void *pal2)
{
  const char **p1 = (const char **) pal1;
  const char **p2 = (const char **) pal2;
  return strcmp(*p1, *p2);
}

int hash_vazia(lEquipa *equipas)
{
  int i;
  for (i = 0; i < 1049; i++)
  {
    if (equipas[i] != 0)
    {
      {
        return 0;
      }
    }
    else
    {
      
    }

  }

  return 1;
}

