/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <stdlib.h>
#include <string.h>


int Controlador;
int contador_equipas;
int contador_jogos;
int numero_linha;
typedef struct 
{
  char equipa[1024];
  int vitorias;
} equipas;
equipas lista_equipas[4000];
typedef struct 
{
  char jogo[512];
  char equipa1[512];
  char equipa2[512];
  int score1;
  int score2;
  int vencedor;
  int existe;
} jogos;
jogos lista_jogos[4000];
void adiciona_equipa(char *texto);
void adiciona_jogo(char *texto);
void lista_de_jogos();
void procura_jogo(char *texto);
void procura_equipa(char *texto);
void apaga_jogo(char *texto);
void altera_pontuacao(char *texto);
void encontra_mais_vitorias();
int main()
{
  Controlador = 0;
  contador_equipas = 0;
  contador_jogos = 0;
  numero_linha = 0;
  while (Controlador == 0)
  {
    char texto[5000];
    for (int texto_index = 0; texto_index < 10; texto_index++)
    {
      texto[texto_index] = new_sym_var(sizeof(char) * 8);
    }

    texto[10 - 1] = '\0';
    switch (texto[0])
    {
      case 'A':
        adiciona_equipa(texto);
        break;

      case 'a':
        adiciona_jogo(texto);
        break;

      case 'l':
        lista_de_jogos();
        break;

      case 'p':
        procura_jogo(texto);
        break;

      case 'P':
        procura_equipa(texto);
        break;

      case 'r':
        apaga_jogo(texto);
        break;

      case 's':
        altera_pontuacao(texto);
        break;

      case 'g':
        encontra_mais_vitorias();
        break;

      case 'x':
        Controlador = 1;
        break;

    }

  }

  return 0;
}

void adiciona_equipa(char *texto)
{
  int i = 2;
  char str[512];
  int contador;
  int controlador = 0;
  numero_linha++;
  contador = contador_equipas - 1;
  while (texto[i] != 0)
  {
    str[i - 2] = texto[i];
    i++;
  }

  while (contador >= 0)
  {
    if (strcmp(lista_equipas[contador].equipa, str) == 0)
    {
      {
        printf("%d Equipa existente.\n", numero_linha);
        controlador = 1;
      }
    }
    else
    {
      
    }

    contador--;
  }

  if (controlador == 0)
  {
    {
      strcpy(lista_equipas[contador_equipas].equipa, str);
      contador_equipas++;
    }
  }
  else
  {
    
  }

  memset(str, 0, sizeof(str));
}

void adiciona_jogo(char *texto)
{
  int i = 2;
  int contador;
  int contador2;
  int index_equipa1 = 0;
  int index_equipa2 = 0;
  int controlador_equipas = 0;
  char str1[512];
  char str2[512];
  char str3[512];
  char str4[10];
  char str5[10];
  numero_linha++;
  contador = 0;
  while (texto[i] != ':')
  {
    str1[contador] = texto[i];
    i++;
    contador++;
  }

  contador = 0;
  i++;
  contador2 = contador_jogos - 1;
  while (contador2 >= 0)
  {
    if (strcmp(lista_jogos[contador2].jogo, str1) == 0)
    {
      {
        memset(str1, 0, sizeof(str1));
        memset(str2, 0, sizeof(str2));
        memset(str3, 0, sizeof(str3));
        memset(str4, 0, sizeof(str4));
        memset(str5, 0, sizeof(str5));
        printf("%d Jogo existente.\n", numero_linha);
        return;
      }
    }
    else
    {
      
    }

    contador2--;
  }

  while (texto[i] != ':')
  {
    str2[contador] = texto[i];
    i++;
    contador++;
  }

  contador = 0;
  i++;
  contador2 = contador_equipas - 1;
  while (contador2 >= 0)
  {
    if (strcmp(lista_equipas[contador2].equipa, str2) == 0)
    {
      {
        controlador_equipas = 1;
        index_equipa1 = contador2;
      }
    }
    else
    {
      
    }

    contador2--;
  }

  if (controlador_equipas != 1)
  {
    {
      memset(str1, 0, sizeof(str1));
      memset(str2, 0, sizeof(str2));
      memset(str3, 0, sizeof(str3));
      memset(str4, 0, sizeof(str4));
      memset(str5, 0, sizeof(str5));
      printf("%d Equipa inexistente.\n", numero_linha);
      return;
    }
  }
  else
  {
    
  }

  while (texto[i] != ':')
  {
    str3[contador] = texto[i];
    i++;
    contador++;
  }

  contador = 0;
  i++;
  contador2 = contador_equipas - 1;
  controlador_equipas = 0;
  while (contador2 >= 0)
  {
    if (strcmp(lista_equipas[contador2].equipa, str3) == 0)
    {
      {
        controlador_equipas = 1;
        index_equipa2 = contador2;
      }
    }
    else
    {
      
    }

    contador2--;
  }

  if (controlador_equipas != 1)
  {
    {
      memset(str1, 0, sizeof(str1));
      memset(str2, 0, sizeof(str2));
      memset(str3, 0, sizeof(str3));
      memset(str4, 0, sizeof(str4));
      memset(str5, 0, sizeof(str5));
      printf("%d Equipa inexistente.\n", numero_linha);
      return;
    }
  }
  else
  {
    
  }

  while (texto[i] != ':')
  {
    str4[contador] = texto[i];
    i++;
    contador++;
  }

  contador = 0;
  i++;
  while (texto[i] != 0)
  {
    str5[contador] = texto[i];
    i++;
    contador++;
  }

  strcpy(lista_jogos[contador_jogos].jogo, str1);
  strcpy(lista_jogos[contador_jogos].equipa1, str2);
  strcpy(lista_jogos[contador_jogos].equipa2, str3);
  lista_jogos[contador_jogos].score1 = new_sym_var(sizeof(int) * 8);
  lista_jogos[contador_jogos].score2 = new_sym_var(sizeof(int) * 8);
  lista_jogos[contador_jogos].existe = 1;
  if (lista_jogos[contador_jogos].score1 > lista_jogos[contador_jogos].score2)
  {
    {
      lista_equipas[index_equipa1].vitorias++;
      lista_jogos[contador_jogos].vencedor = 1;
    }
  }
  else
  {
    
  }

  if (lista_jogos[contador_jogos].score2 > lista_jogos[contador_jogos].score1)
  {
    {
      lista_equipas[index_equipa2].vitorias++;
      lista_jogos[contador_jogos].vencedor = 2;
    }
  }
  else
  {
    
  }

  contador_jogos++;
  memset(str1, 0, sizeof(str1));
  memset(str2, 0, sizeof(str2));
  memset(str3, 0, sizeof(str3));
  memset(str4, 0, sizeof(str4));
  memset(str5, 0, sizeof(str5));
}

void lista_de_jogos()
{
  int contador;
  numero_linha++;
  contador = 0;
  while (contador < contador_jogos)
  {
    if (lista_jogos[contador].existe == 1)
    {
      {
        printf("%d %s %s %s %d %d\n", numero_linha, lista_jogos[contador].jogo, lista_jogos[contador].equipa1, lista_jogos[contador].equipa2, lista_jogos[contador].score1, lista_jogos[contador].score2);
        contador++;
      }
    }
    else
    {
      
    }

  }

}

void procura_jogo(char *texto)
{
  int i = 2;
  char str[1024];
  int contador;
  int controlador = 0;
  int index_jogo;
  numero_linha++;
  contador = contador_jogos - 1;
  while (texto[i] != 0)
  {
    str[i - 2] = texto[i];
    i++;
  }

  while (contador >= 0)
  {
    if (strcmp(lista_jogos[contador].jogo, str) == 0)
    {
      {
        controlador = 1;
        index_jogo = contador;
      }
    }
    else
    {
      
    }

    contador--;
  }

  if (controlador != 1)
  {
    {
      memset(str, 0, sizeof(str));
      printf("%d Jogo inexistente.\n", numero_linha);
      return;
    }
  }
  else
  {
    
  }

  printf("%d %s %s %s %d %d\n", numero_linha, lista_jogos[index_jogo].jogo, lista_jogos[index_jogo].equipa1, lista_jogos[index_jogo].equipa2, lista_jogos[index_jogo].score1, lista_jogos[index_jogo].score2);
  memset(str, 0, sizeof(str));
}

void procura_equipa(char *texto)
{
  int i = 2;
  char str[512];
  int contador;
  int controlador = 0;
  int index_equipa;
  numero_linha++;
  contador = contador_equipas - 1;
  while (texto[i] != 0)
  {
    str[i - 2] = texto[i];
    i++;
  }

  while (contador >= 0)
  {
    if (strcmp(lista_equipas[contador].equipa, str) == 0)
    {
      {
        controlador = 1;
        index_equipa = contador;
      }
    }
    else
    {
      
    }

    contador--;
  }

  if (controlador != 1)
  {
    {
      memset(str, 0, sizeof(str));
      printf("%d Equipa inexistente.\n", numero_linha);
      return;
    }
  }
  else
  {
    
  }

  printf("%d %s %d\n", numero_linha, lista_equipas[index_equipa].equipa, lista_equipas[index_equipa].vitorias);
  memset(str, 0, sizeof(str));
}

void apaga_jogo(char *texto)
{
  int i = 2;
  char str[512];
  int contador;
  int contador2;
  int contador3;
  int contador4;
  int contador5;
  int controlador = 0;
  int index_jogo;
  numero_linha++;
  contador = contador_jogos - 1;
  while (texto[i] != 0)
  {
    str[i - 2] = texto[i];
    i++;
  }

  while (contador >= 0)
  {
    if (strcmp(lista_jogos[contador].jogo, str) == 0)
    {
      {
        controlador = 1;
        index_jogo = contador;
      }
    }
    else
    {
      
    }

    contador--;
  }

  if (controlador != 1)
  {
    {
      memset(str, 0, sizeof(str));
      printf("%d Jogo inexistente.\n", numero_linha);
      return;
    }
  }
  else
  {
    
  }

  contador2 = contador_jogos - 1;
  contador3 = index_jogo;
  contador4 = index_jogo + 1;
  contador5 = contador_equipas - 1;
  if (lista_jogos[contador3].vencedor == 1)
  {
    {
      while (contador5 >= 0)
      {
        if (strcmp(lista_equipas[contador5].equipa, lista_jogos[contador3].equipa1) == 0)
        {
          {
            lista_equipas[contador5].vitorias--;
          }
        }
        else
        {
          
        }

        contador5--;
      }

    }
  }
  else
  {
    
  }

  if (lista_jogos[contador3].vencedor == 2)
  {
    {
      while (contador5 >= 0)
      {
        if (strcmp(lista_equipas[contador5].equipa, lista_jogos[contador3].equipa2) == 0)
        {
          {
            lista_equipas[contador5].vitorias--;
          }
        }
        else
        {
          
        }

        contador5--;
      }

    }
  }
  else
  {
    
  }

  while (contador2 > index_jogo)
  {
    memset(lista_jogos[contador3].jogo, 0, sizeof(lista_jogos[contador3].jogo));
    memset(lista_jogos[contador3].equipa1, 0, sizeof(lista_jogos[contador3].equipa1));
    memset(lista_jogos[contador3].equipa2, 0, sizeof(lista_jogos[contador3].equipa2));
    strcpy(lista_jogos[contador3].jogo, lista_jogos[contador4].jogo);
    strcpy(lista_jogos[contador3].equipa1, lista_jogos[contador4].equipa1);
    strcpy(lista_jogos[contador3].equipa2, lista_jogos[contador4].equipa2);
    lista_jogos[contador3].score1 = lista_jogos[contador4].score1;
    lista_jogos[contador3].score2 = lista_jogos[contador4].score2;
    lista_jogos[contador3].vencedor = lista_jogos[contador4].vencedor;
    contador3++;
    contador4++;
    contador2--;
  }

  if (contador2 == index_jogo)
  {
    {
      memset(lista_jogos[contador3].jogo, 0, sizeof(lista_jogos[contador3].jogo));
      memset(lista_jogos[contador3].equipa1, 0, sizeof(lista_jogos[contador3].equipa1));
      memset(lista_jogos[contador3].equipa2, 0, sizeof(lista_jogos[contador3].equipa2));
      lista_jogos[contador3].score1 = 0;
      lista_jogos[contador3].score2 = 0;
      lista_jogos[contador3].vencedor = 0;
      lista_jogos[contador4].existe = 0;
    }
  }
  else
  {
    
  }

  memset(lista_jogos[contador4].jogo, 0, sizeof(lista_jogos[contador4].jogo));
  memset(lista_jogos[contador4].equipa1, 0, sizeof(lista_jogos[contador4].equipa1));
  memset(lista_jogos[contador4].equipa2, 0, sizeof(lista_jogos[contador4].equipa2));
  lista_jogos[contador4].score1 = 0;
  lista_jogos[contador4].score2 = 0;
  lista_jogos[contador4].vencedor = 0;
  lista_jogos[contador4].existe = 0;
  memset(str, 0, sizeof(str));
}

void altera_pontuacao(char *texto)
{
  int i = 2;
  int contador;
  int contador2;
  int index_jogo;
  int controlador_jogo;
  int vencedor;
  int index_equipa1;
  int index_equipa2;
  char str1[512];
  char str2[10];
  char str3[10];
  numero_linha++;
  contador = 0;
  while (texto[i] != ':')
  {
    str1[contador] = texto[i];
    i++;
    contador++;
  }

  contador = 0;
  i++;
  while (texto[i] != ':')
  {
    str2[contador] = texto[i];
    i++;
    contador++;
  }

  contador = 0;
  i++;
  while (texto[i] != 0)
  {
    str3[contador] = texto[i];
    i++;
    contador++;
  }

  contador2 = contador_jogos - 1;
  while (contador2 >= 0)
  {
    if (strcmp(lista_jogos[contador2].jogo, str1) == 0)
    {
      {
        controlador_jogo = 1;
        index_jogo = contador2;
      }
    }
    else
    {
      
    }

    contador2--;
  }

  if (controlador_jogo != 1)
  {
    {
      memset(str1, 0, sizeof(str1));
      memset(str2, 0, sizeof(str2));
      memset(str3, 0, sizeof(str3));
      printf("%d Jogo inexistente.\n", numero_linha);
      return;
    }
  }
  else
  {
    
  }

  lista_jogos[index_jogo].score1 = new_sym_var(sizeof(int) * 8);
  lista_jogos[index_jogo].score2 = new_sym_var(sizeof(int) * 8);
  if (lista_jogos[index_jogo].score1 > lista_jogos[index_jogo].score2)
  {
    {
      vencedor = 1;
    }
  }
  else
  {
    
  }

  if (lista_jogos[index_jogo].score2 > lista_jogos[index_jogo].score1)
  {
    {
      vencedor = 2;
    }
  }
  else
  {
    
  }

  if (lista_jogos[index_jogo].score2 == lista_jogos[index_jogo].score1)
  {
    {
      vencedor = 0;
    }
  }
  else
  {
    
  }

  if (lista_jogos[index_jogo].vencedor != vencedor)
  {
    {
      contador = contador_equipas - 1;
      while (contador >= 0)
      {
        if (strcmp(lista_equipas[contador].equipa, lista_jogos[index_jogo].equipa1) == 0)
        {
          {
            index_equipa1 = contador;
          }
        }
        else
        {
          
        }

        contador--;
      }

      contador = contador_equipas - 1;
      while (contador >= 0)
      {
        if (strcmp(lista_equipas[contador].equipa, lista_jogos[index_jogo].equipa2) == 0)
        {
          {
            index_equipa2 = contador;
          }
        }
        else
        {
          
        }

        contador--;
      }

      if (vencedor == 0)
      {
        {
          if (lista_jogos[index_jogo].vencedor == 1)
          {
            {
              lista_equipas[index_equipa1].vitorias--;
            }
          }
          else
          {
            
          }

          if (lista_jogos[index_jogo].vencedor == 2)
          {
            {
              lista_equipas[index_equipa2].vitorias--;
            }
          }
          else
          {
            
          }

        }
      }
      else
      {
        
      }

      if (lista_jogos[index_jogo].vencedor == 0)
      {
        {
          if (vencedor == 1)
          {
            {
              lista_equipas[index_equipa1].vitorias++;
            }
          }
          else
          {
            
          }

          if (vencedor == 2)
          {
            {
              lista_equipas[index_equipa2].vitorias++;
            }
          }
          else
          {
            
          }

        }
      }
      else
      {
        
      }

      if (vencedor == 1)
      {
        {
          if (lista_jogos[index_jogo].vencedor == 2)
          {
            {
              lista_equipas[index_equipa1].vitorias++;
              lista_equipas[index_equipa2].vitorias--;
            }
          }
          else
          {
            
          }

        }
      }
      else
      {
        
      }

      if (vencedor == 2)
      {
        {
          if (lista_jogos[index_jogo].vencedor == 1)
          {
            {
              lista_equipas[index_equipa1].vitorias--;
              lista_equipas[index_equipa2].vitorias++;
            }
          }
          else
          {
            
          }

        }
      }
      else
      {
        
      }

      lista_jogos[index_jogo].vencedor = vencedor;
    }
  }
  else
  {
    
  }

}

void encontra_mais_vitorias()
{
  int contador;
  int numero_vitorias;
  numero_linha++;
  numero_vitorias = 0;
  contador = contador_equipas - 1;
  while (contador >= 0)
  {
    if (lista_equipas[contador].vitorias > numero_vitorias)
    {
      {
        numero_vitorias = lista_equipas[contador].vitorias;
      }
    }
    else
    {
      
    }

    contador--;
  }

  contador = 0;
  if (contador_equipas > 0)
  {
    {
      printf("%d Melhores %d\n", numero_linha, numero_vitorias);
      while (contador < contador_equipas)
      {
        if (lista_equipas[contador].vitorias == numero_vitorias)
        {
          {
            printf("%d * %s\n", numero_linha, lista_equipas[contador].equipa);
          }
        }
        else
        {
          
        }

        contador++;
      }

    }
  }
  else
  {
    
  }

}

