/*File generated by PreProcessor.py*/


#include "listadupEQUIPA.h"


Equipa *mk_equipa(char nome[1024])
{
  Equipa *novaEquipa = malloc(sizeof(Equipa));
  novaEquipa->nome = malloc((sizeof(char)) * (strlen(nome) + 1));
  memset(novaEquipa->nome, '\0', (sizeof(char)) * (strlen(nome) + 1));
  strcpy(novaEquipa->nome, nome);
  novaEquipa->vitorias = 0;
  return novaEquipa;
}

list_equipa *mk_list_equipa()
{
  list_equipa *newL = malloc(sizeof(list_equipa));
  newL->head = 0;
  newL->last = 0;
  return newL;
}

void add_last_equipa(list_equipa *l, Equipa *e)
{
  node_equipa *newNode = malloc(sizeof(node_equipa));
  newNode->next = 0;
  newNode->equipa = e;
  if ((l->head == 0) && (l->last == 0))
  {
    newNode->previous = 0;
    l->head = newNode;
    l->last = newNode;
  }
  else
  {
    newNode->previous = l->last;
    l->last->next = newNode;
    l->last = newNode;
  }

}

void free_equipa(Equipa *e)
{
  free(e->nome);
  free(e);
}

void free_list_equipa(list_equipa *l)
{
  node_equipa *newLast;
  node_equipa *lastNode = l->last;
  if (l->head == 0)
  {
    free(l);
  }
  else
  {
    while (lastNode != l->head)
    {
      newLast = lastNode->previous;
      free_equipa(lastNode->equipa);
      free(lastNode);
      newLast->next = 0;
      lastNode = newLast;
    }

    free_equipa(lastNode->equipa);
    free(lastNode);
    free(l);
  }

}

