/*File generated by PreProcessor.py*/


#include "list.h"
#include <stdlib.h>
#include <stdio.h>


link *createNode(void *dataPointer)
{
  link *node = (link *) malloc(sizeof(link));
  node->dataPointer = dataPointer;
  node->next = 0;
  return node;
}

void freeNode(link *node, void (*freeFunction)(void *))
{
  if (freeFunction != 0)
  {
    {
      freeFunction(node->dataPointer);
    }
  }
  else
  {
    
  }

  free(node->next);
  free(node);
}

List *creatList()
{
  List *list = (List *) malloc(sizeof(List));
  list->head = 0;
  list->tail = 0;
  return list;
}

void deleteList(List *list, void (*freeFunction)(void *))
{
  link *t;
  while (list->head != 0)
  {
    t = list->head;
    list->head = list->head->next;
    t->next = 0;
    freeNode(t, freeFunction);
  }

  free(list);
}

link *listSearch(List *list, char *key, int (*compareFunction)(char *, void *))
{
  link *t;
  if (compareFunction == 0)
  {
    {
      return 0;
    }
  }
  else
  {
    
  }

  for (t = list->head; t != 0; t = t->next)
  {
    if (compareFunction(key, t->dataPointer))
    {
      {
        return t;
      }
    }
    else
    {
      
    }

  }

  return 0;
}

void listInsertEndNode(List *list, link *node)
{
  if (list == 0)
  {
    {
      return;
    }
  }
  else
  {
    
  }

  if (list->head == 0)
  {
    {
      list->head = node;
    }
  }
  else
  {
    {
      list->tail->next = node;
    }
  }

  list->tail = node;
}

void listInsertEnd(List *list, void *dataPointer)
{
  link *node;
  if (list == 0)
  {
    {
      return;
    }
  }
  else
  {
    
  }

  node = createNode(dataPointer);
  listInsertEndNode(list, node);
}

void listInsertBeforeNode(List *list, link *nextNode, link *node)
{
  link *prev;
  link *t;
  if (((list == 0) || (nextNode == 0)) || (node == 0))
  {
    {
      return;
    }
  }
  else
  {
    
  }

  for (t = list->head, prev = 0; t != 0; prev = t, t = t->next)
  {
    if (t == nextNode)
    {
      {
        if (t == list->head)
        {
          {
            node->next = t;
            list->head = node;
            break;
          }
        }
        else
        {
          {
            node->next = t;
            prev->next = node;
            break;
          }
        }

      }
    }
    else
    {
      
    }

  }

}

void listInsertBefore(List *list, link *nextNode, void *dataPointer)
{
  link *node;
  if (((list == 0) || (nextNode == 0)) || (dataPointer == 0))
  {
    {
      return;
    }
  }
  else
  {
    
  }

  node = createNode(dataPointer);
  listInsertBeforeNode(list, nextNode, node);
}

void listRemoveElement(List *list, char *key, int (*compareFunction)(char *, void *), void freeFunction(void *))
{
  link *t;
  link *prev = 0;
  for (t = list->head; t != 0; prev = t, t = t->next)
  {
    if (compareFunction(key, t->dataPointer))
    {
      {
        if ((t == list->head) && (t == list->tail))
        {
          {
            list->head = 0;
            list->tail = 0;
          }
        }
        else
        {
          if (t == list->head)
          {
            {
              list->head = list->head->next;
              t->next = 0;
            }
          }
          else
          {
            if (t == list->tail)
            {
              {
                list->tail = prev;
                prev->next = 0;
              }
            }
            else
            {
              {
                prev->next = t->next;
                t->next = 0;
              }
            }

          }

        }

        freeNode(t, freeFunction);
        break;
      }
    }
    else
    {
      
    }

  }

}

void listPrint(List *list, int *cmdCounter, void (*printFunction)(void *, int *))
{
  link *t;
  for (t = list->head; t != 0; t = t->next)
  {
    printFunction(t->dataPointer, cmdCounter);
  }

}

int isListEmpty(List *list)
{
  if (list->head == 0)
  {
    {
      return 1;
    }
  }
  else
  {
    
  }

  return 0;
}

