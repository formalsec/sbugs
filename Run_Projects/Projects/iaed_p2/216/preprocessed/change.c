/*File generated by PreProcessor.py*/


#include "change.h"


void altScore(list *ls, char *name, int n_score1, int n_score2)
{
  node *ptr = ls->head;
  while (ptr != 0)
  {
    ptr = ptr->next;
  }

  while (ptr)
  {
    if (strcmp(ptr->name, name) == 0)
    {
      ptr->score1 = n_score1;
      ptr->score2 = n_score2;
      break;
    }
    else
    {
      
    }

    ptr = ptr->next;
  }

}

void changeScore(list *ls, list *tms)
{
  hashNode *n_res;
  hashNode *team1;
  hashNode *team2;
  char name[1024];
  int n_score1;
  int n_score2;
  int p_scr1;
  int p_scr2;
  for (int name_index = 0; name_index < 10; name_index++)
  {
    name[name_index] = new_sym_var(sizeof(char) * 8);
  }

  name[10 - 1] = '\0';
  n_score1 = new_sym_var(sizeof(int) * 8);
  n_score2 = new_sym_var(sizeof(int) * 8);
  n_res = getNodeGames(name);
  if (n_res == 0)
  {
    printf("%d Jogo inexistente.\n", counter);
    return;
  }
  else
  {
    p_scr1 = n_res->point->score1;
    p_scr2 = n_res->point->score2;
    altScore(ls, name, n_score1, n_score2);
    n_res->point->score1 = n_score1;
    n_res->point->score2 = n_score2;
    team1 = getNodeTeams(n_res->point->team1);
    team2 = getNodeTeams(n_res->point->team2);
    if (p_scr1 > p_scr2)
    {
      if (n_score1 < n_score2)
      {
        addWin(tms, team2->point->name);
        team2->point->won++;
        rmvWin(tms, team1->point->name);
        team1->point->won--;
      }
      else
      {
        if (n_score1 == n_score2)
        {
          rmvWin(tms, team1->point->name);
          team1->point->won--;
        }
        else
        {
          
        }

      }

    }
    else
    {
      if (p_scr1 < p_scr2)
      {
        if (n_score1 > n_score2)
        {
          addWin(tms, team1->point->name);
          team1->point->won++;
          rmvWin(tms, team2->point->name);
          team2->point->won--;
        }
        else
        {
          if (n_score1 == n_score2)
          {
            rmvWin(tms, team2->point->name);
            team2->point->won--;
          }
          else
          {
            
          }

        }

      }
      else
      {
        if (n_score1 > n_score2)
        {
          addWin(tms, team1->point->name);
          team1->point->won++;
        }
        else
        {
          if (n_score1 < n_score2)
          {
            addWin(tms, team2->point->name);
            team2->point->won++;
          }
          else
          {
            
          }

        }

      }

    }

  }

}

