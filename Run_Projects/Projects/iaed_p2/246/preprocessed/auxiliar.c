/*File generated by PreProcessor.py*/


#include "structs.h"


int hash(char *nome)
{
  int i;
  int a = 31415;
  int b = 27183;
  int t = 6701;
  for (i = 0; (*nome) != '\0'; nome++, a = (a * b) % (t - 1))
    i = ((a * i) + (*nome)) % t;

  return i;
}

link_game *init_j()
{
  int i;
  link_game *heads = malloc(6701 * (sizeof(struct game)));
  for (i = 0; i < 6701; i++)
  {
    heads[i] = 0;
  }

  return heads;
}

link_team *init_t()
{
  int i;
  link_team *heads = malloc(6701 * (sizeof(struct team)));
  for (i = 0; i < 6701; i++)
  {
    heads[i] = 0;
  }

  return heads;
}

link_game NEWgame(char *name, link_team t1, link_team t2, int r1, int r2)
{
  link_game x = malloc(sizeof(struct game));
  x->name = malloc((sizeof(char)) * (strlen(name) + 1));
  strcpy(x->name, name);
  x->element_t1 = t1;
  x->element_t2 = t2;
  x->r1 = r1;
  x->r2 = r2;
  x->next = 0;
  return x;
}

link_team NEWteam(char *name)
{
  link_team x = malloc(sizeof(struct team));
  x->name = malloc((sizeof(char)) * (strlen(name) + 1));
  strcpy(x->name, name);
  x->v = 0;
  x->next = 0;
  return x;
}

link_game_order insertBegin(link_game_order head, link_game game)
{
  link_game_order x;
  if (head == 0)
  {
    x = malloc(sizeof(struct order_game));
    x->element = game;
    x->next = 0;
    return x;
  }
  else
  {
    x = malloc(sizeof(struct order_game));
    x->element = game;
    x->next = head;
    head = x;
    return head;
  }

  return head;
}

link_game lookup_game(link_game *htable_game, char *nome)
{
  int a = hash(nome);
  link_game aux = htable_game[a];
  for (; aux != 0; aux = aux->next)
  {
    if (strcmp(aux->name, nome) == 0)
    {
      return aux;
    }
    else
    {
      
    }

  }

  return 0;
}

link_team lookup_team(link_team *htable_team, char *nome)
{
  int a = hash(nome);
  link_team aux = htable_team[a];
  for (; aux != 0; aux = aux->next)
  {
    if (strcmp(aux->name, nome) == 0)
    {
      return aux;
    }
    else
    {
      
    }

  }

  return 0;
}

void print_list_betterTeams(link_Team_lexicographical_order list_betterTeams, int NL_counter)
{
  link_Team_lexicographical_order aux;
  for (aux = list_betterTeams; aux != 0; aux = aux->next)
  {
    printf("%d * %s\n", NL_counter, aux->elemente->name);
  }

}

link_game deletegame(link_game head, char *name)
{
  link_game aux;
  link_game prev;
  for (aux = head, prev = 0; aux != 0; prev = aux, aux = aux->next)
  {
    if (strcmp(aux->name, name) == 0)
    {
      if (aux == head)
      {
        head = aux->next;
      }
      else
      {
        prev->next = aux->next;
      }

      freeGame(aux);
      return head;
    }
    else
    {
      
    }

  }

  return head;
}

int Lookup_BiggerNumVictories(link_team *head)
{
  link_team aux;
  int i;
  int Vcounter = -1;
  for (i = 0; i < 6701; i++)
  {
    aux = head[i];
    for (; aux != 0; aux = aux->next)
    {
      if (aux->v > Vcounter)
      {
        Vcounter = aux->v;
      }
      else
      {
        
      }

    }

  }

  return Vcounter;
}

link_Team_lexicographical_order insert_lexicographical_order(link_Team_lexicographical_order *head, link_team target)
{
  link_Team_lexicographical_order aux;
  link_Team_lexicographical_order x;
  x = malloc(sizeof(struct Team_lexicographical_order));
  x->elemente = target;
  x->next = 0;
  if ((*head) == 0)
  {
    x->next = *head;
    return x;
  }
  else
  {
    
  }

  if (strcmp((*head)->elemente->name, target->name) > 0)
  {
    x->next = *head;
    return x;
  }
  else
  {
    aux = *head;
    while ((aux->next != 0) && (strcmp(aux->next->elemente->name, x->elemente->name) < 0))
    {
      aux = aux->next;
    }

    x->next = aux->next;
    aux->next = x;
    return *head;
  }

}

