/*File generated by PreProcessor.py*/


#include "estruturas.h"
#include <stdlib.h>
#include <stdio.h>
#include <string.h>


void init_HTE(equipa *HTequipa)
{
  int i;
  for (i = 0; i < 1097; i++)
  {
    HTequipa[i] = 0;
  }

}

int Hash(char *v, int M)
{
  int h;
  int a = 31415;
  int b = 27183;
  for (h = 0; (*v) != '\0'; v++, a = (a * b) % (M - 1))
    h = ((a * h) + (*v)) % M;

  return h;
}

equipa newequipa(char *buffer, int n)
{
  equipa aux = malloc(sizeof(struct str_equipa));
  aux->nome = malloc((sizeof(char)) * (strlen(buffer) + 1));
  aux->vitorias = n;
  strcpy(aux->nome, buffer);
  aux->nextE = 0;
  return aux;
}

equipa InsertBegining(equipa head, char *nome)
{
  equipa aux = newequipa(nome, 0);
  aux->nextE = head;
  return aux;
}

void InsertEquipa(char *nome, equipa *HTequipa)
{
  int x = Hash(nome, 1097);
  HTequipa[x] = InsertBegining(HTequipa[x], nome);
}

equipa SearchEquipa(char *nome, equipa *HTequipa)
{
  int i = Hash(nome, 1097);
  equipa aux;
  for (aux = HTequipa[i]; aux != 0; aux = aux->nextE)
  {
    if (strcmp(aux->nome, nome) == 0)
    {
      return aux;
    }
    else
    {
      
    }

  }

  return 0;
}

equipa ListaEquipas(equipa lista, char *nome, int vitorias)
{
  equipa aux;
  equipa x = newequipa(nome, vitorias);
  if ((lista == 0) || (strcmp(lista->nome, nome) > 0))
  {
    {
      x->nextE = lista;
      return x;
    }
  }
  else
  {
    {
      aux = lista;
      while ((aux->nextE != 0) && (strcmp(aux->nextE->nome, x->nome) < 0))
        aux = aux->nextE;

      x->nextE = aux->nextE;
      aux->nextE = x;
      return lista;
    }
  }

}

void FreeHTequipa(equipa *HTequipa)
{
  int i;
  equipa aux;
  for (i = 0; i < 1097; i++)
  {
    while (HTequipa[i])
    {
      aux = HTequipa[i]->nextE;
      FreeEquipa(HTequipa[i]);
      HTequipa[i] = aux;
    }

  }

}

void FreeEquipa(equipa aux)
{
  free(aux->nome);
  free(aux);
}

void FreeListE(equipa head)
{
  equipa aux;
  while (head)
  {
    aux = head->nextE;
    FreeEquipa(head);
    head = aux;
  }

}

