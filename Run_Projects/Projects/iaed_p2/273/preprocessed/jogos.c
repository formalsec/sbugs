/*File generated by PreProcessor.py*/


#include <string.h>
#include <stdlib.h>
#include "equipas.h"
#include "jogos.h"


lista_jogos *cria_lista_jogos()
{
  lista_jogos *lista = malloc(sizeof(lista_jogos));
  lista->jogo_inicial = (lista->jogo_final = 0);
  return lista;
}

jogo *novo_jogo(char nome_input[], equipa *equipa_1, equipa *equipa_2, int reslt_1, int reslt_2)
{
  jogo *novo_jogo;
  novo_jogo = malloc(sizeof(jogo));
  novo_jogo->nome = malloc(((sizeof(char)) * strlen(nome_input)) + 1);
  strcpy(novo_jogo->nome, nome_input);
  novo_jogo->equipa_1 = equipa_1;
  novo_jogo->equipa_2 = equipa_2;
  novo_jogo->resultado_1 = reslt_1;
  novo_jogo->resultado_2 = reslt_2;
  novo_jogo->anterior = 0;
  novo_jogo->seguinte = 0;
  return novo_jogo;
}

void liberta_jogo(jogo *jogo)
{
  free(jogo->nome);
  free(jogo);
}

void altera_resultados_jogo(jogo *jogo, int novo_reslt_1, int novo_reslt_2)
{
  if (jogo->resultado_1 > jogo->resultado_2)
  {
    if (novo_reslt_2 > novo_reslt_1)
    {
      jogo->equipa_1->num_vitorias--;
      jogo->equipa_2->num_vitorias++;
    }
    else
    {
      if (novo_reslt_1 == novo_reslt_2)
      {
        jogo->equipa_1->num_vitorias--;
      }
      else
      {
        
      }

    }

  }
  else
  {
    if (jogo->resultado_2 > jogo->resultado_1)
    {
      if (novo_reslt_1 > novo_reslt_2)
      {
        jogo->equipa_2->num_vitorias--;
        jogo->equipa_1->num_vitorias++;
      }
      else
      {
        if (novo_reslt_1 == novo_reslt_2)
        {
          jogo->equipa_2->num_vitorias--;
        }
        else
        {
          
        }

      }

    }
    else
    {
      if (jogo->resultado_1 == jogo->resultado_2)
      {
        if (novo_reslt_1 > novo_reslt_2)
        {
          jogo->equipa_1->num_vitorias++;
        }
        else
        {
          if (novo_reslt_2 > novo_reslt_1)
          {
            jogo->equipa_2->num_vitorias++;
          }
          else
          {
            
          }

        }

      }
      else
      {
        
      }

    }

  }

  jogo->resultado_1 = novo_reslt_1;
  jogo->resultado_2 = novo_reslt_2;
}

