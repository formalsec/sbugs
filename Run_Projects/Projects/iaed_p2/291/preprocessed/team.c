/*File generated by PreProcessor.py*/


#include "team.h"
#include "default.h"


void add_team(link *teams, char buffer[1024])
{
  link aux;
  aux = malloc(sizeof(struct node));
  aux->name = malloc((sizeof(char)) * (strlen(buffer) + 1));
  strcpy(aux->name, buffer);
  aux->next = teams[hashU(buffer)];
  teams[hashU(buffer)] = aux;
  return;
}

void print_teams(link *teams)
{
  int i;
  link aux;
  for (i = 0; i < 3000; i++)
  {
    if (teams[i] == 0)
    {
      printf("Equipa %d: vazia\n", i);
    }
    else
    {
      aux = teams[i];
      printf("Equipa %d", i);
      while (aux != 0)
      {
        printf(":-:%s", aux->name);
        aux = aux->next;
      }

      printf("\n");
    }

  }

  return;
}

int find(link *teams, char buffer[1024], int contador)
{
  link aux;
  aux = teams[hashU(buffer)];
  while (aux != 0)
  {
    if (strcmp(aux->name, buffer))
    {
      aux = aux->next;
    }
    else
    {
      printf("%d %s ", contador, aux->name);
      return 0;
    }

  }

  printf("%d Equipa inexistente.\n", contador);
  return 1;
}

int existing_team(link *hashtable, char buffer[1024])
{
  link aux;
  aux = hashtable[hashU(buffer)];
  while (aux != 0)
  {
    if (strcmp(aux->name, buffer))
    {
      aux = aux->next;
    }
    else
    {
      return 1;
    }

  }

  return 0;
}

void free_list(link *teams)
{
  int i;
  link aux;
  link aux2;
  for (i = 0; i < 3000; i++)
  {
    aux = teams[i];
    aux2 = teams[i];
    while (aux2 != 0)
    {
      aux = aux2;
      aux2 = aux->next;
      free_node(aux);
    }

  }

  return;
}

void free_node(link n)
{
  free(n->name);
  free(n);
  return;
}

