/*File generated by PreProcessor.py*/


#include "Hash_jogos.h"
#include "Function_Hash.h"
#include <stdio.h>
#include <stdlib.h>
#include <string.h>


Jogo_hash NEW(jogo *res)
{
  Jogo_hash x = malloc(sizeof(struct str_jogo));
  x->ptr_jogo = res;
  x->next = 0;
  return x;
}

Jogo_hash insertBegin(Jogo_hash head, jogo *res)
{
  Jogo_hash x = NEW(res);
  if (head == 0)
  {
    head = x;
    x->next = 0;
  }
  else
  {
    x->next = head;
  }

  return x;
}

void insert_jogo(Jogo_hash *todos_jogos, jogo *ptr_jogo, int M)
{
  unsigned long i = hashU(ptr_jogo->nome, M);
  todos_jogos[i] = insertBegin(todos_jogos[i], ptr_jogo);
}

Jogo_hash delete_node(Jogo_hash head, jogo *res)
{
  Jogo_hash t;
  Jogo_hash prev;
  for (t = head, prev = 0; t != 0; prev = t, t = t->next)
  {
    if (strcmp(t->ptr_jogo->nome, res->nome) == 0)
    {
      if (t == head)
      {
        head = t->next;
      }
      else
      {
        prev->next = t->next;
      }

      free(t);
      break;
    }
    else
    {
      
    }

  }

  return head;
}

Jogo_hash *init_j(int M)
{
  Jogo_hash *todos_jogos = calloc(M, sizeof(Jogo_hash));
  return todos_jogos;
}

void delete_jogo(Jogo_hash *todos_jogos, jogo *ptr_jogo, int M)
{
  unsigned long i = hashU(ptr_jogo->nome, M);
  todos_jogos[i] = delete_node(todos_jogos[i], ptr_jogo);
}

jogo *search_list(Jogo_hash head, char *nome)
{
  Jogo_hash new;
  for (new = head; new != 0; new = new->next)
  {
    if (strcmp(new->ptr_jogo->nome, nome) == 0)
    {
      return new->ptr_jogo;
    }
    else
    {
      
    }

  }

  return 0;
}

jogo *Search(Jogo_hash *todos_jogos, char *nome, int M)
{
  unsigned long i = hashU(nome, M);
  return search_list(todos_jogos[i], nome);
}

void destroy_jogos(Jogo_hash *j, int M)
{
  Jogo_hash old;
  Jogo_hash aux;
  long i = 0;
  while (i < M)
  {
    old = j[i];
    while (old != 0)
    {
      aux = old->next;
      free(old);
      old = aux;
    }

    i++;
  }

  free(j);
}

