/*File generated by PreProcessor.py*/


#include "equipa.h"


pEquipa equipa_cria(char *nome)
{
  pEquipa equipa = (pEquipa) malloc(sizeof(struct str_equipa));
  equipa->nome = duplica(nome);
  equipa->ganhos = 0;
  return equipa;
}

void equipa_atualiza_ganhos(pEquipa equipas[], int score[], int opcao)
{
  int i;
  int j;
  for (i = 0, j = 1; i < 2; i++, j--)
  {
    if (score[i] > score[j])
    {
      {
        if (opcao == 1)
        {
          equipas[i]->ganhos++;
        }
        else
        {
          equipas[i]->ganhos--;
        }

      }
    }
    else
    {
      
    }

  }

}

void equipa_atualiza_ganhos_s(pEquipa equipas[], int score_antigo[], int score_novo[])
{
  int i;
  int j;
  if (score_novo[0] == score_novo[1])
  {
    equipa_atualiza_ganhos(equipas, score_antigo, 0);
  }
  else
  {
    
  }

  if (score_antigo[0] == score_antigo[1])
  {
    equipa_atualiza_ganhos(equipas, score_novo, 1);
  }
  else
  {
    
  }

  for (i = 0, j = 1; i < 2; i++, j--)
  {
    if (score_antigo[i] > score_antigo[j])
    {
      {
        if (score_novo[j] > score_novo[i])
        {
          {
            equipas[j]->ganhos++;
            equipas[i]->ganhos--;
            break;
          }
        }
        else
        {
          
        }

      }
    }
    else
    {
      
    }

  }

}

void equipa_print(pEquipa equipa, int NL)
{
  printf("%d %s %d\n", NL, equipa->nome, equipa->ganhos);
}

void equipa_print_melhor(pEquipa equipa, int NL)
{
  printf("%d * %s\n", NL, equipa->nome);
}

void equipa_free(pEquipa equipa)
{
  free(equipa->nome);
  free(equipa);
}

char *duplica(char *str)
{
  char *dup = (char *) malloc((sizeof(char)) * (strlen(str) + 1));
  strcpy(dup, str);
  return dup;
}

