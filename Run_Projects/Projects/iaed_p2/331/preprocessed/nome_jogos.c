/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include "nome_jogos.h"


List_Names *init_list_n()
{
  List_Names *l;
  l = malloc(sizeof(List_Names));
  l->head = 0;
  l->last = 0;
  return l;
}

Name *new_name(char *j)
{
  Name *new;
  new = malloc(sizeof(Name));
  new->jogo = malloc((sizeof(char)) * (strlen(j) + 1));
  strcpy(new->jogo, j);
  new->next = 0;
  new->prev = 0;
  return new;
}

Name *add_end_name(List_Names *l, char *j)
{
  Name *new;
  new = new_name(j);
  new->prev = l->last;
  if (l->last)
  {
    l->last->next = new;
  }
  else
  {
    l->head = new;
  }

  l->last = new;
  return new;
}

Name *search_name(List_Names *l, char *nome_j)
{
  Name *t = l->head;
  while (t != 0)
  {
    if (!strcmp(t->jogo, nome_j))
    {
      return t;
    }
    else
    {
      
    }

    t = t->next;
  }

  return 0;
}

void free_name(Name *n)
{
  free(n->jogo);
  free(n);
}

void remove_name(List_Names *l, char *jogo)
{
  Name *t;
  t = search_name(l, jogo);
  if (t->prev == 0)
  {
    l->head = t->next;
  }
  else
  {
    t->prev->next = t->next;
  }

  if (t->next == 0)
  {
    l->last = t->prev;
  }
  else
  {
    t->next->prev = t->prev;
  }

  free_name(t);
}

Name *remove_first_name(Name *head)
{
  Name *aux;
  aux = head->next;
  free_name(head);
  return aux;
}

void free_all_names(List_Names *l)
{
  while (l->head != 0)
  {
    l->head = remove_first_name(l->head);
  }

  free(l);
}

void print_teams(int NL, List_Names *l)
{
  Name *eq;
  eq = l->head;
  while (eq)
  {
    printf("%i * %s\n", NL, eq->jogo);
    eq = eq->next;
  }

}

void search_teams_wins(List_Teams *lst_eq, List_Names *l, int max)
{
  Team *eq;
  if (lst_eq)
  {
    eq = lst_eq->head;
    while (eq)
    {
      if (eq->vitorias == max)
      {
        add_end_name(l, eq->nome_eq);
      }
      else
      {
        
      }

      eq = eq->next;
    }

  }
  else
  {
    
  }

}

void search_ht_t_wins(ht_teams l, List_Names *res, int max)
{
  int i;
  for (i = 0; i < 1931; i++)
  {
    search_teams_wins(l[i], res, max);
  }

}

int check_empty_ht_t(ht_teams l)
{
  int i;
  for (i = 0; i < 1931; i++)
  {
    if (l[i]->head != 0)
    {
      return 0;
    }
    else
    {
      
    }

  }

  return 1;
}

Name *index_(List_Names *l, int ind)
{
  Name *x;
  int i;
  x = l->head;
  for (i = 0; i < ind; i++)
  {
    x = x->next;
  }

  return x;
}

void merge(List_Names *lst, int l, int m, int r)
{
  int i;
  int j;
  int k;
  char *aux[1931];
  for (i = m + 1; i > l; i--)
  {
    aux[i - 1] = index_(lst, i - 1)->jogo;
  }

  for (j = m; j < r; j++)
  {
    aux[(r + m) - j] = index_(lst, j + 1)->jogo;
  }

  for (k = l; k <= r; k++)
  {
    if ((strcmp(aux[i], aux[j]) < 0) || (j < m))
    {
      index_(lst, k)->jogo = aux[i];
      i++;
    }
    else
    {
      index_(lst, k)->jogo = aux[j];
      j--;
    }

  }

}

void mergesort(List_Names *lst, int l, int r)
{
  int m;
  if (l < r)
  {
    m = (r + l) / 2;
    mergesort(lst, l, m);
    mergesort(lst, m + 1, r);
    merge(lst, l, m, r);
  }
  else
  {
    
  }

}

int number_elem(List_Names *l)
{
  int contador = 0;
  Name *n;
  n = l->head;
  while (n)
  {
    contador++;
    n = n->next;
  }

  return contador;
}

