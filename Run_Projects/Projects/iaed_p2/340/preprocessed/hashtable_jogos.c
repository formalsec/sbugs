/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "hashtable_equipas.h"
#include "hashtable_jogos.h"
#include "lista_ligada_nomes.h"


table_j **inicializa_j(table_j **heads, int M)
{
  int i;
  heads = malloc(M * (sizeof(table_j *)));
  for (i = 0; i < M; i++)
  {
    heads[i] = 0;
  }

  return heads;
}

void adiciona_j(table_j **heads, Jogo *jogo, int M)
{
  Jogo *x;
  int key = hash(jogo->nome_jogo, M);
  if (heads[key] == 0)
  {
    {
      heads[key] = malloc(sizeof(table_j));
      heads[key]->jogos = jogo;
    }
  }
  else
  {
    {
      x = heads[key]->jogos;
      heads[key]->jogos = jogo;
      jogo->next = x;
    }
  }

}

Jogo *encontra_j(Jogo *head, char *nome)
{
  Jogo *jogo;
  for (jogo = head; jogo != 0; jogo = jogo->next)
  {
    if (strcmp(jogo->nome_jogo, nome) == 0)
    {
      {
        return jogo;
      }
    }
    else
    {
      
    }

  }

  return 0;
}

Jogo *procura_jogo_hash(table_j **heads, Chave_j nome, int M)
{
  Jogo *x;
  int key = hash(nome, M);
  if (heads[key] != 0)
  {
    {
      x = heads[key]->jogos;
      if ((x = encontra_j(x, nome)) == 0)
      {
        return 0;
      }
      else
      {
        return x;
      }

    }
  }
  else
  {
    
  }

  return 0;
}

int remove_j(table_j **heads, Chave_j nome, int M)
{
  Jogo *x;
  Jogo *prev;
  int key = hash(nome, M);
  if ((x = procura_jogo_hash(heads, nome, M)) != 0)
  {
    {
      for (x = heads[key]->jogos, prev = 0; x != 0; prev = x, x = x->next)
      {
        if (strcmp(x->nome_jogo, nome) == 0)
        {
          {
            if (x == heads[key]->jogos)
            {
              {
                heads[key]->jogos = x->next;
              }
            }
            else
            {
              {
                prev->next = x->next;
              }
            }

            free_jogo(x);
            break;
          }
        }
        else
        {
          
        }

      }

      return 1;
    }
  }
  else
  {
    
  }

  return 0;
}

void free_hash_jogos(table_j **heads, int M)
{
  Jogo *x;
  Jogo *head;
  int i;
  for (i = 0; i < M; i++)
  {
    if (heads[i] != 0)
    {
      {
        head = heads[i]->jogos;
        for (x = head; head != 0; x = head)
        {
          head = head->next;
          free_jogo(x);
        }

      }
    }
    else
    {
      
    }

    free(heads[i]);
  }

  free(heads);
}

