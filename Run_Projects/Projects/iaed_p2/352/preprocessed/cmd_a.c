/*File generated by PreProcessor.py*/


#include "header.h"


void cmd_a()
{
  Jogo *j;
  Jogo *atual;
  JogosOrd *temp;
  Equipa *aux1;
  int indice_equipa;
  int indice_jogo;
  char aux_n[1025];
  char aux_eq1[1025];
  char aux_eq2[1025];
  j = malloc(sizeof(Jogo));
  temp = malloc(sizeof(JogosOrd));
  for (int aux_n_index = 0; aux_n_index < 10; aux_n_index++)
  {
    aux_n[aux_n_index] = new_sym_var(sizeof(char) * 8);
  }

  aux_n[10 - 1] = '\0';
  for (int aux_eq1_index = 0; aux_eq1_index < 10; aux_eq1_index++)
  {
    aux_eq1[aux_eq1_index] = new_sym_var(sizeof(char) * 8);
  }

  aux_eq1[10 - 1] = '\0';
  for (int aux_eq2_index = 0; aux_eq2_index < 10; aux_eq2_index++)
  {
    aux_eq2[aux_eq2_index] = new_sym_var(sizeof(char) * 8);
  }

  aux_eq2[10 - 1] = '\0';
  j->score_1 = new_sym_var(sizeof(int) * 8);
  j->score_2 = new_sym_var(sizeof(int) * 8);
  j->nome = malloc((sizeof(char)) * (strlen(aux_n) + 1));
  j->equipa_1 = malloc((sizeof(char)) * (strlen(aux_eq1) + 1));
  j->equipa_2 = malloc((sizeof(char)) * (strlen(aux_eq2) + 1));
  strcpy(j->nome, aux_n);
  strcpy(j->equipa_1, aux_eq1);
  strcpy(j->equipa_2, aux_eq2);
  indice_jogo = hash(j->nome);
  if (HashGames[indice_jogo] == 0)
  {
    if (equipa_nao_existe(j->equipa_1) || equipa_nao_existe(j->equipa_2))
    {
      free(j->nome);
      free(j->equipa_1);
      free(j->equipa_2);
      free(j);
      free(temp);
      printf("%d Equipa inexistente.\n", nl);
      return;
    }
    else
    {
      
    }

    HashGames[indice_jogo] = j;
    HashGames[indice_jogo]->next = 0;
  }
  else
  {
    atual = HashGames[indice_jogo];
    while ((atual->next != 0) && (strcmp(atual->nome, j->nome) != 0))
      atual = atual->next;

    if (strcmp(atual->nome, j->nome) == 0)
    {
      free(j->nome);
      free(j->equipa_1);
      free(j->equipa_2);
      free(j);
      free(temp);
      printf("%d Jogo existente.\n", nl);
      return;
    }
    else
    {
      
    }

    if (equipa_nao_existe(j->equipa_1) || equipa_nao_existe(j->equipa_2))
    {
      free(j->nome);
      free(j->equipa_1);
      free(j->equipa_2);
      free(j);
      free(temp);
      printf("%d Equipa inexistente.\n", nl);
      return;
    }
    else
    {
      
    }

    atual->next = j;
    atual->next->next = 0;
  }

  if (headgame == 0)
  {
    temp->game = j;
    temp->prev = 0;
    temp->next = 0;
    headgame = temp;
  }
  else
  {
    temp->game = j;
    temp->prev = 0;
    temp->next = headgame;
    headgame->prev = temp;
    headgame = temp;
  }

  if (j->score_1 > j->score_2)
  {
    indice_equipa = hash(j->equipa_1);
    if (strcmp(HashTeams[indice_equipa]->nome_equipa, j->equipa_1) != 0)
    {
      aux1 = HashTeams[indice_equipa];
      while (strcmp(aux1->nome_equipa, j->equipa_1) != 0)
      {
        aux1 = aux1->next;
      }

      aux1->vitorias++;
      return;
    }
    else
    {
      HashTeams[indice_equipa]->vitorias++;
      return;
    }

  }
  else
  {
    
  }

  if (j->score_2 > j->score_1)
  {
    indice_equipa = hash(j->equipa_2);
    if (strcmp(HashTeams[indice_equipa]->nome_equipa, j->equipa_2) != 0)
    {
      aux1 = HashTeams[indice_equipa];
      while (strcmp(aux1->nome_equipa, j->equipa_2) != 0)
      {
        aux1 = aux1->next;
      }

      aux1->vitorias++;
    }
    else
    {
      HashTeams[indice_equipa]->vitorias++;
    }

  }
  else
  {
    
  }

}

