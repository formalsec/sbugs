/*File generated by PreProcessor.py*/


#include "AUXILIARES.h"


int adicionaJogo_aux(char *name1, char *name2, tlink *HashTeams, pTeam *pTeam1, pTeam *pTeam2)
{
  int aux1 = searchTeamHash(name1, HashTeams, pTeam1);
  int aux2 = searchTeamHash(name2, HashTeams, pTeam2);
  if ((aux1 == 1) && (aux2 == 1))
  {
    return 0;
  }
  else
  {
    
  }

  return 1;
}

void atualizaVitorias_adicJogo(int score1, int score2, pTeam pEquipa1, pTeam pEquipa2)
{
  if (score1 > score2)
  {
    pEquipa1->vitorias++;
  }
  else
  {
    if (score2 > score1)
    {
      pEquipa2->vitorias++;
    }
    else
    {
      
    }

  }

}

void atualizaVitorias_apagaJogo(int score1, int score2, pTeam pEquipa1, pTeam pEquipa2)
{
  if (score1 > score2)
  {
    pEquipa1->vitorias--;
  }
  else
  {
    if (score2 > score1)
    {
      pEquipa2->vitorias--;
    }
    else
    {
      
    }

  }

}

void alteraScore_aux(int score1, int score2, int newscore1, int newscore2, pTeam pE1, pTeam pE2)
{
  if (score1 > score2)
  {
    if (newscore2 > newscore1)
    {
      pE1->vitorias--;
      pE2->vitorias++;
    }
    else
    {
      if (newscore2 == newscore1)
      {
        pE1->vitorias--;
      }
      else
      {
        
      }

    }

  }
  else
  {
    if (score1 < score2)
    {
      if (newscore1 > newscore2)
      {
        pE1->vitorias++;
        pE2->vitorias--;
      }
      else
      {
        if (newscore2 == newscore1)
        {
          pE2->vitorias--;
        }
        else
        {
          
        }

      }

    }
    else
    {
      if (score1 == score2)
      {
        if (newscore1 > newscore2)
        {
          pE1->vitorias++;
        }
        else
        {
          if (newscore2 > newscore1)
          {
            pE2->vitorias++;
          }
          else
          {
            
          }

        }

      }
      else
      {
        
      }

    }

  }

}

void atualizaVitorias(pGame pJogo, int caso, int newscore1, int newscore2)
{
  int score1 = pJogo->score1;
  int score2 = pJogo->score2;
  pTeam pEquipa1 = pJogo->pEquipa1;
  pTeam pEquipa2 = pJogo->pEquipa2;
  if (caso == 0)
  {
    atualizaVitorias_adicJogo(score1, score2, pEquipa1, pEquipa2);
  }
  else
  {
    if (caso == 1)
    {
      atualizaVitorias_apagaJogo(score1, score2, pEquipa1, pEquipa2);
    }
    else
    {
      if (caso == 2)
      {
        alteraScore_aux(score1, score2, newscore1, newscore2, pEquipa1, pEquipa2);
      }
      else
      {
        
      }

    }

  }

}

void apagaJogoHash(char *buffer, glink *HashGames, pGame hit)
{
  glink c;
  glink prev;
  int indice = hash(buffer);
  for (c = HashGames[indice], prev = 0; c != 0; prev = c, c = c->next)
  {
    if (c->pJogo == hit)
    {
      if (c == HashGames[indice])
      {
        HashGames[indice] = c->next;
      }
      else
      {
        prev->next = c->next;
      }

      free(c);
      break;
    }
    else
    {
      
    }

  }

}

void apagaJogoLista(glink *pLGhead, glink *pLGtail, pGame hit)
{
  glink c;
  glink prev;
  for (c = *pLGhead, prev = 0; c != 0; prev = c, c = c->next)
  {
    if (c->pJogo == hit)
    {
      if (c == (*pLGhead))
      {
        *pLGhead = c->next;
      }
      else
      {
        if (c == (*pLGtail))
        {
          *pLGtail = c->prev;
          prev->next = 0;
        }
        else
        {
          prev->next = c->next;
        }

      }

      free(c->pJogo->name);
      free(c->pJogo);
      free(c);
      break;
    }
    else
    {
      
    }

  }

}

int cstring_cmp(const void *a, const void *b)
{
  const char **ia = (const char **) a;
  const char **ib = (const char **) b;
  return strcmp(*ia, *ib);
}

