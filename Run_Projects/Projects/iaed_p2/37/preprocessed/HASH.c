/*File generated by PreProcessor.py*/


#include "HASH.h"


int hash(char *v)
{
  int h;
  int a = 31415;
  int b = 27183;
  for (h = 0; (*v) != '\0'; v++, a = (a * b) % (5857 - 1))
    h = ((a * h) + (*v)) % 5857;

  return h;
}

tlink *initTeams()
{
  int i;
  tlink *HashTeams = malloc(5857 * (sizeof(tlink)));
  for (i = 0; i < 5857; i++)
    HashTeams[i] = 0;

  return HashTeams;
}

tlink Tinsert_aux(pTeam pEquipa, tlink next)
{
  tlink x = malloc(sizeof(struct TeamNODE));
  x->pEquipa = pEquipa;
  x->next = next;
  return x;
}

void Tinsert(tlink *HeadFila, pTeam pEquipa)
{
  if ((*HeadFila) == 0)
  {
    *HeadFila = Tinsert_aux(pEquipa, 0);
  }
  else
  {
    *HeadFila = Tinsert_aux(pEquipa, *HeadFila);
  }

}

int searchTeamHash(char *buffer, tlink *HashTeams, pTeam *hit)
{
  char *compare;
  int indice;
  tlink c;
  indice = hash(buffer);
  for (c = HashTeams[indice]; c != 0; c = c->next)
  {
    compare = c->pEquipa->name;
    if (strcmp(compare, buffer) == 0)
    {
      *hit = c->pEquipa;
      return 1;
    }
    else
    {
      
    }

  }

  return 0;
}

void limpaHashTeams(tlink *HashTeams)
{
  int i;
  tlink aux;
  for (i = 0; i < 5857; i++)
  {
    if (HashTeams[i] != 0)
    {
      while (HashTeams[i])
      {
        aux = HashTeams[i];
        HashTeams[i] = HashTeams[i]->next;
        free(aux);
      }

      free(HashTeams[i]);
    }
    else
    {
      
    }

  }

  free(HashTeams);
}

glink *initGames()
{
  int i;
  glink *HashGames = malloc(5857 * (sizeof(glink)));
  for (i = 0; i < 5857; i++)
    HashGames[i] = 0;

  return HashGames;
}

glink Ginsert_aux(pGame pJogo, glink next)
{
  glink x = malloc(sizeof(struct GameNODE));
  x->pJogo = pJogo;
  x->next = next;
  x->prev = 0;
  return x;
}

void Ginsert(glink *HeadFila, pGame pJogo)
{
  glink aux = *HeadFila;
  if ((*HeadFila) == 0)
  {
    *HeadFila = Ginsert_aux(pJogo, 0);
  }
  else
  {
    *HeadFila = Ginsert_aux(pJogo, *HeadFila);
    aux->prev = *HeadFila;
  }

}

int searchGameHash(char *buffer, glink *HashGames, pGame *hit)
{
  char *compare;
  int indice;
  glink c;
  indice = hash(buffer);
  for (c = HashGames[indice]; c != 0; c = c->next)
  {
    compare = c->pJogo->name;
    if (strcmp(compare, buffer) == 0)
    {
      *hit = c->pJogo;
      return 1;
    }
    else
    {
      
    }

  }

  return 0;
}

void limpaHashGames(glink *HashGames)
{
  int i;
  glink aux;
  for (i = 0; i < 5857; i++)
  {
    if (HashGames[i] != 0)
    {
      while (HashGames[i])
      {
        aux = HashGames[i];
        HashGames[i] = HashGames[i]->next;
        free(aux);
      }

      free(HashGames[i]);
    }
    else
    {
      
    }

  }

  free(HashGames);
}

