/*File generated by PreProcessor.py*/


#include <stdio.h>
#include "equipa.h"
#include <stdlib.h>
#include <string.h>


linkEquipa ProcuraEHash(linkEquipa *tab, char *v)
{
  int i;
  linkEquipa e;
  i = hash(v, 631);
  if (tab[i] != 0)
  {
    e = tab[i];
  }
  else
  {
    return 0;
  }

  while (e != 0)
  {
    if (strcmp(e->equipa->nome, v) == 0)
    {
      return e;
    }
    else
    {
      
    }

    e = e->nextHash;
  }

  return 0;
}

linkEquipa NovaEquipa(char *nome)
{
  linkEquipa x;
  Equipa *e = (Equipa *) malloc(sizeof(Equipa));
  x = (linkEquipa) malloc(sizeof(struct Equipa_Node));
  e->nome = (char *) malloc((sizeof(char)) * (strlen(nome) + 1));
  strcpy(e->nome, nome);
  e->vit = (int *) malloc(sizeof(int));
  *e->vit = 0;
  x->equipa = e;
  x->nextHash = 0;
  x->nextList = 0;
  x->prevList = 0;
  return x;
}

void InserirEquipa(linkEquipa *pheade, linkEquipa *ptaile, linkEquipa *tabEquipas, linkEquipa e)
{
  int i;
  i = hash(e->equipa->nome, 631);
  if (tabEquipas[i] != 0)
  {
    e->nextHash = tabEquipas[i];
  }
  else
  {
    
  }

  tabEquipas[i] = e;
  if ((*pheade) != 0)
  {
    e->nextList = *pheade;
    (*pheade)->prevList = e;
    *pheade = e;
    ReposCima(pheade, ptaile, e);
  }
  else
  {
    *pheade = e;
    *ptaile = e;
  }

}

void ReposCima(linkEquipa *pheade, linkEquipa *ptaile, linkEquipa e)
{
  linkEquipa aux;
  int ev;
  int nauxv;
  char *enome;
  char *nauxnome;
  if (e == (*ptaile))
  {
    return;
  }
  else
  {
    
  }

  aux = e;
  ev = *e->equipa->vit;
  nauxv = *aux->nextList->equipa->vit;
  while ((aux->nextList != 0) && (ev > nauxv))
  {
    aux = aux->nextList;
    if (aux->nextList == 0)
    {
      break;
    }
    else
    {
      
    }

    nauxv = *aux->nextList->equipa->vit;
  }

  enome = e->equipa->nome;
  if (aux->nextList != 0)
  {
    nauxnome = aux->nextList->equipa->nome;
  }
  else
  {
    
  }

  while (((aux->nextList != 0) && (ev == nauxv)) && (strcmp(enome, nauxnome) < 0))
  {
    aux = aux->nextList;
    if (aux->nextList == 0)
    {
      break;
    }
    else
    {
      
    }

    nauxv = *aux->nextList->equipa->vit;
    nauxnome = aux->nextList->equipa->nome;
  }

  if (aux == e)
  {
    return;
  }
  else
  {
    if (aux == (*ptaile))
    {
      if (e == (*pheade))
      {
        *pheade = (*pheade)->nextList;
        (*pheade)->prevList = 0;
      }
      else
      {
        e->nextList->prevList = e->prevList;
        e->prevList->nextList = e->nextList;
      }

      (*ptaile)->nextList = e;
      e->prevList = *ptaile;
      *ptaile = e;
      e->nextList = 0;
    }
    else
    {
      if (e == (*pheade))
      {
        *pheade = (*pheade)->nextList;
        (*pheade)->prevList = 0;
      }
      else
      {
        e->nextList->prevList = e->prevList;
        e->prevList->nextList = e->nextList;
      }

      e->nextList = aux->nextList;
      e->prevList = aux;
      aux->nextList = e;
      e->nextList->prevList = e;
    }

  }

}

void ReposBaixo(linkEquipa *pheade, linkEquipa *ptaile, linkEquipa e)
{
  linkEquipa aux;
  int ev;
  int pauxv;
  char *enome;
  char *pauxnome;
  if (e == (*pheade))
  {
    return;
  }
  else
  {
    
  }

  aux = e;
  ev = *e->equipa->vit;
  pauxv = *aux->prevList->equipa->vit;
  while ((aux->prevList != 0) && (ev < pauxv))
  {
    aux = aux->prevList;
    if (aux->prevList == 0)
    {
      break;
    }
    else
    {
      
    }

    pauxv = *aux->prevList->equipa->vit;
  }

  enome = e->equipa->nome;
  if (aux->prevList != 0)
  {
    pauxnome = aux->prevList->equipa->nome;
  }
  else
  {
    
  }

  while (((aux->prevList != 0) && (ev == pauxv)) && (strcmp(enome, pauxnome) > 0))
  {
    aux = aux->prevList;
    if (aux->prevList == 0)
    {
      break;
    }
    else
    {
      
    }

    pauxv = *aux->prevList->equipa->vit;
    pauxnome = aux->prevList->equipa->nome;
  }

  if (aux == e)
  {
    return;
  }
  else
  {
    if (aux == (*pheade))
    {
      if (e == (*ptaile))
      {
        *ptaile = (*ptaile)->prevList;
        (*ptaile)->nextList = 0;
      }
      else
      {
        e->nextList->prevList = e->prevList;
        e->prevList->nextList = e->nextList;
      }

      (*pheade)->prevList = e;
      e->nextList = *pheade;
      *pheade = e;
      e->prevList = 0;
    }
    else
    {
      if (e == (*ptaile))
      {
        *ptaile = (*ptaile)->prevList;
        (*ptaile)->nextList = 0;
      }
      else
      {
        e->nextList->prevList = e->prevList;
        e->prevList->nextList = e->nextList;
      }

      e->prevList = aux->prevList;
      e->nextList = aux;
      aux->prevList = e;
      e->prevList->nextList = e;
    }

  }

}

void freeEquipa(Equipa *e)
{
  free(e->nome);
  free(e->vit);
  free(e);
}

void freeLinkEquipa(linkEquipa e)
{
  if (e->nextHash != 0)
  {
    freeLinkEquipa(e->nextHash);
  }
  else
  {
    
  }

  freeEquipa(e->equipa);
  free(e);
}

