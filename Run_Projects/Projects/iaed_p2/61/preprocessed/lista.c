/*File generated by PreProcessor.py*/


#include "lista.h"


struct _lista
{
  link head;
  link tail;
};
struct _node
{
  Item item;
  link next;
};
list *crialista()
{
  list *new;
  new = (list *) malloc(sizeof(list));
  new->head = (new->tail = 0);
  return new;
}

void adicionalista(list *lista, Item elemento)
{
  link new_node;
  new_node = (link) malloc(sizeof(node));
  new_node->item = elemento;
  new_node->next = 0;
  if (lista_vazia(lista))
  {
    lista->head = new_node;
    lista->tail = new_node;
    return;
  }
  else
  {
    
  }

  lista->tail->next = new_node;
  lista->tail = new_node;
  return;
}

void removelista(list *lista, Item elemento)
{
  link atual;
  link prev;
  for (atual = lista->head, prev = 0; atual != 0; prev = atual, atual = atual->next)
  {
    if (atual->item == elemento)
    {
      if (atual == lista->head)
      {
        lista->head = atual->next;
      }
      else
      {
        prev->next = atual->next;
      }

      if (atual == lista->tail)
      {
        lista->tail = prev;
      }
      else
      {
        
      }

      free(atual);
      break;
    }
    else
    {
      
    }

  }

  return;
}

void freelista(list *lista, int controlo, void (*freeitem)(Item))
{
  link atual;
  link prox;
  if (!lista_vazia(lista))
  {
    for (atual = lista->head, prox = lista->head->next; prox != 0; atual = prox, prox = prox->next)
    {
      if (controlo == 1)
      {
        freeitem(atual->item);
      }
      else
      {
        
      }

      free(atual);
    }

    if (controlo == 1)
    {
      freeitem(atual->item);
    }
    else
    {
      
    }

    free(atual);
  }
  else
  {
    
  }

  free(lista);
  return;
}

int lista_vazia(list *lista)
{
  return lista->head == 0;
}

link headlista(list *lista)
{
  return lista->head;
}

Item lenode(link no)
{
  return no->item;
}

link nextnode(link no)
{
  return no->next;
}

