/*File generated by PreProcessor.py*/


#include "Hash.h"
#include "Estruturas.h"


int dispersao(char *nome)
{
  int posicao = 29;
  int a = 37;
  while ((*nome) != '\0')
  {
    posicao = ((posicao * a) + (*nome)) % 79999;
    nome++;
  }

  return posicao;
}

p_jogo *inicializa_jogos()
{
  p_jogo *tabela;
  int i;
  tabela = (p_jogo *) malloc(79999 * (sizeof(p_jogo)));
  for (i = 0; i < 79999; i++)
  {
    tabela[i] = 0;
  }

  return tabela;
}

p_equipa *inicializa_equipas()
{
  p_equipa *tabela;
  int i;
  tabela = (p_equipa *) malloc(79999 * (sizeof(p_equipa)));
  for (i = 0; i < 79999; i++)
  {
    tabela[i] = 0;
  }

  return tabela;
}

void insere_jogo(p_jogo novo, p_jogo *tab_j)
{
  int posicao;
  posicao = dispersao(novo->nome);
  while (tab_j[posicao] != 0)
  {
    posicao = (posicao + 1) % 79999;
  }

  tab_j[posicao] = novo;
}

void insere_equipa(p_equipa nova, p_equipa *tabela_equipas)
{
  int posicao;
  posicao = dispersao(nova->nome);
  while (tabela_equipas[posicao] != 0)
  {
    posicao = (posicao + 1) % 79999;
  }

  tabela_equipas[posicao] = nova;
}

p_jogo encontra_jogo(char *nome, p_jogo *tab_j, int *pos)
{
  int posicao;
  posicao = dispersao(nome);
  while (tab_j[posicao] != 0)
  {
    if (!strcmp(nome, tab_j[posicao]->nome))
    {
      *pos = posicao;
      break;
    }
    else
    {
      posicao = (posicao + 1) % 79999;
    }

  }

  return tab_j[posicao];
}

p_equipa encontra_equipa(char *nome, p_equipa *tabela_equipas)
{
  int posicao;
  posicao = dispersao(nome);
  while (tabela_equipas[posicao] != 0)
  {
    if (!strcmp(nome, tabela_equipas[posicao]->nome))
    {
      return tabela_equipas[posicao];
    }
    else
    {
      posicao = (posicao + 1) % 79999;
    }

  }

  return 0;
}

void remove_jogo(p_jogo *tab_j, int *posicao)
{
  int i;
  p_jogo aux;
  tab_j[*posicao] = 0;
  for (i = ((*posicao) + 1) % 79999; tab_j[i] != 0; i = (i + 1) % 79999)
  {
    aux = tab_j[i];
    tab_j[i] = 0;
    insere_jogo(aux, tab_j);
  }

}

