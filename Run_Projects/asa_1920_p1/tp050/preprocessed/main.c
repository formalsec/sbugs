/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <stdlib.h>


typedef struct student
{
  int grade;
  struct student **friends;
  int numfriends;
  int isChecked;
} student;
student **list;
int contador = 0;
int auxGrade;
void merge(student **friends, int l, int m, int r)
{
  int i;
  int j;
  int k;
  int n1 = (m - l) + 1;
  int n2 = r - m;
  student *L[n1];
  student *R[n2];
  for (i = 0; i < n1; i++)
    L[i] = friends[l + i];

  for (j = 0; j < n2; j++)
    R[j] = friends[(m + 1) + j];

  i = 0;
  j = 0;
  k = l;
  while ((i < n1) && (j < n2))
  {
    if (L[i]->grade >= R[j]->grade)
    {
      friends[k] = L[i];
      i++;
    }
    else
    {
      friends[k] = R[j];
      j++;
    }

    k++;
  }

  while (i < n1)
  {
    friends[k] = L[i];
    i++;
    k++;
  }

  while (j < n2)
  {
    friends[k] = R[j];
    j++;
    k++;
  }

}

void mergeSort(student **friends, int l, int r)
{
  if (l < r)
  {
    int m = l + ((r - l) / 2);
    mergeSort(friends, l, m);
    mergeSort(friends, m + 1, r);
    merge(friends, l, m, r);
  }
  else
  {
    
  }

}

void visit(student *person)
{
  int j;
  if (!person->isChecked)
  {
    person->grade = auxGrade;
    person->isChecked = 1;
    contador++;
    for (j = 0; j < person->numfriends; j++)
    {
      visit(person->friends[j]);
    }

  }
  else
  {
    
  }

}

int main()
{
  int i;
  int students;
  int friendships;
  int person;
  int friendId;
  student **auxList;
  students = new_sym_var(sizeof(int) * 8);
  friendships = new_sym_var(sizeof(int) * 8);
  list = malloc(students * (sizeof(student *)));
  auxList = malloc(students * (sizeof(student *)));
  for (i = 0; i < students; i++)
  {
    list[i] = malloc(sizeof(struct student));
    list[i]->grade = new_sym_var(sizeof(int) * 8);
    list[i]->isChecked = 0;
    list[i]->numfriends = 0;
  }

  for (i = 0; i < friendships; i++)
  {
    friendId = new_sym_var(sizeof(int) * 8);
    person = new_sym_var(sizeof(int) * 8);
    list[person - 1]->numfriends++;
    if (list[person - 1]->numfriends == 1)
    {
      list[person - 1]->friends = malloc(sizeof(student *));
    }
    else
    {
      list[person - 1]->friends = realloc(list[person - 1]->friends, list[person - 1]->numfriends * (sizeof(student *)));
    }

    list[person - 1]->friends[list[person - 1]->numfriends - 1] = list[friendId - 1];
  }

  for (i = 0; i < students; i++)
  {
    auxList[i] = list[i];
  }

  mergeSort(auxList, 0, students - 1);
  for (i = 0; i < students; i++)
  {
    auxGrade = auxList[i]->grade;
    visit(auxList[i]);
    if (contador == students)
    {
      break;
    }
    else
    {
      
    }

  }

  for (i = 0; i < students; i++)
  {
    printf("%d\n", list[i]->grade);
  }

  return 0;
}

