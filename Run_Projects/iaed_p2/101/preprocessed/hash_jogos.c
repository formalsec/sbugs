/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "hash_jogos.h"


Jogo **JNova_Hash(int max)
{
  Jogo **Hash;
  int i;
  Hash = (Jogo **) malloc(max * (sizeof(Jogo *)));
  for (i = 0; i < max; i++)
    Hash[i] = 0;

  return Hash;
}

Jogo **Jexpande(Jogo **Hash, int M)
{
  int i;
  Jogo **aux = Hash;
  Hash = JNova_Hash(M);
  for (i = 0; i < (M / 2); i++)
    if (aux[i] != 0)
  {
    JInsere_Hash(Hash, aux[i], M);
  }
  else
  {
    
  }


  free(aux);
  return Hash;
}

void JInsere_Hash(Jogo **Hash, Jogo *J, int M)
{
  Chave x = J->nome;
  int i = hash(x, M);
  while (Hash[i] != 0)
    i = (i + 1) % M;

  Hash[i] = J;
}

Jogo *JProcura_Hash(Jogo **Hash, Chave x, int M)
{
  int i = hash(x, M);
  while (Hash[i] != 0)
  {
    if (strcmp(x, Hash[i]->nome) == 0)
    {
      return Hash[i];
    }
    else
    {
      i = (i + 1) % M;
    }

  }

  return 0;
}

int JRemove_Hash(Jogo **Hash, Chave x, int M, int N)
{
  int j;
  int i = hash(x, M);
  Jogo *v;
  while (Hash[i] != 0)
  {
    if (strcmp(x, Hash[i]->nome) == 0)
    {
      break;
    }
    else
    {
      i = (i + 1) % M;
    }

  }

  if (Hash[i] != 0)
  {
    {
      Hash[i] = 0;
      N--;
      for (j = (i + 1) % M; Hash[j] != 0; j = (j + 1) % M, N--)
      {
        v = Hash[j];
        Hash[j] = 0;
        JInsere_Hash(Hash, v, M);
      }

    }
  }
  else
  {
    
  }

  return N;
}

void JDestroi_Hash(Jogo **Hash, Jogos *Lst)
{
  Jogo *aux;
  Jogo *J = Lst->head;
  while (J != 0)
  {
    aux = J->next;
    elimina_jogo(J);
    J = aux;
  }

  free(Hash);
}

