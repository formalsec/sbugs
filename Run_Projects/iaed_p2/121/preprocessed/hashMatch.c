/*File generated by PreProcessor.py*/


#include <stdlib.h>
#include <string.h>
#include "hashMatch.h"
#include "strdup.h"


int CharAt(char *text, int pos)
{
  return text[pos];
}

int hashFunction(char *text)
{
  unsigned int i;
  int final = 7;
  for (i = 0; i < strlen(text); i++)
  {
    final = (31 * final) + CharAt(text, i);
  }

  if (final < 0)
  {
    {
      final *= -1;
    }
  }
  else
  {
    
  }

  return final % 1087;
}

void NewNodeMatch(linkMatch *head, char *matchName, char *team1, char *team2, unsigned int score1, unsigned int score2)
{
  linkMatch new_node = (linkMatch) malloc(sizeof(struct nodeMatch));
  new_node->matchName = mystrdup(matchName);
  new_node->team1 = mystrdup(team1);
  new_node->team2 = mystrdup(team2);
  new_node->score1 = score1;
  new_node->score2 = score2;
  new_node->next = 0;
  if ((*head) == 0)
  {
    {
      *head = new_node;
    }
  }
  else
  {
    {
      new_node->next = *head;
      *head = new_node;
    }
  }

}

linkMatch getMatch(linkMatch list, char *matchName)
{
  linkMatch temp;
  for (temp = list; temp != 0; temp = temp->next)
  {
    if (strcmp(matchName, temp->matchName) == 0)
    {
      return temp;
    }
    else
    {
      
    }

  }

  return 0;
}

void FreeNodeMatch(linkMatch toDelete)
{
  if (toDelete != 0)
  {
    {
      free(toDelete->matchName);
      free(toDelete->team1);
      free(toDelete->team2);
      free(toDelete);
    }
  }
  else
  {
    
  }

}

linkMatch *CreateTableMatches()
{
  int i;
  linkMatch *hashtable = calloc(1087, sizeof(struct nodeMatch));
  for (i = 0; i < 1087; i++)
  {
    hashtable[i] = 0;
  }

  return hashtable;
}

int whoWonTheGame(int score1, int score2)
{
  if (score1 > score2)
  {
    return 1;
  }
  else
  {
    if (score1 < score2)
    {
      return 2;
    }
    else
    {
      return 0;
    }

  }

}

void DestroyHashMatch(linkMatch *HashTableMatch)
{
  int i;
  linkMatch list;
  linkMatch next;
  linkMatch temp;
  for (i = 0; i < 1087; i++)
  {
    list = HashTableMatch[i];
    temp = list;
    while (temp != 0)
    {
      next = temp->next;
      FreeNodeMatch(temp);
      temp = next;
    }

    list = 0;
  }

}

