/*File generated by PreProcessor.py*/


#include "Hash.h"


HashTable HASHinit()
{
  int i;
  HashTable hashtable;
  hashtable = (LinkedList *) malloc(1000 * (sizeof(LinkedList)));
  for (i = 0; i < 1000; i++)
  {
    hashtable[i] = list_init();
  }

  return hashtable;
}

int hash(char *v)
{
  int h = 0;
  int a = 127;
  for (; (*v) != '\0'; v++)
  {
    h = ((a * h) + (*v)) % 1000;
  }

  return h;
}

void insert(HashTable hashtable, Item item)
{
  int i = hash(item->value);
  push(hashtable[i], item);
}

void delete(HashTable hashtable, Key k)
{
  int i = hash(k);
  remove_element(hashtable[i], k);
}

Item search(HashTable hashtable, Key k)
{
  int i = hash(k);
  return get_item(search_list(hashtable[i], k));
}

void destroy_hash(HashTable hashtable)
{
  int i;
  for (i = 0; i < 1000; i++)
  {
    destroy_list(hashtable[i]);
  }

  free(hashtable);
}

