/*File generated by PreProcessor.py*/


#include "List.h"


List InitList()
{
  List l;
  l = (List) malloc(sizeof(struct list));
  SetHead(l, 0);
  SetEnd(l, 0);
  return l;
}

void SetHead(List l, Node node)
{
  l->head = node;
}

void SetEnd(List l, Node node)
{
  l->end = node;
}

Node Head(List l)
{
  return l->head;
}

Node End(List l)
{
  return l->end;
}

void InsertEnd(List l, Game g)
{
  Node new = InitNode();
  SetGame(new, g);
  if (Head(l) != 0)
  {
    {
      SetPrev(new, End(l));
      SetNext(End(l), new);
    }
  }
  else
  {
    {
      SetHead(l, new);
      SetPrev(new, 0);
    }
  }

  SetEnd(l, new);
}

void RemoveGame(Node node, List l)
{
  Team winner;
  if ((Prev(node) != 0) && (Next(node) != 0))
  {
    {
      SetNext(Prev(node), Next(node));
      SetPrev(Next(node), Prev(node));
    }
  }
  else
  {
    if (Prev(node) != 0)
    {
      {
        SetNext(Prev(node), 0);
        SetEnd(l, Prev(node));
      }
    }
    else
    {
      if (Next(node) != 0)
      {
        {
          SetPrev(Next(node), 0);
          SetHead(l, Next(node));
        }
      }
      else
      {
        {
          SetEnd(l, 0);
          SetHead(l, 0);
        }
      }

    }

  }

  winner = Winner(NodeGame(node));
  if (winner != 0)
  {
    DecWins(winner);
  }
  else
  {
    
  }

  DestroyGame(NodeGame(node));
  DestroyNode(node);
}

void DestroyList(List l)
{
  Node aux;
  Node head = Head(l);
  if (head != 0)
  {
    {
      for (aux = Next(head); aux != 0; head = aux, aux = Next(aux))
      {
        DestroyGame(NodeGame(head));
        DestroyNode(head);
      }

      DestroyGame(NodeGame(head));
      DestroyNode(head);
    }
  }
  else
  {
    
  }

  free(l);
}

