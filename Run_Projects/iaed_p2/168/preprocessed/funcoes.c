/*File generated by PreProcessor.py*/


#include "funcoes.h"


void adiciona_jogo(Jogo **jogos, int dim, Equipa **equipas, int conta_linhas)
{
  char nome[1024];
  char equipa1[1024];
  char equipa2[1024];
  int score1;
  int score2;
  Jogo *novo_jogo;
  for (int nome_index = 0; nome_index < 10; nome_index++)
  {
    nome[nome_index] = new_sym_var(sizeof(char) * 8);
  }

  nome[10 - 1] = '\0';
  for (int equipa1_index = 0; equipa1_index < 10; equipa1_index++)
  {
    equipa1[equipa1_index] = new_sym_var(sizeof(char) * 8);
  }

  equipa1[10 - 1] = '\0';
  for (int equipa2_index = 0; equipa2_index < 10; equipa2_index++)
  {
    equipa2[equipa2_index] = new_sym_var(sizeof(char) * 8);
  }

  equipa2[10 - 1] = '\0';
  score1 = new_sym_var(sizeof(int) * 8);
  score2 = new_sym_var(sizeof(int) * 8);
  if (HTprocura_jogo(nome, jogos, dim) != 0)
  {
    printf("%d Jogo existente.\n", conta_linhas);
  }
  else
  {
    if ((HTprocura_equipa(equipa1, equipas, dim) == 0) || (HTprocura_equipa(equipa2, equipas, dim) == 0))
    {
      printf("%d Equipa inexistente.\n", conta_linhas);
    }
    else
    {
      {
        novo_jogo = novoJogo(nome, equipa1, equipa2, score1, score2, conta_linhas);
        HTinsere_jogo(novo_jogo, jogos, dim);
        if (score1 > score2)
        {
          soma_vitorias(HTprocura_equipa(equipa1, equipas, dim));
        }
        else
        {
          if (score2 > score1)
          {
            soma_vitorias(HTprocura_equipa(equipa2, equipas, dim));
          }
          else
          {
            
          }

        }

      }
    }

  }

}

void lista_jogos(Jogo **jogos, int dim, int conta_linhas)
{
  HTlista_jogos(jogos, dim, conta_linhas);
}

void procura_jogo(Jogo **jogos, int dim, int conta_linhas)
{
  char nome[1024];
  for (int nome_index = 0; nome_index < 10; nome_index++)
  {
    nome[nome_index] = new_sym_var(sizeof(char) * 8);
  }

  nome[10 - 1] = '\0';
  if (HTprocura_jogo(nome, jogos, dim) != 0)
  {
    printJogo(HTprocura_jogo(nome, jogos, dim), conta_linhas);
  }
  else
  {
    printf("%d Jogo inexistente.\n", conta_linhas);
  }

}

void apaga_jogo(Jogo **jogos, Equipa **equipas, int dim, int conta_linhas)
{
  Jogo *jogo;
  Equipa *equipa1;
  Equipa *equipa2;
  char nome[1024];
  for (int nome_index = 0; nome_index < 10; nome_index++)
  {
    nome[nome_index] = new_sym_var(sizeof(char) * 8);
  }

  nome[10 - 1] = '\0';
  if (HTprocura_jogo(nome, jogos, dim) != 0)
  {
    {
      jogo = HTprocura_jogo(nome, jogos, dim);
      equipa1 = HTprocura_equipa(jogo->equipa1, equipas, dim);
      equipa2 = HTprocura_equipa(jogo->equipa2, equipas, dim);
      if (jogo->score_equipa1 > jogo->score_equipa2)
      {
        subtrai_vitorias(equipa1);
      }
      else
      {
        if (jogo->score_equipa2 > jogo->score_equipa1)
        {
          subtrai_vitorias(equipa2);
        }
        else
        {
          
        }

      }

      HTremove_jogo(jogo, jogos, dim);
    }
  }
  else
  {
    printf("%d Jogo inexistente.\n", conta_linhas);
  }

}

void altera_score(Jogo **jogos, Equipa **equipas, int dim, int conta_linhas)
{
  Jogo *jogo;
  Equipa *equipa1;
  Equipa *equipa2;
  char nome[1024];
  int score1_novo;
  int score2_novo;
  for (int nome_index = 0; nome_index < 10; nome_index++)
  {
    nome[nome_index] = new_sym_var(sizeof(char) * 8);
  }

  nome[10 - 1] = '\0';
  score1_novo = new_sym_var(sizeof(int) * 8);
  score2_novo = new_sym_var(sizeof(int) * 8);
  if (HTprocura_jogo(nome, jogos, dim) != 0)
  {
    {
      jogo = HTprocura_jogo(nome, jogos, dim);
      equipa1 = HTprocura_equipa(jogo->equipa1, equipas, dim);
      equipa2 = HTprocura_equipa(jogo->equipa2, equipas, dim);
      if (jogo->score_equipa1 > jogo->score_equipa2)
      {
        subtrai_vitorias(equipa1);
      }
      else
      {
        if (jogo->score_equipa2 > jogo->score_equipa1)
        {
          subtrai_vitorias(equipa2);
        }
        else
        {
          
        }

      }

      alteraScore(jogo, score1_novo, score2_novo);
      if (score1_novo > score2_novo)
      {
        soma_vitorias(equipa1);
      }
      else
      {
        if (score2_novo > score1_novo)
        {
          soma_vitorias(equipa2);
        }
        else
        {
          
        }

      }

    }
  }
  else
  {
    printf("%d Jogo inexistente.\n", conta_linhas);
  }

}

void adiciona_equipa(Equipa **equipas, int dim, int conta_linhas)
{
  char nome[1024];
  Equipa *nova_equipa;
  for (int nome_index = 0; nome_index < 10; nome_index++)
  {
    nome[nome_index] = new_sym_var(sizeof(char) * 8);
  }

  nome[10 - 1] = '\0';
  if (HTprocura_equipa(nome, equipas, dim) != 0)
  {
    printf("%d Equipa existente.\n", conta_linhas);
  }
  else
  {
    {
      nova_equipa = novaEquipa(nome);
      HTinsere_equipa(nova_equipa, equipas, dim);
    }
  }

}

void procura_equipa(Equipa **equipas, int dim, int conta_linhas)
{
  char nome[1024];
  for (int nome_index = 0; nome_index < 10; nome_index++)
  {
    nome[nome_index] = new_sym_var(sizeof(char) * 8);
  }

  nome[10 - 1] = '\0';
  if (HTprocura_equipa(nome, equipas, dim) != 0)
  {
    printEquipa(HTprocura_equipa(nome, equipas, dim), conta_linhas);
  }
  else
  {
    printf("%d Equipa inexistente.\n", conta_linhas);
  }

}

void encontra_vencedores(Equipa **equipas, int dim, int conta_linhas)
{
  HTencontra_mais_vitorias(equipas, dim, conta_linhas);
}

