/*File generated by PreProcessor.py*/


#include "game.h"


Game *newGame(int ct, char *name, Team *team1, Team *team2, int score1, int score2)
{
  Game *game = (Game *) malloc(sizeof(Game));
  game->name = (char *) malloc((sizeof(char)) * (strlen(name) + 1));
  strcpy(game->name, name);
  game->team1 = team1;
  game->team2 = team2;
  game->score1 = 0;
  game->score2 = 0;
  game->ct = ct;
  updateGameScore(game, score1, score2);
  return game;
}

void freeGame(Game *game)
{
  updateGameScore(game, 0, 0);
  free(game->name);
  free(game);
}

char *getGameName(Game *game)
{
  return game->name;
}

Team *getGameTeam1(Game *game)
{
  return game->team1;
}

Team *getGameTeam2(Game *game)
{
  return game->team2;
}

int getGameScore1(Game *game)
{
  return game->score1;
}

int getGameScore2(Game *game)
{
  return game->score2;
}

int getGameCT(Game *game)
{
  return game->ct;
}

void updateGameScore(Game *game, int score1, int score2)
{
  if (game->score1 > game->score2)
  {
    {
      addTeamWins(game->team1, -1);
    }
  }
  else
  {
    if (game->score1 < game->score2)
    {
      {
        addTeamWins(game->team2, -1);
      }
    }
    else
    {
      
    }

  }

  game->score1 = score1;
  game->score2 = score2;
  if (game->score1 > game->score2)
  {
    {
      addTeamWins(game->team1, 1);
    }
  }
  else
  {
    if (game->score1 < game->score2)
    {
      {
        addTeamWins(game->team2, 1);
      }
    }
    else
    {
      
    }

  }

}

void printGame(Game *game, int nl)
{
  printf("%d %s %s %s %d %d\n", nl, getGameName(game), getTeamName(game->team1), getTeamName(game->team2), game->score1, game->score2);
}

int gameKeyOrder(char *name, Game *game)
{
  return strcmp(name, game->name);
}

int gamesOrder(Game *game1, Game *game2)
{
  return strcmp(game1->name, game2->name);
}

