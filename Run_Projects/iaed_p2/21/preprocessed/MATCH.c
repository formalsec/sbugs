/*File generated by PreProcessor.py*/


#include "MATCH.h"
#include "TEAM.h"
#include "TEAMHTABLE.h"


void freeMatch(Match m)
{
  free(m->name);
  free(m);
}

Team getWinTeam(Match match)
{
  if (match->score1 > match->score2)
  {
    {
      return match->team1;
    }
  }
  else
  {
    if (match->score1 < match->score2)
    {
      {
        return match->team2;
      }
    }
    else
    {
      
    }

  }

  return 0;
}

Team getLoserTeam(Match match)
{
  if (match->score1 < match->score2)
  {
    {
      return match->team1;
    }
  }
  else
  {
    if (match->score1 > match->score2)
    {
      {
        return match->team2;
      }
    }
    else
    {
      
    }

  }

  return 0;
}

void removeScores(Match match)
{
  if (match->score1 > match->score2)
  {
    {
      match->team1->score--;
    }
  }
  else
  {
    if (match->score1 < match->score2)
    {
      {
        match->team2->score--;
      }
    }
    else
    {
      
    }

  }

}

void changeScores(Match match, int s1, int s2)
{
  removeScores(match);
  match->score1 = s1;
  match->score2 = s2;
  updateTeamScore(match);
}

void updateTeamScore(Match match)
{
  if (match->score1 > match->score2)
  {
    {
      match->team1->score++;
    }
  }
  else
  {
    if (match->score1 < match->score2)
    {
      {
        match->team2->score++;
      }
    }
    else
    {
      
    }

  }

}

Match newMatch(char *name, char *team1, char *team2, int score1, int score2)
{
  teamNode t1;
  teamNode t2;
  Match new = (Match) malloc(sizeof(struct match));
  size_t size = strlen(name) + 1;
  t1 = teamSearch(team1);
  t2 = teamSearch(team2);
  new->name = (char *) malloc((sizeof(char)) * size);
  strncpy(new->name, name, size);
  new->team1 = t1->team;
  new->team2 = t2->team;
  new->score1 = score1;
  new->score2 = score2;
  updateTeamScore(new);
  return new;
}

