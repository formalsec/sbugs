/*File generated by PreProcessor.py*/


#include "estrutura.h"
#include <stdio.h>
#include <stdlib.h>
#include <string.h>


int main()
{
  int run = 1;
  int score1;
  int score2;
  int NL = 0;
  int num_jogos = 0;
  char nome[1023];
  char nome_equipa[1023];
  char equipa1[1023];
  char equipa2[1023];
  char command;
  jogos *hashtable_jogos = criar_hashtablejogos();
  equipas *hashtable_equipas = criar_hashtableequipas();
  while (run)
  {
    command = getchar();
    switch (command)
    {
      case 'a':
        getchar();
        NL++;
        for (int nome_index = 0; nome_index < 10; nome_index++)
      {
        nome[nome_index] = new_sym_var(sizeof(char) * 8);
      }

        nome[10 - 1] = '\0';
        for (int equipa1_index = 0; equipa1_index < 10; equipa1_index++)
      {
        equipa1[equipa1_index] = new_sym_var(sizeof(char) * 8);
      }

        equipa1[10 - 1] = '\0';
        for (int equipa2_index = 0; equipa2_index < 10; equipa2_index++)
      {
        equipa2[equipa2_index] = new_sym_var(sizeof(char) * 8);
      }

        equipa2[10 - 1] = '\0';
        score1 = new_sym_var(sizeof(int) * 8);
        score2 = new_sym_var(sizeof(int) * 8);
        if (adicionajogo(hashtable_jogos, hashtable_equipas, nome, equipa1, equipa2, score1, score2, num_jogos, NL))
      {
        num_jogos++;
      }
      else
      {
        
      }

        break;

      case 'l':
        NL++;
        listaordemjogos(hashtable_jogos, num_jogos, NL);
        break;

      case 'p':
        getchar();
        NL++;
        for (int nome_index = 0; nome_index < 10; nome_index++)
      {
        nome[nome_index] = new_sym_var(sizeof(char) * 8);
      }

        nome[10 - 1] = '\0';
        procurajogo(hashtable_jogos, nome, NL);
        break;

      case 'r':
        getchar();
        NL++;
        for (int nome_index = 0; nome_index < 10; nome_index++)
      {
        nome[nome_index] = new_sym_var(sizeof(char) * 8);
      }

        nome[10 - 1] = '\0';
        apagajogo(hashtable_jogos, hashtable_equipas, nome, NL);
        break;

      case 's':
        getchar();
        NL++;
        for (int nome_index = 0; nome_index < 10; nome_index++)
      {
        nome[nome_index] = new_sym_var(sizeof(char) * 8);
      }

        nome[10 - 1] = '\0';
        score1 = new_sym_var(sizeof(int) * 8);
        score2 = new_sym_var(sizeof(int) * 8);
        alterascore(hashtable_jogos, hashtable_equipas, nome, score1, score2, NL);
        break;

      case 'A':
        getchar();
        NL++;
        for (int nome_equipa_index = 0; nome_equipa_index < 10; nome_equipa_index++)
      {
        nome_equipa[nome_equipa_index] = new_sym_var(sizeof(char) * 8);
      }

        nome_equipa[10 - 1] = '\0';
        adicionaequipa(hashtable_equipas, nome_equipa, NL);
        break;

      case 'P':
        getchar();
        NL++;
        for (int nome_equipa_index = 0; nome_equipa_index < 10; nome_equipa_index++)
      {
        nome_equipa[nome_equipa_index] = new_sym_var(sizeof(char) * 8);
      }

        nome_equipa[10 - 1] = '\0';
        procuraequipa(hashtable_equipas, nome_equipa, NL);
        break;

      case 'x':
        freehashtable_jogos(hashtable_jogos);
        freehashtable_equipas(hashtable_equipas);
        run = 0;
        break;

    }

  }

  return 0;
}

