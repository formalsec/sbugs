/*File generated by PreProcessor.py*/


#include "hashtablejogo.h"
#include <stdio.h>
#include <stdlib.h>
#include <string.h>


int hashj(char *v, int m)
{
  int h = 0;
  int a = 127;
  for (; (*v) != '\0'; v++)
    h = ((a * h) + (*v)) % m;

  return h;
}

linkj *STiniciaj(int M)
{
  int i;
  linkj *heads = malloc(M * (sizeof(linkj)));
  for (i = 0; i < M; i++)
  {
    heads[i] = 0;
  }

  return heads;
}

linkj insereinicioListj(linkj head, jogo *jg)
{
  linkj j = malloc(sizeof(struct nodej));
  j->jogo = jg;
  if (head == 0)
  {
    {
      j->next = 0;
      head = j;
    }
  }
  else
  {
    {
      j->next = head;
      head = j;
    }
  }

  return head;
}

void STinserej(jogo *jg, int M, linkj *heads)
{
  int i = hashj(jg->nome, M);
  heads[i] = insereinicioListj(heads[i], jg);
}

linkj removeItemListj(linkj head, jogo *jg)
{
  linkj tmp = head;
  if (tmp == 0)
  {
    {
      return head;
    }
  }
  else
  {
    
  }

  if ((tmp != 0) && (strcmp(tmp->jogo->nome, jg->nome) == 0))
  {
    {
      free(tmp->jogo->nome);
      free(tmp->jogo);
      free(tmp);
      head = head->next;
      return head;
    }
  }
  else
  {
    
  }

  for (tmp = head; strcmp(tmp->next->jogo->nome, jg->nome) != 0; tmp = tmp->next)
    ;

  free(tmp->next->jogo->nome);
  free(tmp->next->jogo);
  free(tmp->next);
  tmp->next = tmp->next->next;
  return head;
}

void STapagaj(jogo *jg, int M, linkj *heads)
{
  int i = hashj(jg->nome, M);
  heads[i] = removeItemListj(heads[i], jg);
}

jogo *procuraListj(linkj head, char *nome)
{
  linkj tmp = head;
  if (tmp == 0)
  {
    {
      return 0;
    }
  }
  else
  {
    
  }

  while ((tmp != 0) && (strcmp(tmp->jogo->nome, nome) != 0))
  {
    tmp = tmp->next;
  }

  if ((tmp != 0) && (strcmp(tmp->jogo->nome, nome) == 0))
  {
    {
      return tmp->jogo;
    }
  }
  else
  {
    
  }

  return 0;
}

jogo *STprocuraj(char *nome, int M, linkj *heads)
{
  int i = hashj(nome, M);
  return procuraListj(heads[i], nome);
}

void STfree_listhtj(linkj head)
{
  linkj tmp;
  while (head)
  {
    tmp = head->next;
    free(head->jogo->nome);
    free(head->jogo);
    free(head);
    head = tmp;
  }

}

void STfree_htj(int M, linkj *heads)
{
  int i;
  for (i = 0; i < M; i++)
  {
    STfree_listhtj(heads[i]);
  }

  free(heads);
}

