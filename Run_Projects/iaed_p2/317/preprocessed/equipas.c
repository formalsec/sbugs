/*File generated by PreProcessor.py*/


#include "equipas.h"


int EH_hash(char *v, int M)
{
  int h;
  int a = 31415;
  int b = 27183;
  for (h = 0; (*v) != '\0'; v++, a = (a * b) % (M - 1))
    h = ((a * h) + (*v)) % M;

  return h;
}

void inicializa_equipas_hash(EHnode *Ehash)
{
  int i;
  for (i = 0; i < 137; i++)
    Ehash[i] = 0;

}

Equipa *EHsearch(EHnode *Ehash, char *nome)
{
  int i = EH_hash(nome, 137);
  EHnode node;
  for (node = Ehash[i]; node != 0; node = node->next)
    if (strcmp(node->equipa->nome, nome) == 0)
  {
    return node->equipa;
  }
  else
  {
    
  }


  return 0;
}

void EHinsert(EHnode *Ehash, Equipa *equipa)
{
  int i = EH_hash(equipa->nome, 137);
  EHnode node;
  node = malloc(sizeof(struct node_equipa));
  node->equipa = equipa;
  node->next = Ehash[i];
  Ehash[i] = node;
}

void inicializa_equipas_sistema(Equipas_sistema *equipas_sis)
{
  equipas_sis->n_max_vitorias = 0;
  equipas_sis->n_equipas_max = 0;
  equipas_sis->equipas = malloc(sizeof(EHnode));
  *equipas_sis->equipas = 0;
}

void ESinsert(EHnode *equipas, Equipa *equipa)
{
  EHnode node;
  node = malloc(sizeof(struct node_equipa));
  node->equipa = equipa;
  node->next = *equipas;
  *equipas = node;
}

void free_equipa(Equipa *equipa)
{
  free(equipa->nome);
  free(equipa);
}

void free_equipas_sis(Equipas_sistema *equipas_sis)
{
  EHnode EHnode_aux;
  EHnode EHtmp;
  for (EHnode_aux = *equipas_sis->equipas; EHnode_aux != 0;)
  {
    EHtmp = EHnode_aux->next;
    free(EHnode_aux);
    EHnode_aux = EHtmp;
  }

  free(equipas_sis->equipas);
  free(equipas_sis);
}

