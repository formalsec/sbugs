/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include "equipas.h"


List_Teams *init_list_t()
{
  List_Teams *l;
  l = malloc(sizeof(List_Teams));
  l->head = 0;
  l->last = 0;
  return l;
}

Team *new_team(char *eq)
{
  Team *new;
  new = malloc(sizeof(Team));
  new->nome_eq = malloc((sizeof(char)) * (strlen(eq) + 1));
  strcpy(new->nome_eq, eq);
  new->vitorias = 0;
  new->next = 0;
  new->prev = 0;
  return new;
}

Team *add_end_team(List_Teams *l, char *eq)
{
  Team *new;
  new = new_team(eq);
  new->prev = l->last;
  if (l->last)
  {
    {
      l->last->next = new;
    }
  }
  else
  {
    {
      l->head = new;
    }
  }

  l->last = new;
  return new;
}

Team *search_team(List_Teams *l, char *nome)
{
  Team *t = l->head;
  while (t != 0)
  {
    if (!strcmp(t->nome_eq, nome))
    {
      {
        return t;
      }
    }
    else
    {
      
    }

    t = t->next;
  }

  return 0;
}

void change_wins(List_Teams *l, char *eq, int v)
{
  Team *n;
  n = search_team(l, eq);
  n->vitorias = n->vitorias + v;
}

void free_team(Team *n)
{
  free(n->nome_eq);
  free(n);
}

void remove_team(List_Teams *l, char *eq)
{
  Team *t;
  t = search_team(l, eq);
  if (t->prev == 0)
  {
    {
      l->head = t->next;
    }
  }
  else
  {
    {
      t->prev->next = t->next;
    }
  }

  if (t->next == 0)
  {
    {
      l->last = t->prev;
    }
  }
  else
  {
    {
      t->next->prev = t->prev;
    }
  }

  free_team(t);
}

Team *remove_first_team(Team *head)
{
  Team *aux;
  aux = head->next;
  free_team(head);
  return aux;
}

void free_all_teams(List_Teams *l)
{
  while (l->head != 0)
  {
    l->head = remove_first_team(l->head);
  }

  free(l);
}

void print_team(Team *n)
{
  printf("%s %i\n", n->nome_eq, n->vitorias);
}

