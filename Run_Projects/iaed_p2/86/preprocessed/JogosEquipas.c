/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "Projeto2.h"


teamLink NEWteam(char *buffer)
{
  teamLink new = (teamLink) malloc(sizeof(struct Team));
  new->name = (char *) malloc((sizeof(char)) * (strlen(buffer) + 1));
  strcpy(new->name, buffer);
  new->next = 0;
  new->gamesWon = 0;
  return new;
}

void insertTeam(teamLink *head, char *buffer)
{
  teamLink new = NEWteam(buffer);
  new->next = *head;
  *head = new;
}

teamLink searchTeam(teamLink head, char *name)
{
  teamLink t;
  for (t = head; t != 0; t = t->next)
  {
    if (strcmp(t->name, name) == 0)
    {
      {
        return t;
      }
    }
    else
    {
      
    }

  }

  return 0;
}

void FREEteam(teamLink team)
{
  free(team->name);
  free(team);
}

Game *createGame(char *nameBuffer, teamLink team1, teamLink team2, int score1, int score2)
{
  Game *new = (Game *) malloc(sizeof(Game));
  new->name = (char *) malloc((sizeof(char)) * (strlen(nameBuffer) + 1));
  strcpy(new->name, nameBuffer);
  new->team1 = team1;
  new->team2 = team2;
  new->score = (int *) malloc((sizeof(int)) * 2);
  new->score[0] = score1;
  new->score[1] = score2;
  return new;
}

gameLink NEWgame(Game *game)
{
  gameLink new = (gameLink) malloc(sizeof(struct GameNode));
  new->game = game;
  new->next = 0;
  new->deleted = 0;
  return new;
}

void insertGameBegin(gameLink *head, Game *game)
{
  gameLink x = NEWgame(game);
  x->next = *head;
  *head = x;
}

void insertGameEnd(gameLink *head, Game *game, gameLink *tailGame)
{
  gameLink x;
  if ((*head) == 0)
  {
    {
      x = NEWgame(game);
      *tailGame = x;
      *head = x;
      return;
    }
  }
  else
  {
    
  }

  x = NEWgame(game);
  (*tailGame)->next = x;
  *tailGame = x;
}

gameLink searchGame(gameLink head, char *name)
{
  gameLink t;
  for (t = head; t != 0; t = t->next)
  {
    if ((!t->deleted) && (strcmp(t->game->name, name) == 0))
    {
      {
        return t;
      }
    }
    else
    {
      
    }

  }

  return 0;
}

void deleteGame(gameLink *head, char *name)
{
  gameLink t;
  gameLink prev;
  for (t = *head, prev = 0; t != 0; prev = t, t = t->next)
  {
    if (strcmp(t->game->name, name) == 0)
    {
      {
        if (t == (*head))
        {
          {
            *head = t->next;
          }
        }
        else
        {
          {
            prev->next = t->next;
          }
        }

        FREEgameNode(t);
        break;
      }
    }
    else
    {
      
    }

  }

}

void FREEgameNode(gameLink gameLink)
{
  free(gameLink->game->name);
  free(gameLink->game->score);
  free(gameLink->game);
  free(gameLink);
}

void freeGameList(gameLink head)
{
  gameLink t;
  gameLink next;
  for (t = head; t != 0;)
  {
    next = t->next;
    free(t);
    t = next;
  }

}

