/*File generated by PreProcessor.py*/


#include "jogos.h"
#include "equipas.h"
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <stdbool.h>


hashtable_equipas *init_hash_equipas(int tamanho)
{
  int i = 0;
  hashtable_equipas *hash_table = (hashtable_equipas *) malloc(sizeof(hashtable_equipas));
  hash_table->hash = (equipas **) malloc((sizeof(equipas *)) * tamanho);
  hash_table->tamanho = tamanho;
  hash_table->n_elem = 0;
  for (; i < tamanho; i++)
  {
    hash_table->hash[i] = 0;
  }

  return hash_table;
}

int hash_equipas(hashtable_equipas *hash_table, char *nome)
{
  int i = 0;
  int a = 293;
  int chave = 0;
  for (; nome[i] != '\0'; i++)
  {
    chave = ((a * chave) + nome[i]) % hash_table->tamanho;
  }

  return chave;
}

void insere_hash_equipas(hashtable_equipas *hash_table, equipas *equipa)
{
  int i = hash_equipas(hash_table, equipa->nome);
  for (; hash_table->hash[i] != 0; i = (i + 1) % hash_table->tamanho)
    ;

  hash_table->hash[i] = equipa;
  hash_table->n_elem++;
  if (hash_table->n_elem >= (hash_table->tamanho / 2))
  {
    {
      expandir_hash_equipas(hash_table);
    }
  }
  else
  {
    
  }

}

equipas *procura_hash_equipas(hashtable_equipas *hash_table, char *nome)
{
  int i = hash_equipas(hash_table, nome);
  for (; hash_table->hash[i] != 0; i = (i + 1) % hash_table->tamanho)
  {
    if (!strcmp(hash_table->hash[i]->nome, nome))
    {
      {
        return hash_table->hash[i];
      }
    }
    else
    {
      
    }

  }

  return 0;
}

void expandir_hash_equipas(hashtable_equipas *hash_table)
{
  int i = 0;
  hashtable_equipas *nova_hash = init_hash_equipas(hash_table->tamanho * 2);
  for (; i < hash_table->tamanho; i++)
  {
    if (hash_table->hash[i] != 0)
    {
      {
        insere_hash_equipas(nova_hash, hash_table->hash[i]);
      }
    }
    else
    {
      
    }

  }

  free(hash_table->hash);
  hash_table->hash = nova_hash->hash;
  hash_table->tamanho = nova_hash->tamanho;
  free(nova_hash);
}

void free_hash_equipas(hashtable_equipas *hash_table)
{
  int i = 0;
  for (; i != hash_table->tamanho; i++)
  {
    if (hash_table->hash[i] != 0)
    {
      {
        free(hash_table->hash[i]->nome);
        free(hash_table->hash[i]);
      }
    }
    else
    {
      
    }

  }

  free(hash_table->hash);
  free(hash_table);
}

