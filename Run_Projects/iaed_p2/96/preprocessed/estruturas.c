/*File generated by PreProcessor.py*/


#include "estruturas.h"


unsigned int hash(char *nome)
{
  int i;
  int length = strlen(nome);
  unsigned int hash_pos = 0;
  for (i = 0; i < length; i++)
  {
    hash_pos += nome[i];
    hash_pos = (hash_pos * nome[0]) % 149;
  }

  return hash_pos;
}

bloco_hash_equipa *inicializa_hash_e()
{
  int i;
  bloco_hash_equipa *hash_table_e = malloc((sizeof(bloco_hash_equipa)) * 149);
  for (i = 0; i < 149; i++)
  {
    hash_table_e[i] = 0;
  }

  return hash_table_e;
}

void guarda_equipa_hash(bloco_hash_equipa *table_e, equipa *e)
{
  int pos = hash(e->nome);
  bloco_hash_equipa equipa1 = malloc(sizeof(struct bloco_h_equipa));
  equipa1->next = table_e[pos];
  table_e[pos] = equipa1;
  equipa1->equipa = e;
}

equipa *procura_equipa_hash(bloco_hash_equipa *table_e, char *nome)
{
  int pos = hash(nome);
  bloco_hash_equipa aux;
  aux = table_e[pos];
  while ((aux != 0) && (strcmp(aux->equipa->nome, nome) != 0))
  {
    aux = aux->next;
  }

  if (aux == 0)
  {
    {
      return 0;
    }
  }
  else
  {
    
  }

  return aux->equipa;
}

bloco_hash_jogo *inicializa_hash_j()
{
  int i;
  bloco_hash_jogo *hash_table_j = malloc((sizeof(bloco_hash_jogo)) * 149);
  for (i = 0; i < 149; i++)
  {
    hash_table_j[i] = 0;
  }

  return hash_table_j;
}

void guarda_jogo_hash(bloco_hash_jogo *table_j, jogo *j)
{
  int pos = hash(j->nome);
  bloco_hash_jogo jogo1 = malloc(sizeof(struct bloco_h_jogo));
  jogo1->next = table_j[pos];
  table_j[pos] = jogo1;
  jogo1->jogo = j;
}

jogo *procura_jogo_hash(bloco_hash_jogo *table_j, char *nome)
{
  int pos = hash(nome);
  bloco_hash_jogo aux;
  aux = table_j[pos];
  while ((aux != 0) && (strcmp(aux->jogo->nome, nome) != 0))
  {
    aux = aux->next;
  }

  if (aux == 0)
  {
    {
      return 0;
    }
  }
  else
  {
    
  }

  return aux->jogo;
}

void apaga_jogo_hash(bloco_hash_jogo *table_j, char *nome)
{
  bloco_hash_jogo aux;
  bloco_hash_jogo aux2 = 0;
  int pos = hash(nome);
  aux = table_j[pos];
  while ((aux != 0) && (strcmp(aux->jogo->nome, nome) != 0))
  {
    aux2 = aux;
    aux = aux->next;
  }

  if (aux == 0)
  {
    return;
  }
  else
  {
    
  }

  if (aux2 == 0)
  {
    {
      table_j[pos] = aux->next;
    }
  }
  else
  {
    {
      aux2->next = aux->next;
    }
  }

  free(aux->jogo->nome);
  free(aux->jogo);
  free(aux);
}

