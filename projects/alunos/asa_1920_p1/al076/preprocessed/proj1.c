#include "/home/fmarques/sbugs/projects/alunos/lib/stubs.h"
/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <string.h>
#include <stdlib.h>


typedef struct 
{
  int al1;
  int al2;
} Vector;
int n_alunos = 0;
int n_relacoes = 0;
int max_rel = 0;
Vector *amizades;
int current_index = 0;
void influencia(int i, int al, int relacoes[n_alunos][max_rel], int notas[n_alunos + 1][3]);
int main()
{
  int k = 0;
  int i = 0;
  int e = 0;
  int aluno1 = 0;
  int aluno2 = 0;
  char y;
  char input[100];
  char s_aux[100];
  while (((y = getchar()) != '\n') && (y != EOF))
  {
    input[k] = y;
    k++;
  }

  input[k] = '\0';
  k = 0;
  while (input[i] != ',')
  {
    s_aux[i] = input[i];
    i++;
  }

  s_aux[i] = '\0';
  n_alunos = atoi(s_aux);
  memset(s_aux, '\0', sizeof(s_aux));
  i++;
  while (input[i] != '\0')
  {
    s_aux[k] = input[i];
    i++;
    k++;
  }

  s_aux[k] = '\0';
  n_relacoes = atoi(s_aux);
  memset(s_aux, '\0', sizeof(s_aux));
  int notas[n_alunos + 1][3];
  max_rel = (n_relacoes / 2) + 2;
  int relacoes[n_alunos + 1][max_rel];
  amizades = malloc((sizeof(Vector)) * n_relacoes);
  for (i = 1; i <= n_alunos; i++)
  {
    if (1)
    {
      notas[i][1] = new_sym_var(sizeof(int) * 8);
      notas[i][0] = i;
      notas[i][2] = 0;
      relacoes[i][0] = 0;
    }
    else
    {
      
    }

  }

  for (i = 0; i < n_relacoes; i++)
  {
    if (2)
    {
      aluno1 = new_sym_var(sizeof(int) * 8);
      aluno2 = new_sym_var(sizeof(int) * 8);
      e = 1;
      k = 1;
      if (relacoes[aluno1][0] != 0)
      {
        while (e <= relacoes[aluno1][0])
        {
          if (relacoes[aluno1][e] == aluno2)
          {
            k = 0;
          }
          else
          {
            
          }

          e++;
        }

      }
      else
      {
        
      }

      if (k == 1)
      {
        amizades[i].al1 = aluno1;
        amizades[i].al2 = aluno2;
        k = relacoes[aluno1][0] + 1;
        relacoes[aluno1][k] = aluno2;
        k = relacoes[aluno2][0] + 1;
        relacoes[aluno2][k] = -aluno1;
        relacoes[aluno1][0]++;
        relacoes[aluno2][0]++;
      }
      else
      {
        
      }

    }
    else
    {
      
    }

  }

  while (1)
  {
    k = 0;
    for (i = 1; i <= (n_alunos - 1); i++)
    {
      if (notas[i][1] < notas[i + 1][1])
      {
        aluno1 = notas[i][0];
        aluno2 = notas[i][1];
        notas[i][0] = notas[i + 1][0];
        notas[i][1] = notas[i + 1][1];
        notas[i + 1][0] = aluno1;
        notas[i + 1][1] = aluno2;
        k = 1;
      }
      else
      {
        
      }

    }

    if (k == 0)
    {
      break;
    }
    else
    {
      
    }

  }

  for (i = 1; i <= n_alunos; i++)
  {
    aluno1 = notas[i][0];
    if (notas[aluno1][2] == 0)
    {
      if (relacoes[aluno1][0] > 0)
      {
        influencia(i, aluno1, relacoes, notas);
      }
      else
      {
        
      }

      notas[aluno1][2] = 1;
    }
    else
    {
      
    }

  }

  for (i = 1; i <= n_alunos; i++)
  {
    for (k = 1; k <= n_alunos; k++)
    {
      if (i == notas[k][0])
      {
        printf("%d\n", notas[k][1]);
      }
      else
      {
        
      }

    }

  }

  free(amizades);
  return 0;
}

void influencia(int i, int al, int relacoes[n_alunos][max_rel], int notas[n_alunos + 1][3])
{
  int k = relacoes[al][0];
  int al2;
  int n1;
  int n2;
  int e;
  int aux = 0;
  while (k != 0)
  {
    if (relacoes[al][k] < 0)
    {
      al2 = abs(relacoes[al][k]);
      n1 = notas[i][1];
      for (e = 1; e <= n_alunos; e++)
      {
        if (al2 == notas[e][0])
        {
          aux = e;
          e = n_alunos;
        }
        else
        {
          
        }

      }

      n2 = notas[aux][1];
      if (n1 > n2)
      {
        notas[aux][1] = n1;
        influencia(aux, al2, relacoes, notas);
      }
      else
      {
        
      }

    }
    else
    {
      
    }

    k--;
  }

  notas[al][2] = 1;
}

