#include "/home/fmarques/sbugs/projects/alunos/lib/stubs.h"
/*File generated by PreProcessor.py*/


#include <stdlib.h>
#include <stdio.h>


typedef struct vertices
{
  int index;
  int nota;
  int deg;
  int *gradegranters;
} grafo;
int max(int a, int b)
{
  return (a > b) ? (a) : (b);
}

int gradecalculator3000(int N, grafo *vertices)
{
  int i;
  int j;
  int granter;
  int changed = 0;
  int checker = 0;
  for (i = 0; i < N; i++)
  {
    for (j = 0; j < vertices[i].deg; j++)
    {
      granter = vertices[i].gradegranters[j];
      checker = vertices[i].nota;
      vertices[i].nota = max(vertices[i].nota, vertices[granter].nota);
      if (checker != vertices[i].nota)
      {
        changed = 1;
      }
      else
      {
        
      }

    }

  }

  if (changed != 0)
  {
    gradecalculator3000(N, vertices);
  }
  else
  {
    
  }

  return changed;
}

int main()
{
  int N;
  int M;
  int i;
  int O;
  int D;
  if (2)
  {
    N = new_sym_var(sizeof(int) * 8);
    M = new_sym_var(sizeof(int) * 8);
    ;
  }
  else
  {
    printf("erro");
  }

  grafo *vertices;
  vertices = (grafo *) malloc((sizeof(grafo)) * N);
  for (i = 0; i < N; i++)
  {
    vertices[i].index = i;
    if (1)
    {
      vertices[i].nota = new_sym_var(sizeof(int) * 8);
      ;
    }
    else
    {
      printf("erro");
    }

    vertices[i].deg = 0;
    vertices[i].gradegranters = (int *) malloc((sizeof(int)) * (vertices[i].deg + 1));
  }

  for (i = 0; i < M; i++)
  {
    if (2)
    {
      O = new_sym_var(sizeof(int) * 8);
      D = new_sym_var(sizeof(int) * 8);
      ;
    }
    else
    {
      printf("erro");
    }

    vertices[O - 1].gradegranters[vertices[O - 1].deg] = D - 1;
    vertices[O - 1].deg++;
    vertices[O - 1].gradegranters = (int *) realloc(vertices[O - 1].gradegranters, (sizeof(int)) * (vertices[O - 1].deg + 1));
  }

  gradecalculator3000(N, vertices);
  for (i = 0; i < N; i++)
  {
    printf("%d\n", vertices[i].nota);
  }

  free(vertices);
  return 0;
}

