#include "/home/fmarques/sbugs/projects/alunos/lib/stubs.h"
/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <stdlib.h>


long int n_students = 0;
long int n_rel = 0;
long int higher_grade_student;
long int higher_grade;
long int yikes_counter;
int process_input(long int n_students_aux, long int n_rel_aux)
{
  if ((n_students_aux < 2) || (n_rel_aux < 1))
  {
    return 1;
  }
  else
  {
    
  }

  return 0;
}

void input_grades(long int grades[][2])
{
  int i;
  for (i = 0; i < n_students; i++)
  {
    grades[i][1] = new_sym_var(sizeof(long int) * 8);
    grades[i][0] = 0;
  }

}

void input_rel(long int beneficiary[], long int donner[])
{
  int i;
  for (i = 0; i < n_rel; i++)
  {
    beneficiary[i] = new_sym_var(sizeof(long int) * 8);
    donner[i] = new_sym_var(sizeof(long int) * 8);
  }

}

void select_higher_grade_unprocessed(long int grades[][2])
{
  long int higher_grade_ng = 0;
  long int higher_grade_student_ng = 0;
  int i;
  for (i = 0; i < n_students; i++)
  {
    if ((higher_grade_ng < grades[i][1]) && (grades[i][0] == 0))
    {
      higher_grade_ng = grades[i][1];
      higher_grade_student_ng = i;
    }
    else
    {
      
    }

  }

  higher_grade_student = higher_grade_student_ng + 1;
  higher_grade = higher_grade_ng;
}

void update_values(long int grades[][2], long int beneficiary[], long int donner[])
{
  long int ptc;
  int i;
  for (i = 0; i < n_rel; i++)
  {
    if (donner[i] == higher_grade_student)
    {
      ptc = beneficiary[i];
      ptc -= 1;
      if (grades[ptc][1] < higher_grade)
      {
        grades[ptc][1] = higher_grade;
      }
      else
      {
        
      }

    }
    else
    {
      
    }

  }

}

void process_unprocessed(long int grades[][2])
{
  long int pgtc;
  pgtc = higher_grade_student;
  pgtc -= 1;
  grades[pgtc][0] = 1;
}

void process_grades(long int grades[][2], long int beneficiary[], long int donner[])
{
  int i;
  select_higher_grade_unprocessed(grades);
  update_values(grades, beneficiary, donner);
  process_unprocessed(grades);
  for (i = 0; i < n_students; i++)
  {
    if (grades[i][0] == 0)
    {
      process_grades(grades, beneficiary, donner);
    }
    else
    {
      
    }

  }

}

int main()
{
  long int n_students_aux;
  long int n_rel_aux;
  int status;
  status = 0;
  n_students_aux = 0;
  n_rel_aux = 0;
  n_students_aux = new_sym_var(sizeof(long int) * 8);
  n_rel_aux = new_sym_var(sizeof(long int) * 8);
  status = process_input(n_students_aux, n_rel_aux);
  if (status == 1)
  {
    printf("Invalid Input\n");
    return 1;
  }
  else
  {
    
  }

  n_students = n_students_aux;
  n_rel = n_rel_aux;
  long int grades[n_students][2];
  input_grades(grades);
  long int beneficiary[n_rel];
  long int donner[n_rel];
  input_rel(beneficiary, donner);
  process_grades(grades, beneficiary, donner);
  int i;
  for (i = 0; i < n_students; i++)
  {
    printf("%ld\n", grades[i][1]);
  }

  return 0;
}

