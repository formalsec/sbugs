#include "/home/fmarques/sbugs/projects/alunos/lib/stubs.h"
/*File generated by PreProcessor.py*/


#include <stdlib.h>
#include <stddef.h>
#include <stdio.h>


struct amigos
{
  int aluno;
  int amigo;
};
int *alunos;
struct amigos *amizades;
int mudanca = 1;
void aplicaAlgoritmo(int M)
{
  int a;
  int idAluno;
  int idAmigo;
  for (a = 0; a < M; a++)
  {
    idAluno = amizades[a].aluno - 1;
    idAmigo = amizades[a].amigo - 1;
    if (alunos[idAmigo] > alunos[idAluno])
    {
      alunos[idAluno] = alunos[idAmigo];
      mudanca = 1;
    }
    else
    {
      
    }

  }

}

void display(int N)
{
  int i;
  for (i = 0; i < N; i++)
  {
    printf("%d\n", alunos[i]);
  }

}

int main()
{
  int N;
  int M;
  int i;
  int j;
  N = new_sym_var(sizeof(int) * 8);
  M = new_sym_var(sizeof(int) * 8);
  alunos = (int *) malloc(N * (sizeof(int)));
  amizades = (struct amigos *) malloc(M * (sizeof(struct amigos)));
  for (i = 0; i < N; i++)
  {
    alunos[i] = new_sym_var(sizeof(int) * 8);
  }

  for (j = 0; j < M; j++)
  {
    amizades[j].aluno = new_sym_var(sizeof(int) * 8);
    amizades[j].amigo = new_sym_var(sizeof(int) * 8);
  }

  while (mudanca != 0)
  {
    mudanca = 0;
    aplicaAlgoritmo(M);
  }

  display(N);
  free(alunos);
  return 0;
}

