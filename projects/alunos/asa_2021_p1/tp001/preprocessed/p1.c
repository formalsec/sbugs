#include "/home/fmarques/sbugs/projects/alunos/lib/stubs.h"
/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <stdlib.h>


typedef struct node *link;
typedef struct Vertex *item;
struct Vertex
{
  int id;
  short visited;
  item pi;
  int head;
  int d;
  int low;
};
struct node
{
  item _vertex;
  link next;
};
typedef struct 
{
  link *adjacenciesList;
  int verticesNumber;
  int count;
  int biggest_seq;
  item *_vertices;
} Graph;
int time = 0;
int max(int a, int b)
{
  if (a >= b)
  {
    return a;
  }
  else
  {
    
  }

  return b;
}

int output(Graph graph)
{
  printf("%d %d\n", graph.count, graph.biggest_seq);
  return 0;
}

int visit(Graph *graph, item u)
{
  u->d = time++;
  u->visited = 1;
  link current = graph->adjacenciesList[u->id];
  while (current != 0)
  {
    if (current->_vertex->visited == 0)
    {
      u->low = max(visit(graph, current->_vertex) + 1, u->low);
    }
    else
    {
      u->low = max(current->_vertex->low + 1, u->low);
    }

    current = current->next;
  }

  return u->low;
}

Graph algorithm(Graph graph)
{
  int i;
  graph.biggest_seq = 0;
  for (i = 0; i < graph.verticesNumber; i++)
  {
    if (graph._vertices[i]->head == 1)
    {
      graph._vertices[i]->low = max(visit(&graph, graph._vertices[i]), graph._vertices[i]->low);
    }
    else
    {
      
    }

    if (graph.biggest_seq < (graph._vertices[i]->low + 1))
    {
      graph.biggest_seq = graph._vertices[i]->low + 1;
    }
    else
    {
      
    }

  }

  return graph;
}

item createVertex(int i)
{
  item new = (item) malloc(sizeof(struct Vertex));
  new->id = i;
  new->pi = 0;
  new->visited = 0;
  new->head = 1;
  new->d = -1;
  new->low = 0;
  return new;
}

link createNode(item i)
{
  link new = (link) malloc(sizeof(struct node));
  new->_vertex = i;
  new->next = 0;
  return new;
}

link insertLinkedList(item i, link head)
{
  link new = createNode(i);
  if (head == 0)
  {
    head = new;
  }
  else
  {
    new->next = head;
    head = new;
  }

  return head;
}

Graph builtGraph()
{
  int vertices;
  int edges;
  int vertexOne;
  int vertexTwo;
  int i;
  Graph graph;
  vertices = new_sym_var(sizeof(int) * 8);
  edges = new_sym_var(sizeof(int) * 8);
  graph.adjacenciesList = (link *) malloc((sizeof(link)) * vertices);
  graph.verticesNumber = vertices;
  graph.count = vertices;
  graph._vertices = (item *) malloc((sizeof(item)) * vertices);
  for (i = 0; i < vertices; i++)
  {
    graph.adjacenciesList[i] = 0;
    graph._vertices[i] = createVertex(i);
  }

  for (i = 0; i < edges; i++)
  {
    vertexOne = new_sym_var(sizeof(int) * 8);
    vertexTwo = new_sym_var(sizeof(int) * 8);
    graph.adjacenciesList[vertexOne - 1] = insertLinkedList(graph._vertices[vertexTwo - 1], graph.adjacenciesList[vertexOne - 1]);
    if (graph._vertices[vertexTwo - 1]->head == 1)
    {
      graph._vertices[vertexTwo - 1]->head = 0;
      graph.count--;
    }
    else
    {
      
    }

  }

  return graph;
}

int main()
{
  Graph graph = builtGraph();
  graph = algorithm(graph);
  output(graph);
  return 0;
}

