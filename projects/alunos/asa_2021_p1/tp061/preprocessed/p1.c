#include "/home/fmarques/sbugs/projects/alunos/lib/stubs.h"
/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <string.h>
#include <stdlib.h>


typedef struct dominoe
{
  int root;
  int chain;
  int color;
} Dominoe;
typedef struct connection
{
  int x;
  int y;
} Connection;
Dominoe *dominoes;
Connection *connections;
int n_dom;
int n_conn;
FILE *fp;
void reads_input(int);
void initialize_dominoe(int);
void initialize_connections_file(int);
void initialize_connections_console(int);
void set_connection(int, int, int);
void dfs(int, int);
int main(int argc, char *argv[])
{
  int i;
  int max_chain = 0;
  int interventions = 0;
  if (argc == 2)
  {
    fp = fopen(argv[1], "r");
  }
  else
  {
    
  }

  reads_input(argc);
  for (i = 1; i <= n_dom; i++)
  {
    if (dominoes[i].root == 1)
    {
      interventions += 1;
      dfs(i, n_conn);
      if (max_chain < dominoes[i].chain)
      {
        max_chain = dominoes[i].chain;
      }
      else
      {
        
      }

    }
    else
    {
      
    }

  }

  printf("%d %d\n", interventions, max_chain);
  return 0;
}

void reads_input(int argc)
{
  if (argc == 2)
  {
    if (2 == 2)
    {
      n_dom = new_sym_var(sizeof(int) * 8);
      n_conn = new_sym_var(sizeof(int) * 8);
      dominoes = realloc(dominoes, (n_dom + 1) * (sizeof(Dominoe)));
      initialize_dominoe(n_dom);
    }
    else
    {
      
    }

    connections = realloc(connections, (n_conn + 1) * (sizeof(Connection)));
    initialize_connections_file(n_conn);
  }
  else
  {
    if (2 == 2)
    {
      n_dom = new_sym_var(sizeof(int) * 8);
      n_conn = new_sym_var(sizeof(int) * 8);
      dominoes = malloc((n_dom + 1) * (sizeof(Dominoe)));
      initialize_dominoe(n_dom);
    }
    else
    {
      
    }

    connections = realloc(connections, (n_conn + 1) * (sizeof(Connection)));
    initialize_connections_console(n_conn);
  }

}

void initialize_dominoe(int n_dom)
{
  int i;
  for (i = 1; i <= n_dom; i++)
  {
    dominoes[i].root = 1;
    dominoes[i].color = 0;
    dominoes[i].chain = 1;
  }

}

void initialize_connections_file(int n_conn)
{
  int i;
  int dom_1;
  int dom_2;
  for (i = 1; i <= n_conn; i++)
  {
    if (2 == 2)
    {
      dom_1 = new_sym_var(sizeof(int) * 8);
      dom_2 = new_sym_var(sizeof(int) * 8);
      set_connection(i, dom_1, dom_2);
    }
    else
    {
      
    }

  }

}

void initialize_connections_console(int n_conn)
{
  int i;
  int dom_1;
  int dom_2;
  for (i = 1; i <= n_conn; i++)
  {
    if (2 == 2)
    {
      dom_1 = new_sym_var(sizeof(int) * 8);
      dom_2 = new_sym_var(sizeof(int) * 8);
      set_connection(i, dom_1, dom_2);
    }
    else
    {
      
    }

  }

}

void set_connection(int i, int dom_1, int dom_2)
{
  connections[i].x = dom_1;
  connections[i].y = dom_2;
  dominoes[dom_2].root = 0;
}

void dfs(int father, int n_conn)
{
  int i;
  int k;
  for (i = 1; i <= n_conn; i++)
  {
    if ((father == connections[i].x) && (dominoes[connections[i].y].color != 1))
    {
      dfs(connections[i].y, n_conn);
    }
    else
    {
      
    }

    if ((father == connections[i].x) && (dominoes[connections[i].y].color == 1))
    {
      k = dominoes[connections[i].y].chain + 1;
      if (k > dominoes[father].chain)
      {
        dominoes[father].chain = k;
      }
      else
      {
        
      }

    }
    else
    {
      
    }

  }

  dominoes[father].color = 1;
}

