#include "/home/fmarques/sbugs/projects/alunos/lib/stubs.h"
/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <stdlib.h>


int *input1;
int *input2;
int *solutions1len;
int *solutions1strs;
int *solutions2;
int len = 0;
int len2 = 0;
char c;
char e;
int i;
int j;
int max = 1;
int nrseq = 0;
int a;
int solveProblem2()
{
  max = 0;
  if ((solutions2 = (int *) malloc((len2 + 1) * (sizeof(int)))) == 0)
  {
    printf("Memory not allocated\n");
    exit(0);
  }
  else
  {
    
  }

  for (i = 0; i <= len; i = i + 1)
  {
    a = 0;
    for (j = 0; j <= len2; j = j + 1)
    {
      if ((input1[i] == input2[j]) && ((a + 1) > solutions2[j]))
      {
        solutions2[j] = a + 1;
        if (solutions2[j] > max)
        {
          max = solutions2[j];
        }
        else
        {
          
        }

      }
      else
      {
        
      }

      if ((input1[i] > input2[j]) && (a < solutions2[j]))
      {
        a = solutions2[j];
      }
      else
      {
        
      }

    }

  }

  printf("%d\n", max);
  return 0;
}

int solveProblem1()
{
  if ((solutions1len = (int *) malloc((len + 1) * (sizeof(int)))) == 0)
  {
    printf("Memory not allocated\n");
    exit(0);
  }
  else
  {
    
  }

  if ((solutions1strs = (int *) malloc((len + 1) * (sizeof(int)))) == 0)
  {
    printf("Memory not allocated\n");
    exit(0);
  }
  else
  {
    
  }

  for (i = 0; i <= len; i = i + 1)
  {
    solutions1len[i] = 1;
    solutions1strs[i] = 1;
    for (j = 0; j < i; j = j + 1)
    {
      if (input1[i] > input1[j])
      {
        if ((solutions1len[j] + 1) > solutions1len[i])
        {
          solutions1len[i] = solutions1len[j] + 1;
          if (solutions1len[i] > max)
          {
            max = solutions1len[i];
            nrseq = 0;
          }
          else
          {
            
          }

          solutions1strs[i] = solutions1strs[j];
        }
        else
        {
          if ((solutions1len[j] + 1) == solutions1len[i])
          {
            solutions1strs[i] = solutions1strs[i] + solutions1strs[j];
          }
          else
          {
            
          }

        }

      }
      else
      {
        
      }

    }

    if (solutions1len[i] == max)
    {
      nrseq = nrseq + solutions1strs[i];
    }
    else
    {
      
    }

  }

  printf("%d %d\n", max, nrseq);
  return 0;
}

int getinput(char c)
{
  if ((input1 = (int *) malloc(sizeof(int))) == 0)
  {
    printf("Memory not allocated\n");
    exit(0);
  }
  else
  {
    
  }

  if (1 != 1)
  {
    printf("Read fail1\n");
    exit(0);
  }
  else
  {
    input1[len] = new_sym_var(sizeof(int) * 8);
    
  }

  while (((e = getchar()) != '\n') && (e != EOF))
  {
    len = len + 1;
    input1 = (int *) realloc(input1, (len + 1) * (sizeof(int)));
    if (1 == 1)
    {
      input1[len] = new_sym_var(sizeof(int) * 8);
    }
    else
    {
      
    }

  }

  if ((c - 48) == 2)
  {
    len2 = 0;
    if ((input2 = (int *) malloc(sizeof(int))) == 0)
    {
      printf("Memory not allocated\n");
      exit(0);
    }
    else
    {
      
    }

    if (1 != 1)
    {
      printf("Read fail3\n");
      exit(0);
    }
    else
    {
      input2[len2] = new_sym_var(sizeof(int) * 8);
      
    }

    while (((e = getchar()) != '\n') && (e != EOF))
    {
      len2 = len2 + 1;
      input2 = realloc(input2, (len2 + 1) * (sizeof(int)));
      if (1 != 1)
      {
        printf("Read fail4\n");
        exit(0);
      }
      else
      {
        input2[len2] = new_sym_var(sizeof(int) * 8);
        
      }

    }

  }
  else
  {
    
  }

  return 0;
}

int main(int argc, char *argv[])
{
  c = getchar();
  getchar();
  switch (c)
  {
    case '1':
      getinput(c);
      solveProblem1();
      free(input1);
      free(solutions1len);
      free(solutions1strs);
      break;

    case '2':
      getinput(c);
      solveProblem2();
      free(input2);
      free(input1);
      break;

  }

  return 0;
}

