#include "/home/fmarques/sbugs/projects/alunos/lib/stubs.h"
/*File generated by PreProcessor.py*/


#include <stdlib.h>
#include <stdio.h>


void problem1(int *vec, int size, int aux[])
{
  int i;
  int j;
  if (size <= 1)
  {
    aux[0] = size;
    aux[1] = size;
  }
  else
  {
    
  }

  int *lenght = (int *) malloc(size * (sizeof(int)));
  int *count = (int *) malloc(size * (sizeof(int)));
  for (i = 0; i < size; i++)
  {
    lenght[i] = 1;
    count[i] = 1;
  }

  for (j = 0; j < size; j++)
  {
    for (i = 0; i < j; i++)
    {
      if (vec[i] < vec[j])
      {
        if (lenght[i] >= lenght[j])
        {
          lenght[j] = lenght[i] + 1;
          count[j] = count[i];
        }
        else
        {
          if (lenght[j] == (lenght[i] + 1))
          {
            count[j] += count[i];
          }
          else
          {
            
          }

        }

      }
      else
      {
        
      }

    }

  }

  int max = 0;
  int cnt = 0;
  for (i = 0; i < size; i++)
  {
    if (lenght[i] > max)
    {
      max = lenght[i];
      cnt = count[i];
    }
    else
    {
      if (lenght[i] == max)
      {
        cnt += count[i];
      }
      else
      {
        
      }

    }

  }

  aux[0] = max;
  aux[1] = cnt;
  free(lenght);
  free(count);
}

int problem2(int *vec1, int size1, int *vec2, int size2)
{
  int i;
  int j;
  int k;
  int *result = (int *) malloc(size2 * (sizeof(int)));
  for (i = 0; i < size2; i++)
  {
    result[i] = 0;
  }

  for (i = 0; i < size1; i++)
  {
    int len = 0;
    for (j = 0; j < size2; j++)
    {
      if (vec1[i] == vec2[j])
      {
        if ((len + 1) > result[j])
        {
          result[j] = len + 1;
        }
        else
        {
          
        }

      }
      else
      {
        
      }

      if (vec1[i] > vec2[j])
      {
        if (result[j] > len)
        {
          len = result[j];
        }
        else
        {
          
        }

      }
      else
      {
        
      }

    }

  }

  int value = 0;
  for (k = 0; k < size2; k++)
  {
    if (result[k] > value)
    {
      value = result[k];
    }
    else
    {
      
    }

  }

  return value;
}

int main()
{
  int array[2] = {0, 0};
  int size = 0;
  int size1 = 0;
  int d;
  char temp = ' ';
  int *vec = (int *) malloc((size + 1) * (sizeof(int)));
  d = new_sym_var(sizeof(int) * 8);
  if (d == 1)
  {
    while (temp != '\n')
    {
      vec[size] = new_sym_var(sizeof(int) * 8);
      temp = new_sym_var(sizeof(char) * 8);
      size++;
      vec = (int *) realloc(vec, (size + 1) * (sizeof(int)));
    }

    problem1(vec, size, array);
    printf("%d %d\n", array[0], array[1]);
  }
  else
  {
    
  }

  if (d == 2)
  {
    while (temp != '\n')
    {
      vec[size] = new_sym_var(sizeof(int) * 8);
      temp = new_sym_var(sizeof(char) * 8);
      size++;
      vec = (int *) realloc(vec, (size + 1) * (sizeof(int)));
    }

    int *vec1 = (int *) malloc((size1 + 1) * (sizeof(int)));
    temp = ' ';
    while (temp != '\n')
    {
      vec1[size1] = new_sym_var(sizeof(int) * 8);
      temp = new_sym_var(sizeof(char) * 8);
      size1++;
      vec1 = (int *) realloc(vec1, (size1 + 1) * (sizeof(int)));
    }

    int result = problem2(vec, size, vec1, size1);
    printf("%d\n", result);
    free(vec1);
  }
  else
  {
    
  }

  free(vec);
  return 0;
}

