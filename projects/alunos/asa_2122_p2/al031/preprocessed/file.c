#include "/home/fmarques/sbugs/projects/alunos/lib/stubs.h"
/*File generated by PreProcessor.py*/


#include <stdlib.h>
#include <string.h>
#include <malloc.h>
#include <math.h>
#include <time.h>


struct vert
{
  int indeg;
  int p1;
  int p2;
  int found[3];
  int exit;
};
int dfs_loop(struct vert *graph, int v)
{
  int ret = 0;
  if (graph[v].found[0] == 1)
  {
    return graph[v].exit == 0;
  }
  else
  {
    
  }

  graph[v].found[0] = 1;
  if (graph[v].p1 != 0)
  {
    ret |= dfs_loop(graph, graph[v].p1);
  }
  else
  {
    
  }

  if (graph[v].p2 != 0)
  {
    ret |= dfs_loop(graph, graph[v].p2);
  }
  else
  {
    
  }

  graph[v].exit = 1;
  return ret;
}

void dfs_mark(struct vert *graph, int v, int i)
{
  if (graph[v].found[i] == 1)
  {
    return;
  }
  else
  {
    
  }

  graph[v].found[i] = 1;
  if (graph[v].p1 != 0)
  {
    dfs_mark(graph, graph[v].p1, i);
  }
  else
  {
    
  }

  if (graph[v].p2 != 0)
  {
    dfs_mark(graph, graph[v].p2, i);
  }
  else
  {
    
  }

}

int main(int argc, char **argv)
{
  int v1;
  int v2;
  int n;
  int m;
  int i;
  int e1;
  int e2;
  int count;
  struct vert *graph;
  if (4 != 4)
  {
    return 1;
  }
  else
  {
    v1 = new_sym_var(sizeof(int) * 8);
    v2 = new_sym_var(sizeof(int) * 8);
    n = new_sym_var(sizeof(int) * 8);
    m = new_sym_var(sizeof(int) * 8);
    
  }

  graph = (struct vert *) malloc((sizeof(struct vert)) * (n + 1));
  memset(graph, 0, (sizeof(struct vert)) * (n + 1));
  for (; m > 0; m--)
  {
    if (2 != 2)
    {
      printf("0\n");
      return 0;
    }
    else
    {
      e1 = new_sym_var(sizeof(int) * 8);
      e2 = new_sym_var(sizeof(int) * 8);
      
    }

    graph[e1].indeg += 1;
    if (graph[e2].p1 == 0)
    {
      graph[e2].p1 = e1;
    }
    else
    {
      if (graph[e2].p2 == 0)
      {
        graph[e2].p2 = e1;
      }
      else
      {
        printf("0\n");
        return 0;
      }

    }

  }

  for (i = 1; i <= n; i++)
    if (dfs_loop(graph, i))
  {
    printf("0\n");
    return 0;
  }
  else
  {
    
  }


  dfs_mark(graph, v1, 1);
  dfs_mark(graph, v2, 2);
  for (i = 1; i <= n; i++)
    if ((graph[i].found[1] == 0) || (graph[i].found[2] == 0))
  {
    if (graph[i].p1 != 0)
    {
      graph[graph[i].p1].indeg -= 1;
    }
    else
    {
      
    }

    if (graph[i].p2 != 0)
    {
      graph[graph[i].p2].indeg -= 1;
    }
    else
    {
      
    }

  }
  else
  {
    
  }


  count = 0;
  for (i = 1; i <= n; i++)
    if (((graph[i].found[1] == 1) && (graph[i].found[2] == 1)) && (graph[i].indeg == 0))
  {
    printf("%d ", i);
    count += 1;
  }
  else
  {
    
  }


  if (count == 0)
  {
    putchar('-');
  }
  else
  {
    
  }

  putchar('\n');
  free(graph);
  return 0;
}

