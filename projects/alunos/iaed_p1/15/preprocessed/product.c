#include "/home/fmarques/sbugs/projects/alunos/lib/stubs.h"
/*File generated by PreProcessor.py*/


#include <stdlib.h>
#include <stdio.h>
#include <string.h>
#include "myLib.h"
#include "product.h"


Product *product_new(const char *desc, int preco, int peso)
{
  Product *p;
  extern char *strdup(const char *);
  static int next_id = 0;
  p = (Product *) malloc(sizeof(Product));
  if (errno > 0)
  {
    perror("product_new: malloc");
    exit(errno);
  }
  else
  {
    
  }

  ;
  p->id = next_id++;
  p->preco = preco;
  p->peso = peso;
  p->descricao = strdup(desc);
  return p;
}

void product_free(Product *p)
{
  if (p == 0)
  {
    printf("%s: null pointer\n", "product_free");
    exit(1);
  }
  else
  {
    
  }

  ;
  free(p->descricao);
  free(p);
}

int product_get_id(const Product *p)
{
  if (p == 0)
  {
    printf("%s: null pointer\n", "product_get_id");
    exit(1);
  }
  else
  {
    
  }

  ;
  return p->id;
}

int product_get_price(const Product *p)
{
  if (p == 0)
  {
    printf("%s: null pointer\n", "product_get_price");
    exit(1);
  }
  else
  {
    
  }

  ;
  return p->preco;
}

int product_get_weight(const Product *p)
{
  if (p == 0)
  {
    printf("%s: null pointer\n", "product_get_weight");
    exit(1);
  }
  else
  {
    
  }

  ;
  return p->peso;
}

char *product_get_desc(const Product *p)
{
  if (p == 0)
  {
    printf("%s: null pointer\n", "product_get_desc");
    exit(1);
  }
  else
  {
    
  }

  ;
  return p->descricao;
}

int product_set_price(Product *p, int new_price)
{
  if (p == 0)
  {
    printf("%s: null pointer\n", "product_set_price");
    exit(1);
  }
  else
  {
    
  }

  ;
  p->preco = new_price;
  return 0;
}

char *product_to_string(const Product *p, char *buf, int buf_size)
{
  if (p == 0)
  {
    printf("%s: null pointer\n", "product_to_string");
    exit(1);
  }
  else
  {
    
  }

  ;
  snprintf(buf, buf_size, "Product: ID=%d P=%d W=%d %s", product_get_id(p), product_get_price(p), product_get_weight(p), product_get_desc(p));
  return buf;
}

void product_print(const Product *p)
{
  char buf[100];
  if (p == 0)
  {
    printf("%s: null pointer\n", "product_print");
    exit(1);
  }
  else
  {
    
  }

  ;
  printf("%s\n", product_to_string(p, buf, 100));
}

