#include "/home/fmarques/sbugs/projects/alunos/lib/stubs.h"
/*File generated by PreProcessor.py*/


#include "products.h"
#include <stdio.h>
#include "misc.h"
#include "orders.h"
#include <string.h>


void show_stock()
{
  int i;
  printf("Produtos\n");
  for (i = 0; i < 10000; i++)
  {
    if (prod_exists(i))
    {
      printf("* %s %d %d\n", stock[i].description, stock[i].price, stock[i].quantity);
    }
    else
    {
      
    }

  }

}

void show_orders()
{
  int i;
  int ide;
  ide = new_sym_var(sizeof(int) * 8);
  printf("Encomenda %d\n", ide);
  for (i = 0; i < 200; i++)
  {
    if (strlen(order[ide][i].description) != 0)
    {
      printf("* %s %d %d\n", order[ide][i].description, order[ide][i].price, order[ide][i].quantity);
    }
    else
    {
      
    }

  }

}

int partition(Product arr[], int low, int high)
{
  Product pivot = arr[high];
  Product temp_prod;
  int i = low - 1;
  int j;
  for (j = low; j <= (high - 1); j++)
  {
    if ((pivot.price > arr[j].price) || ((pivot.price == arr[j].price) && (pivot.id > arr[j].id)))
    {
      i++;
      if (i != j)
      {
        temp_prod = arr[i];
        arr[i] = arr[j];
        arr[j] = temp_prod;
      }
      else
      {
        
      }

    }
    else
    {
      
    }

  }

  temp_prod = arr[i + 1];
  arr[i + 1] = arr[high];
  arr[high] = temp_prod;
  return i + 1;
}

void price_sort(Product arr[], int low, int high)
{
  if (low < high)
  {
    int pi = partition(arr, low, high);
    price_sort(arr, low, pi - 1);
    price_sort(arr, pi + 1, high);
  }
  else
  {
    
  }

}

int alphabet_partition(Product arr[], int low, int high)
{
  Product pivot = arr[high];
  Product temp_prod;
  int i = low - 1;
  int j;
  for (j = low; j <= (high - 1); j++)
  {
    if (strcmp(arr[j].description, pivot.description) < 0)
    {
      i++;
      if (i != j)
      {
        temp_prod = arr[i];
        arr[i] = arr[j];
        arr[j] = temp_prod;
      }
      else
      {
        
      }

    }
    else
    {
      
    }

  }

  temp_prod = arr[i + 1];
  arr[i + 1] = arr[high];
  arr[high] = temp_prod;
  return i + 1;
}

void alphabet_sort(Product arr[], int low, int high)
{
  if (low < high)
  {
    int pi = alphabet_partition(arr, low, high);
    alphabet_sort(arr, low, pi - 1);
    alphabet_sort(arr, pi + 1, high);
  }
  else
  {
    
  }

}

