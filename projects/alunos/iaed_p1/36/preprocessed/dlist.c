/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "dlist.h"


node *new_node(int qtd, int prodId)
{
  node *p = malloc(sizeof(node));
  if (!p)
  {
    perror("new_node: no memory for a new node");
    exit(1);
  }
  else
  {
    
  }

  p->qtd = qtd;
  p->prodId = prodId;
  p->connection = 0;
  p->prev = 0;
  p->next = 0;
  return p;
}

node *push(struct node **head_ref, int qtd, int prodId)
{
  node *p = new_node(qtd, prodId);
  p->next = *head_ref;
  if ((*head_ref) != 0)
  {
    (*head_ref)->prev = p;
  }
  else
  {
    
  }

  *head_ref = p;
  return p;
}

void set_connection(node *sender, node *receiver)
{
  sender->connection = receiver;
  receiver->connection = sender;
}

node *find(node *head, int id)
{
  node *current = head;
  while (current != 0)
  {
    if (current->prodId == id)
    {
      return current;
    }
    else
    {
      
    }

    current = current->next;
  }

  return 0;
}

void deleteNode(node **head_ref, node *del)
{
  if (((*head_ref) == 0) || (del == 0))
  {
    return;
  }
  else
  {
    
  }

  if ((*head_ref) == del)
  {
    *head_ref = del->next;
  }
  else
  {
    
  }

  if (del->next != 0)
  {
    del->next->prev = del->prev;
  }
  else
  {
    
  }

  if (del->prev != 0)
  {
    del->prev->next = del->next;
  }
  else
  {
    
  }

  free(del);
  return;
}

void free_dlist(node *head)
{
  if (!head)
  {
    return;
  }
  else
  {
    
  }

  free_dlist(head->next);
  free(head);
}

