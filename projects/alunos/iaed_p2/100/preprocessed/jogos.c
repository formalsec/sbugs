#include "/home/fmarques/sbugs/projects/alunos/lib/stubs.h"
/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "jogos.h"


void hash_init_jogo(link *heads)
{
  int i;
  for (i = 0; i < 1049; i++)
    heads[i] = 0;

}

link NEW_jogo(jogo_ptr jogo_ptr)
{
  link x = (link) malloc(sizeof(node));
  x->j = jogo_ptr;
  x->next = 0;
  return x;
}

link insertBeginList_jogo(link head, jogo_ptr j)
{
  link x = NEW_jogo(j);
  x->next = head;
  return x;
}

void insertEnd_lista(lst_ptr lista, jogo_ptr j)
{
  link x;
  if (lista->head == 0)
  {
    lista->head = NEW_jogo(j);
    lista->tail = lista->head;
    return;
  }
  else
  {
    
  }

  x = lista->tail;
  x->next = NEW_jogo(j);
  lista->tail = x->next;
  return;
}

int hash_jogo(char *v)
{
  int h = 0;
  int a = 127;
  for (; (*v) != '\0'; v++)
    h = ((a * h) + (*v)) % 1049;

  return h;
}

void hash_insert_jogo(jogo_ptr j, link *heads_jogos)
{
  int i = hash_jogo(j->nome);
  heads_jogos[i] = insertBeginList_jogo(heads_jogos[i], j);
}

jogo_ptr searchList_jogo(link head, char *nome_ptr)
{
  link t;
  jogo_ptr j;
  for (t = head; t != 0; t = t->next)
  {
    j = t->j;
    if (strcmp(j->nome, nome_ptr) == 0)
    {
      return j;
    }
    else
    {
      
    }

  }

  return 0;
}

jogo_ptr hash_search_jogo(char *nome, link *heads_jogos)
{
  int i = hash_jogo(nome);
  return searchList_jogo(heads_jogos[i], nome);
}

void removeItemList_jogo(char *nome, lst_ptr lista)
{
  link t;
  link prev;
  link t_aux;
  jogo_ptr j;
  for (t = lista->head, prev = 0; t != 0; prev = t, t = t_aux)
  {
    j = t->j;
    t_aux = t->next;
    if (strcmp(j->nome, nome) == 0)
    {
      if (t == lista->head)
      {
        lista->head = t->next;
      }
      else
      {
        prev->next = t->next;
      }

      if (t == lista->tail)
      {
        lista->tail = prev;
      }
      else
      {
        
      }

      free(j->nome);
      free(j->equipa1);
      free(j->equipa2);
      free(j);
      free(t);
    }
    else
    {
      
    }

  }

  return;
}

link removeItemList_jogo_hash(char *nome, link head, lst_ptr lista)
{
  link t;
  link prev;
  link t_aux;
  jogo_ptr j;
  for (t = head, prev = 0; t != 0; prev = t, t = t_aux)
  {
    j = t->j;
    t_aux = t->next;
    if (strcmp(j->nome, nome) == 0)
    {
      if (t == head)
      {
        head = t->next;
      }
      else
      {
        prev->next = t->next;
      }

      removeItemList_jogo(nome, lista);
      free(t);
    }
    else
    {
      
    }

  }

  return head;
}

void hash_delete_jogo(char *nome, link *heads_jogos, lst_ptr lista)
{
  int i = hash_jogo(nome);
  heads_jogos[i] = removeItemList_jogo_hash(nome, heads_jogos[i], lista);
}

