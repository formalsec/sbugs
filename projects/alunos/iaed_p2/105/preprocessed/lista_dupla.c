#include "/home/fmarques/sbugs/projects/alunos/lib/stubs.h"
/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <stdlib.h>
#include "lista_dupla.h"


void insere_fim_lista(char *el, node_lista **inicio, node_lista **fim)
{
  node_lista *node = malloc((sizeof(node_lista)) * 1);
  node->nome = el;
  node->prev = 0;
  node->next = 0;
  if ((*inicio) == 0)
  {
    *inicio = node;
    *fim = node;
    return;
  }
  else
  {
    (*fim)->next = node;
    node->prev = *fim;
    *fim = node;
  }

}

void remove_el_lista(char *nome, node_lista **inicio, node_lista **fim)
{
  node_lista *atual = *inicio;
  while ((atual != 0) && (atual->nome != nome))
  {
    atual = atual->next;
  }

  if (atual->prev == 0)
  {
    if (atual->next == 0)
    {
      *inicio = 0;
      *fim = 0;
    }
    else
    {
      *inicio = atual->next;
      (*inicio)->prev = 0;
    }

    free(atual);
    return;
  }
  else
  {
    if (atual->next == 0)
    {
      atual->prev->next = 0;
      *fim = atual->prev;
      free(atual);
      return;
    }
    else
    {
      if ((atual->prev != 0) && (atual->next != 0))
      {
        atual->prev->next = atual->next;
        atual->next->prev = atual->prev;
        free(atual);
        return;
      }
      else
      {
        
      }

    }

  }

}

void apaga_mem_lista(node_lista **inicio)
{
  node_lista *atual = *inicio;
  while (atual != 0)
  {
    node_lista *proximo = atual->next;
    free(atual);
    atual = proximo;
  }

}

