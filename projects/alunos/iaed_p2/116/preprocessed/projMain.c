/*File generated by PreProcessor.py*/


#include "hashEQ.h"
#include "hashJG.h"


void addJogo(HLink_ head1, Link_ *head2, HLink head3, int NL)
{
  int score1;
  int score2;
  Jogo *jogo;
  char nome[1023];
  char equipa1[1023];
  char equipa2[1023];
  Equipa *equipa1_;
  Equipa *equipa2_;
  for (int nome_index = 0; nome_index < 10; nome_index++)
  {
    nome[nome_index] = new_sym_var(sizeof(char) * 8);
  }

  nome[10 - 1] = '\0';
  for (int equipa1_index = 0; equipa1_index < 10; equipa1_index++)
  {
    equipa1[equipa1_index] = new_sym_var(sizeof(char) * 8);
  }

  equipa1[10 - 1] = '\0';
  for (int equipa2_index = 0; equipa2_index < 10; equipa2_index++)
  {
    equipa2[equipa2_index] = new_sym_var(sizeof(char) * 8);
  }

  equipa2[10 - 1] = '\0';
  score1 = new_sym_var(sizeof(int) * 8);
  score2 = new_sym_var(sizeof(int) * 8);
  if (procuraJgHash(head1, 1049, nome) != 0)
  {
    printf("%d Jogo existente.\n", NL);
    return;
  }
  else
  {
    equipa1_ = procuraEqHash(head3, 1049, equipa1);
    equipa2_ = procuraEqHash(head3, 1049, equipa2);
    if ((equipa1_ == 0) || (equipa2_ == 0))
    {
      printf("%d Equipa inexistente.\n", NL);
      return;
    }
    else
    {
      
    }

    jogo = criaJogo(nome, equipa1_, equipa2_, score1, score2);
    addHash_(head1, jogo, 1049);
    *head2 = addJgLista(*head2, jogo);
  }

}

void addEquipa(HLink head, int NL)
{
  char nome[1023];
  Equipa *equipa;
  for (int nome_index = 0; nome_index < 10; nome_index++)
  {
    nome[nome_index] = new_sym_var(sizeof(char) * 8);
  }

  nome[10 - 1] = '\0';
  if (procuraEqHash(head, 1049, nome) != 0)
  {
    printf("%d Equipa existente.\n", NL);
  }
  else
  {
    
  }

  equipa = criaEquipa(nome);
  addHash(head, equipa, 1049);
}

void listarJogos(Link_ listaJgs, int NL)
{
  Link_ aux = listaJgs;
  Jogo *jogo;
  while (aux != 0)
  {
    jogo = obtemElem(aux);
    printf("%d %s %s %s %d %d\n", NL, jogo->nome, jogo->equipa1->nome, jogo->equipa2->nome, jogo->score1, jogo->score2);
    aux = aux->next;
  }

}

void procurarJogo(HLink_ head, int NL)
{
  Jogo *jogo;
  char nome[1023];
  for (int nome_index = 0; nome_index < 10; nome_index++)
  {
    nome[nome_index] = new_sym_var(sizeof(char) * 8);
  }

  nome[10 - 1] = '\0';
  jogo = procuraJgHash(head, 1049, nome);
  if (jogo == 0)
  {
    printf("%d Jogo inexistente.\n", NL);
    return;
  }
  else
  {
    
  }

  printf("%d %s %s %s %d %d\n", NL, jogo->nome, jogo->equipa1->nome, jogo->equipa2->nome, jogo->score1, jogo->score2);
}

void procurarEquipa(HLink head, int NL)
{
  Equipa *equipa;
  char nome[1023];
  for (int nome_index = 0; nome_index < 10; nome_index++)
  {
    nome[nome_index] = new_sym_var(sizeof(char) * 8);
  }

  nome[10 - 1] = '\0';
  equipa = procuraEqHash(head, 1049, nome);
  if (equipa == 0)
  {
    printf("%d Equipa inexistente.\n", NL);
    return;
  }
  else
  {
    
  }

  printf("%d %s %d\n", NL, nome, equipa->jogosVencidos);
}

void apagarJogo(HLink_ head, Link_ *listaJgs, int NL)
{
  char nome[1023];
  Jogo *jogo;
  for (int nome_index = 0; nome_index < 10; nome_index++)
  {
    nome[nome_index] = new_sym_var(sizeof(char) * 8);
  }

  nome[10 - 1] = '\0';
  jogo = procuraJgHash(head, 1049, nome);
  if (jogo == 0)
  {
    printf("%d Jogo inexistente.\n", NL);
    return;
  }
  else
  {
    
  }

  remHash_caso(head, nome, 1049);
  *listaJgs = apagaNode_(*listaJgs, jogo);
}

void alteraScores(HLink_ head, int NL)
{
  int score1_;
  int score2_;
  char nome[1023];
  Jogo *jogo;
  for (int nome_index = 0; nome_index < 10; nome_index++)
  {
    nome[nome_index] = new_sym_var(sizeof(char) * 8);
  }

  nome[10 - 1] = '\0';
  score1_ = new_sym_var(sizeof(int) * 8);
  score2_ = new_sym_var(sizeof(int) * 8);
  jogo = procuraJgHash(head, 1049, nome);
  if (jogo == 0)
  {
    printf("%d Jogo inexistente.\n", NL);
    return;
  }
  else
  {
    
  }

  alteraScore(jogo, score1_, score2_);
}

int main()
{
  HLink hashEq;
  HLink_ hashJg;
  Link_ listaJgs;
  int NL = 1;
  char fun;
  hashEq = inicializaHash(1049);
  hashJg = inicializaHash_(1049);
  listaJgs = inicializaLista_();
  while (1 > 0)
  {
    fun = new_sym_var(sizeof(char) * 8);
    switch (fun)
    {
      case 'a':
        addJogo(hashJg, &listaJgs, hashEq, NL);
        NL++;
        break;

      case 'A':
        addEquipa(hashEq, NL);
        NL++;
        break;

      case 'l':
        listarJogos(listaJgs, NL);
        NL++;
        break;

      case 'p':
        procurarJogo(hashJg, NL);
        NL++;
        break;

      case 'P':
        procurarEquipa(hashEq, NL);
        NL++;
        break;

      case 'r':
        apagarJogo(hashJg, &listaJgs, NL);
        NL++;
        break;

      case 's':
        alteraScores(hashJg, NL);
        NL++;
        break;

      case 'x':
        limpaHash(hashEq, 1049);
        limpaHash_(hashJg, 1049);
        limpaLista_caso(listaJgs);
        return 0;

    }

  }

  return 0;
}

