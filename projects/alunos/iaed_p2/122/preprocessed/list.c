#include "/home/fmarques/sbugs/projects/alunos/lib/stubs.h"
/*File generated by PreProcessor.py*/


#include <stdlib.h>
#include <string.h>
#include "list.h"


void FREEnode(link t)
{
  free(t->name);
  free(t);
}

link NEW(char *buffer)
{
  link x = (link) malloc(sizeof(struct node));
  x->name = (char *) malloc((sizeof(char)) * 1024);
  strcpy(x->name, buffer);
  x->next = 0;
  free(buffer);
  return x;
}

link insertEnd(link head, char *name)
{
  link x;
  if (head == 0)
  {
    return NEW(name);
  }
  else
  {
    
  }

  for (x = head; x->next != 0; x = x->next)
    ;

  x->next = NEW(name);
  return head;
}

link lookup(link head, char *name)
{
  link t;
  for (t = head; t != 0; t = t->next)
    if (strcmp(t->name, name) == 0)
  {
    return t;
  }
  else
  {
    
  }


  return 0;
}

link delete(link head, char *name)
{
  link t;
  link prev;
  for (t = head, prev = 0; t != 0; prev = t, t = t->next)
  {
    if (strcmp(t->name, name) == 0)
    {
      if (t == head)
      {
        head = t->next;
      }
      else
      {
        prev->next = t->next;
      }

      FREEnode(t);
      break;
    }
    else
    {
      
    }

  }

  return head;
}

int isEmpty(link head)
{
  return head == 0;
}

void destroy(link head)
{
  link aux;
  if (!isEmpty(head))
  {
    while (head != 0)
    {
      aux = head;
      head = head->next;
      free(aux->name);
      free(aux);
    }

  }
  else
  {
    
  }

  free(head);
}

