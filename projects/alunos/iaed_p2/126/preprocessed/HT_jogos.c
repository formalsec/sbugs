/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "equipa.h"
#include "HT_equipas.h"
#include "jogo.h"
#include "HT_jogos.h"


HT_jg HTjg_inicializa(int max)
{
  HT_jg jogos;
  int i;
  jogos = (HT_jg) malloc(max * (sizeof(link_jg)));
  for (i = 0; i < max; i++)
    jogos[i] = 0;

  return jogos;
}

link_jg novo_node_jg(Jogo jogo, link_jg prox)
{
  link_jg x = (link_jg) malloc(sizeof(struct node_jg));
  x->jogo = jogo;
  x->prox = prox;
  return x;
}

void HTjg_adiciona(HT_jg jogos, char *nome, Jogo jogo, int max)
{
  int i = hash(nome, max);
  jogos[i] = novo_node_jg(jogo, jogos[i]);
}

Jogo HTjg_procura(HT_jg jogos, char *nome, int max)
{
  link_jg l;
  int i = hash(nome, max);
  for (l = jogos[i]; l != 0; l = l->prox)
    if (strcmp(nome_jogo(l->jogo), nome) == 0)
  {
    return l->jogo;
  }
  else
  {
    
  }


  return 0;
}

void HTjg_apaga(HT_jg jogos, char *nome, Jogo jogo, int max)
{
  int i = hash(nome, max);
  jogos[i] = apaga_jg_lista(jogos[i], jogo);
}

link_jg apaga_jg_lista(link_jg head, Jogo jogo)
{
  link_jg t;
  link_jg ant;
  for (t = head, ant = 0; t != 0; ant = t, t = t->prox)
  {
    if (t->jogo == jogo)
    {
      if (t == head)
      {
        head = t->prox;
      }
      else
      {
        ant->prox = t->prox;
      }

      free(t);
      break;
    }
    else
    {
      
    }

  }

  return head;
}

void HTjg_termina(HT_jg jogos, int max)
{
  int i;
  link_jg link;
  link_jg prox;
  for (i = 0; i < max; i++)
  {
    for (link = jogos[i]; link != 0; link = prox)
    {
      prox = link->prox;
      apaga_jogo(link->jogo);
      free(link);
    }

  }

  free(jogos);
}

