/*File generated by PreProcessor.py*/


#include "listadupJOGO.h"


Jogo *mk_jogo(char nome[1024], char eq1[1024], char eq2[1024], int score[2])
{
  Jogo *novoJogo = malloc(sizeof(Jogo));
  novoJogo->nome = malloc((sizeof(char)) * (strlen(nome) + 1));
  memset(novoJogo->nome, '\0', (sizeof(char)) * (strlen(nome) + 1));
  strcpy(novoJogo->nome, nome);
  novoJogo->equipa1 = malloc((sizeof(char)) * (strlen(eq1) + 1));
  memset(novoJogo->equipa1, '\0', (sizeof(char)) * (strlen(eq1) + 1));
  strcpy(novoJogo->equipa1, eq1);
  novoJogo->equipa2 = malloc((sizeof(char)) * (strlen(eq2) + 1));
  memset(novoJogo->equipa2, '\0', (sizeof(char)) * (strlen(eq2) + 1));
  strcpy(novoJogo->equipa2, eq2);
  novoJogo->score[0] = score[0];
  novoJogo->score[1] = score[1];
  return novoJogo;
}

list_jogo *mk_list_jogo()
{
  list_jogo *newL = malloc(sizeof(list_jogo));
  newL->head = 0;
  newL->last = 0;
  return newL;
}

void add_last_jogo(list_jogo *l, Jogo *j)
{
  node_jogo *newNode = malloc(sizeof(node_jogo));
  newNode->next = 0;
  newNode->jogo = j;
  if ((l->head == 0) && (l->last == 0))
  {
    newNode->previous = 0;
    l->head = newNode;
    l->last = newNode;
  }
  else
  {
    newNode->previous = l->last;
    l->last->next = newNode;
    l->last = newNode;
  }

}

void remove_jogo_aux(node_jogo *l_head, Jogo *j)
{
  if (strcmp(l_head->jogo->nome, j->nome) != 0)
  {
    remove_jogo_aux(l_head->next, j);
  }
  else
  {
    if (l_head->previous != 0)
    {
      l_head->previous->next = l_head->next;
    }
    else
    {
      
    }

    if (l_head->next != 0)
    {
      l_head->next->previous = l_head->previous;
    }
    else
    {
      
    }

    free_jogo(j);
    free(l_head);
  }

}

void remove_jogo(list_jogo *l, Jogo *j)
{
  remove_jogo_aux(l->head, j);
  if (l->head == l->last)
  {
    l->head = 0;
    l->last = 0;
  }
  else
  {
    
  }

}

void free_jogo(Jogo *j)
{
  free(j->nome);
  free(j->equipa1);
  free(j->equipa2);
  free(j);
}

void free_list_jogo(list_jogo *l)
{
  node_jogo *newLast;
  node_jogo *lastNode = l->last;
  if (l->head == 0)
  {
    free(l);
  }
  else
  {
    while (lastNode != l->head)
    {
      newLast = lastNode->previous;
      free_jogo(lastNode->jogo);
      free(lastNode);
      newLast->next = 0;
      lastNode = newLast;
    }

    free_jogo(lastNode->jogo);
    free(lastNode);
    free(l);
  }

}

