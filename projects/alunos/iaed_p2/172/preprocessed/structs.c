#include "/home/fmarques/sbugs/projects/alunos/lib/stubs.h"
/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include "structs.h"


char *ReadString(char *v)
{
  char *s;
  s = (char *) malloc((sizeof(char)) * (strlen(v) + 1));
  s = strcpy(s, v);
  return s;
}

Game NewGame(link *head, link *tail, char *name, char *t1, char *t2)
{
  Game g;
  g = (Game) malloc(sizeof(struct game));
  g->s1 = new_sym_var(sizeof(int) * 8);
  g->s2 = new_sym_var(sizeof(int) * 8);
  g->name = ReadString(name);
  g->t1 = ReadString(t1);
  g->t2 = ReadString(t2);
  InsertGame(head, tail, g);
  return g;
}

void InsertGame(link *head, link *tail, Game g)
{
  link aux = (link) malloc(sizeof(struct node));
  if ((*head) == 0)
  {
    *head = aux;
    (*head)->g = g;
    (*head)->next = 0;
    (*head)->prev = 0;
    *tail = *head;
  }
  else
  {
    aux->g = g;
    aux->next = 0;
    (*tail)->next = aux;
    aux->prev = *tail;
    *tail = aux;
  }

}

void RemoveGame(link *head, link *tail, char *name)
{
  link aux;
  link del;
  aux = *head;
  while (aux != 0)
  {
    if (strcmp(aux->g->name, name) == 0)
    {
      del = aux;
    }
    else
    {
      
    }

    aux = aux->next;
  }

  if (((*head) == 0) || (del == 0))
  {
    return;
  }
  else
  {
    
  }

  if ((*head) == del)
  {
    *head = del->next;
  }
  else
  {
    if ((*tail) == del)
    {
      *tail = del->prev;
    }
    else
    {
      
    }

  }

  if (del->next != 0)
  {
    del->next->prev = del->prev;
  }
  else
  {
    
  }

  if (del->prev != 0)
  {
    del->prev->next = del->next;
  }
  else
  {
    
  }

  free(del);
}

void PrintGame(link *node, int NL)
{
  link aux;
  aux = *node;
  while (aux != 0)
  {
    printf("%d %s %s %s %d %d\n", NL, aux->g->name, aux->g->t1, aux->g->t2, aux->g->s1, aux->g->s2);
    aux = aux->next;
  }

}

void FreeGame(Game g)
{
  free(g->name);
  free(g->t1);
  free(g->t2);
  free(g);
}

Team NewTeam(char *name, Team *head)
{
  Team t;
  t = (Team) malloc(sizeof(struct team));
  t->name = ReadString(name);
  t->wins = 0;
  if ((*head) == 0)
  {
    *head = t;
    (*head)->next = 0;
  }
  else
  {
    t->next = *head;
    *head = t;
  }

  return t;
}

int *MaxWins(Team *head, int *lst)
{
  Team aux;
  aux = *head;
  lst[0] = 0;
  lst[1] = 0;
  while (aux != 0)
  {
    if (aux->wins > lst[0])
    {
      lst[0] = aux->wins;
      lst[1] = 1;
    }
    else
    {
      if (aux->wins == lst[0])
      {
        lst[1]++;
      }
      else
      {
        
      }

    }

    aux = aux->next;
  }

  return lst;
}

void FreeTeam(Team t)
{
  free(t->name);
  free(t);
}

