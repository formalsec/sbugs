#include "/home/fmarques/sbugs/projects/alunos/lib/stubs.h"
/*File generated by PreProcessor.py*/


#include "lista_equipas.h"


char *duplica_string(char *string)
{
  char *string_duplicada;
  string_duplicada = (char *) malloc(strlen(string) + 1);
  strcpy(string_duplicada, string);
  return string_duplicada;
}

Equipa *cria_equipa(char *nome)
{
  Equipa *nova_equipa;
  char *nome_equipa;
  nova_equipa = (Equipa *) malloc(sizeof(struct equipa));
  nome_equipa = duplica_string(nome);
  nova_equipa->nome = nome_equipa;
  nova_equipa->vitorias = 0;
  return nova_equipa;
}

void print_equipa(int numero_linha, Equipa *equipa)
{
  if (equipa == 0)
  {
    return;
  }
  else
  {
    
  }

  printf("%d %s %d\n", numero_linha, equipa->nome, equipa->vitorias);
}

void free_equipa(Equipa *equipa)
{
  free(equipa->nome);
  free(equipa);
}

NodeEquipa *cria_NodeEquipa(Equipa *equipa)
{
  NodeEquipa *node_equipa;
  node_equipa = (NodeEquipa *) malloc(sizeof(struct node_equipa));
  node_equipa->equipa = equipa;
  node_equipa->proximo = 0;
  return node_equipa;
}

void free_NodeEquipa(NodeEquipa *node_equipa)
{
  free_equipa(node_equipa->equipa);
  free(node_equipa);
}

void inicializa_ListaEquipas(ListaEquipas *lista)
{
  lista->inicio = 0;
}

void adiciona_equipa(ListaEquipas *lista, char *nome)
{
  NodeEquipa *nova_equipa;
  Equipa *equipa;
  equipa = cria_equipa(nome);
  nova_equipa = cria_NodeEquipa(equipa);
  nova_equipa->proximo = lista->inicio;
  lista->inicio = nova_equipa;
}

Equipa *procura_equipa(ListaEquipas *lista, char *nome)
{
  NodeEquipa *node_equipa;
  if (lista->inicio == 0)
  {
    return 0;
  }
  else
  {
    
  }

  for (node_equipa = lista->inicio; node_equipa != 0; node_equipa = node_equipa->proximo)
    if (strcmp(node_equipa->equipa->nome, nome) == 0)
  {
    return node_equipa->equipa;
  }
  else
  {
    
  }


  return 0;
}

int procura_equipaVitorias(ListaEquipas *lista, char **nomes_equipas, int vitorias, int posicao, int quantidade)
{
  NodeEquipa *node_equipa;
  if (lista->inicio == 0)
  {
    return posicao;
  }
  else
  {
    
  }

  for (node_equipa = lista->inicio; node_equipa != 0; node_equipa = node_equipa->proximo)
  {
    if (node_equipa->equipa->vitorias == vitorias)
    {
      nomes_equipas[posicao] = node_equipa->equipa->nome;
      posicao++;
      if (quantidade == posicao)
      {
        return posicao;
      }
      else
      {
        
      }

    }
    else
    {
      
    }

  }

  return posicao;
}

void mais_vitorias(ListaEquipas *lista, int *max_vitorias, int *quantidade)
{
  NodeEquipa *node_equipa;
  if (lista->inicio == 0)
  {
    return;
  }
  else
  {
    
  }

  for (node_equipa = lista->inicio; node_equipa != 0; node_equipa = node_equipa->proximo)
  {
    if (node_equipa->equipa->vitorias > (*max_vitorias))
    {
      *max_vitorias = node_equipa->equipa->vitorias;
      *quantidade = 1;
    }
    else
    {
      if (node_equipa->equipa->vitorias == (*max_vitorias))
      {
        *quantidade += 1;
      }
      else
      {
        
      }

    }

  }

}

void free_ListaEquipas(ListaEquipas *lista)
{
  NodeEquipa *equipa;
  NodeEquipa *proxima_equipa;
  equipa = lista->inicio;
  while (equipa != 0)
  {
    proxima_equipa = equipa->proximo;
    free_NodeEquipa(equipa);
    equipa = proxima_equipa;
  }

}

