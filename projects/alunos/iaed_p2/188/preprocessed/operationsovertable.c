/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "operationsovertable.h"


char *strdup(const char *src)
{
  char *dst = malloc(strlen(src) + 1);
  if (dst == 0)
  {
    return 0;
  }
  else
  {
    
  }

  strcpy(dst, src);
  return dst;
}

campeonato *init_array(campeonato *heads, int M)
{
  int i;
  heads = (campeonato *) malloc(M * (sizeof(struct item)));
  for (i = 0; i < M; i++)
  {
    heads[i] = 0;
  }

  return heads;
}

int hash(char *v, int M)
{
  int h = 0;
  int a = 127;
  for (; (*v) != '\0'; v++)
    h = ((a * h) + (*v)) % M;

  return h;
}

campeonato *insert_hash(campeonato *heads, game j, int M)
{
  int i = hash(j->nome, M);
  heads[i] = insertBeginList(heads[i], j);
  return heads;
}

campeonato *removeEl(campeonato *heads, char *text, int M)
{
  int i = hash(text, M);
  heads[i] = removeHashEl(heads[i], text);
  return heads;
}

campeonato removeHashEl(campeonato head, char *text)
{
  campeonato t;
  campeonato prev;
  for (t = head, prev = 0; t != 0; prev = t, t = t->next)
  {
    if (strcmp(t->j->nome, text) == 0)
    {
      if (t == head)
      {
        head = t->next;
      }
      else
      {
        prev->next = t->next;
      }

      free(t->j->equipa1);
      free(t->j->equipa2);
      free(t->j->nome);
      free(t->j);
      free(t);
      return head;
    }
    else
    {
      
    }

  }

  return head;
}

campeonato insertBeginList(campeonato head, game jogo)
{
  if (head != 0)
  {
    campeonato new = (campeonato) malloc(sizeof(struct item));
    new->j = (game) malloc(sizeof(struct jogo));
    new->j->nome = (char *) malloc((sizeof(char)) * (strlen(jogo->nome) + 1));
    strcpy(new->j->nome, jogo->nome);
    new->j->nome = strdup(jogo->nome);
    new->j->equipa1 = strdup(jogo->equipa1);
    new->j->equipa2 = strdup(jogo->equipa2);
    new->j->score1 = jogo->score1;
    new->j->score2 = jogo->score2;
    new->next = head;
    return new;
  }
  else
  {
    campeonato new = NEW_NODE(jogo);
    new->next = head;
    return new;
  }

}

campeonato NEW_NODE(game jogo)
{
  campeonato x = (campeonato) malloc(sizeof(struct item));
  x->j = (game) malloc(sizeof(struct jogo));
  x->j->nome = (char *) malloc((sizeof(char)) * (strlen(jogo->nome) + 1));
  strcpy(x->j->nome, jogo->nome);
  x->j->equipa1 = (char *) malloc((sizeof(char)) * (strlen(jogo->equipa1) + 1));
  strcpy(x->j->equipa1, jogo->equipa1);
  x->j->equipa2 = (char *) malloc((sizeof(char)) * (strlen(jogo->equipa2) + 1));
  strcpy(x->j->equipa2, jogo->equipa2);
  x->j->score1 = jogo->score1;
  x->j->score2 = jogo->score2;
  x->next = 0;
  return x;
}

campeonato search_hash(campeonato *heads, char *name)
{
  int M = 1051;
  int i = hash(name, M);
  return searchList(heads[i], name);
}

campeonato searchList(campeonato head, char *name)
{
  campeonato cabeca;
  for (cabeca = head; cabeca != 0; cabeca = cabeca->next)
  {
    if (strcmp(cabeca->j->nome, name) == 0)
    {
      return cabeca;
    }
    else
    {
      
    }

  }

  return 0;
}

copa *NOVA_COPA(game head)
{
  copa *x = (copa *) malloc(sizeof(struct copas));
  x->text = strdup(head->nome);
  x->Pequipa = strdup(head->equipa1);
  x->Sequipa = strdup(head->equipa2);
  x->Pscore = head->score1;
  x->Sscore = head->score2;
  x->next = 0;
  return x;
}

copa *InsereEnd(copa *head, game j)
{
  copa *x;
  if (head == 0)
  {
    return NOVA_COPA(j);
  }
  else
  {
    
  }

  for (x = head; x->next != 0; x = x->next)
    ;

  x->next = NOVA_COPA(j);
  return head;
}

copa *RLista(copa *head, char *nome)
{
  copa *t;
  copa *prev;
  for (t = head, prev = 0; t != 0; prev = t, t = t->next)
  {
    if (strcmp(t->text, nome) == 0)
    {
      if (t == head)
      {
        head = t->next;
      }
      else
      {
        prev->next = t->next;
      }

      free(t->text);
      free(t->Pequipa);
      free(t->Sequipa);
      free(t);
      return head;
    }
    else
    {
      
    }

  }

  return head;
}

copa *Search_Copas(copa *head, char *nome)
{
  copa *t;
  for (t = head; t != 0; t = t->next)
  {
    if (strcmp(t->text, nome) == 0)
    {
      return t;
    }
    else
    {
      
    }

  }

  free(t);
  return 0;
}

campeonato libertahashtable(campeonato jogo)
{
  if (jogo != 0)
  {
    campeonato old;
    old = jogo;
    jogo = jogo->next;
    free(old->j->equipa1);
    free(old->j->equipa2);
    free(old->j->nome);
    free(old->j);
    free(old);
  }
  else
  {
    
  }

  return jogo;
}

copa *libertalista(copa *lista)
{
  if (lista != 0)
  {
    copa *old;
    old = lista;
    lista = lista->next;
    free(old->Pequipa);
    free(old->Sequipa);
    free(old->text);
    free(old);
  }
  else
  {
    
  }

  return lista;
}

