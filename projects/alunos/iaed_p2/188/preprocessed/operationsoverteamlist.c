#include "/home/fmarques/sbugs/projects/alunos/lib/stubs.h"
/*File generated by PreProcessor.py*/


#include <string.h>
#include <stdlib.h>
#include <stdio.h>
#include "operationsoverteamlist.h"


team NEW(char *buffer)
{
  team x = (team) malloc(sizeof(struct equipa));
  x->nome = (char *) malloc((sizeof(char)) * (strlen(buffer) + 1));
  strcpy(x->nome, buffer);
  x->vitorias = 0;
  x->next = 0;
  return x;
}

team insertBegin(team head, char *text)
{
  team x = NEW(text);
  x->next = head;
  return x;
}

team analisaVitorias(char *equipa1, char *equipa2, int V1, int V2, team equipa)
{
  team equipaVencedora;
  if (V1 > V2)
  {
    equipaVencedora = searchTeams(equipa1, equipa);
    equipaVencedora->vitorias += 1;
  }
  else
  {
    if (V2 > V1)
    {
      equipaVencedora = searchTeams(equipa2, equipa);
      equipaVencedora->vitorias += 1;
    }
    else
    {
      
    }

  }

  return equipa;
}

team searchTeams(char *text, team head)
{
  team t;
  for (t = head; t != 0; t = t->next)
  {
    if (strcmp(t->nome, text) == 0)
    {
      return t;
    }
    else
    {
      
    }

  }

  free(t);
  return 0;
}

void Remove_Vitoria(char *equipa1, char *equipa2, int V1, int V2, team equipa)
{
  team equipaVencedora;
  if (V1 >= V2)
  {
    equipaVencedora = searchTeams(equipa1, equipa);
    if (equipaVencedora->vitorias > 0)
    {
      equipaVencedora->vitorias -= 1;
    }
    else
    {
      
    }

  }
  else
  {
    if (V2 >= V1)
    {
      equipaVencedora = searchTeams(equipa2, equipa);
      if (equipaVencedora->vitorias > 0)
      {
        equipaVencedora->vitorias -= 1;
      }
      else
      {
        
      }

    }
    else
    {
      
    }

  }

}

void Retira_Vitoria(char *nome, team equipa)
{
  team equipaLost;
  equipaLost = searchTeams(nome, equipa);
  if (equipaLost->vitorias > 0)
  {
    equipaLost->vitorias -= 1;
  }
  else
  {
    
  }

}

void Adiciona_Vitoria(char *nome, team equipa)
{
  team equipaWon;
  equipaWon = searchTeams(nome, equipa);
  equipaWon->vitorias += 1;
}

int comprimento(team equipa)
{
  int count = 0;
  team x = equipa;
  while (x != 0)
  {
    count++;
    x = x->next;
  }

  return count;
}

int cmpfunc(const void *a, const void *b)
{
  const char **ia = (const char **) a;
  const char **ib = (const char **) b;
  return strcmp(*ia, *ib);
}

team libertaequipa(team equipa)
{
  if (equipa != 0)
  {
    team old;
    old = equipa;
    equipa = equipa->next;
    free(old->nome);
    free(old);
  }
  else
  {
    
  }

  return equipa;
}

