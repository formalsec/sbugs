#include "/home/fmarques/sbugs/projects/alunos/lib/stubs.h"
/*File generated by PreProcessor.py*/


#include "matches.h"


Matches *add_match_to_list(Matches **head, char *m_name, char *m_team1, char *m_team2, int m_score1, int m_score2)
{
  Matches *new_match = (Matches *) malloc(sizeof(Matches));
  Matches *last = *head;
  memcpy(new_match->match_name, m_name, strlen(m_name) + 1);
  memcpy(new_match->team1, m_team1, strlen(m_team1) + 1);
  memcpy(new_match->team2, m_team2, strlen(m_team2) + 1);
  new_match->score1 = m_score1;
  new_match->score2 = m_score2;
  if (m_score1 > m_score2)
  {
    new_match->winner = 1;
  }
  else
  {
    if (m_score2 > m_score1)
    {
      new_match->winner = 2;
    }
    else
    {
      new_match->winner = 0;
    }

  }

  new_match->next = 0;
  if ((*head) == 0)
  {
    *head = new_match;
  }
  else
  {
    while (last->next != 0)
      last = last->next;

    last->next = new_match;
  }

  return *head;
}

bool match_exists(Matches **head, char *name)
{
  Matches *current;
  for (current = *head; current != 0; current = current->next)
  {
    if (strcmp(current->match_name, name) == 0)
    {
      return true;
    }
    else
    {
      
    }

  }

  return false;
}

bool team_exists_match(Matches **head, char *name)
{
  Matches *current;
  for (current = *head; current != 0; current = current->next)
  {
    if (strcmp(current->match_name, name) == 0)
    {
      return true;
    }
    else
    {
      
    }

  }

  return false;
}

Matches *delete_match_from_list(Matches **head, char *m_name)
{
  Matches *current;
  Matches *prev;
  prev = 0;
  for (current = *head; current != 0; prev = current, current = current->next)
  {
    if (strcmp(current->match_name, m_name) == 0)
    {
      if (prev == 0)
      {
        *head = current->next;
      }
      else
      {
        prev->next = current->next;
      }

      free(current);
      return *head;
    }
    else
    {
      
    }

  }

  return *head;
}

void print_match_found(Matches **head, char *name)
{
  Matches *current;
  for (current = *head; current != 0; current = current->next)
  {
    if (strcmp(current->match_name, name) == 0)
    {
      printf(" %s %s %s %d %d\n", current->match_name, current->team1, current->team2, current->score1, current->score2);
    }
    else
    {
      
    }

  }

}

void free_matches(Matches *head)
{
  Matches *tmp;
  while (head != 0)
  {
    tmp = head;
    head = head->next;
    free(tmp);
  }

}

