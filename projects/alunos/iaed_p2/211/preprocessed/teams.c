#include "/home/fmarques/sbugs/projects/alunos/lib/stubs.h"
/*File generated by PreProcessor.py*/


#include "teams.h"
#include "aux.h"
#include <string.h>
#include <stdlib.h>


node_team *add_linked_list_team(linked_list_teams *linked_teams, char desc[], int victories)
{
  node_team *n = malloc(sizeof(node_team));
  n->desc = malloc((sizeof(char)) * (strlen(desc) + 1));
  strcpy(n->desc, desc);
  n->victories = victories;
  n->next = 0;
  if (linked_teams->last)
  {
    linked_teams->last->next = n;
  }
  else
  {
    linked_teams->head = n;
  }

  linked_teams->last = n;
  return n;
}

void add_hash_table_team(hash_table_teams *hash_teams, node_team *n)
{
  ptr_team *ptr_n = malloc(sizeof(ptr_team));
  int hash_n = hash(n->desc, 1000);
  ptr_team *aux = hash_teams->nodes[hash_n];
  ptr_n->node = n;
  hash_teams->nodes[hash_n] = ptr_n;
  ptr_n->next = aux;
}

ptr_team *search_team(hash_table_teams *hash_teams, char d[])
{
  int hash_n = hash(d, 1000);
  ptr_team *aux = hash_teams->nodes[hash_n];
  while (aux)
  {
    if (strcmp(aux->node->desc, d) == 0)
    {
      return aux;
    }
    else
    {
      
    }

    aux = aux->next;
  }

  return 0;
}

int search_most_vict_teams(linked_list_teams *linked_teams)
{
  node_team *n = linked_teams->head;
  int res = 0;
  while (n)
  {
    if (n->victories > res)
    {
      res = n->victories;
    }
    else
    {
      
    }

    n = n->next;
  }

  return res;
}

void destroy_hash_teams(hash_table_teams *hash_teams)
{
  int i;
  for (i = 0; i < 1000; i++)
  {
    ptr_team *aux;
    while (hash_teams->nodes[i])
    {
      aux = hash_teams->nodes[i]->next;
      free(hash_teams->nodes[i]);
      hash_teams->nodes[i] = aux;
    }

  }

  free(hash_teams);
}

void destroy_linked_teams(linked_list_teams *linked_teams)
{
  node_team *aux;
  while (linked_teams->head)
  {
    aux = linked_teams->head->next;
    free(linked_teams->head->desc);
    free(linked_teams->head);
    linked_teams->head = aux;
  }

  free(linked_teams);
}

