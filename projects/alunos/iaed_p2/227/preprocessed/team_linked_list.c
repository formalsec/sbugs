#include "/home/fmarques/sbugs/projects/alunos/lib/stubs.h"
/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "custom_types.h"
#include "team_linked_list.h"
#include "team_hash_table.h"


TeamLink teamLinkCreate(Team *team)
{
  TeamLink new = malloc(sizeof(struct teamnode));
  new->team = team;
  return new;
}

TeamLink teamLinkInsert(TeamLink head, TeamLink link)
{
  link->next = head;
  link->previous = 0;
  if (head)
  {
    head->previous = link;
  }
  else
  {
    
  }

  return link;
}

int teamLinksEqual(TeamLink l1, TeamLink l2)
{
  return !strcmp(teamKey(l1), teamKey(l2));
}

void teamLinkRemove(TeamLink link)
{
  if (link->previous)
  {
    link->previous->next = link->next;
  }
  else
  {
    
  }

  if (link->next)
  {
    link->next->previous = link->previous;
  }
  else
  {
    
  }

  teamRemove(link->team);
  free(link);
}

void teamLinkDestroy(TeamLink head)
{
  TeamLink aux;
  while (head)
  {
    aux = head;
    head = head->next;
    teamLinkRemove(aux);
  }

}

TeamList teamListInit()
{
  TeamList list = malloc(2 * (sizeof(struct teamnode)));
  list->head = 0;
  list->last = 0;
  return list;
}

int teamListOneElement(TeamList list)
{
  return list->head->next == 0;
}

TeamLink teamListChangeHead(TeamLink head, int value)
{
  return (value == 1) ? (head->next) : (head);
}

TeamLink teamListChangeLast(TeamLink last, int value)
{
  return (value == 1) ? (last->previous) : (last);
}

int teamBest(TeamList list)
{
  int max = 0;
  TeamLink temp = list->last;
  for (; temp; temp = temp->previous)
  {
    if (temp->team->games_won > max)
    {
      max = temp->team->games_won;
    }
    else
    {
      
    }

  }

  return max;
}

int teamNumberBest(TeamList list, int max)
{
  int count = 0;
  TeamLink temp = list->last;
  for (; temp; temp = temp->previous)
  {
    if (temp->team->games_won == max)
    {
      count++;
    }
    else
    {
      
    }

  }

  return count;
}

void teamListFree(TeamList list)
{
  free(list);
}

