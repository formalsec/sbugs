/*File generated by PreProcessor.py*/


#include "projeto2.h"


void a(GAME *hashG[], TEAM *hashT[], int row)
{
  char team1[1023];
  char team2[1023];
  int score1;
  int score2;
  int index;
  char name[1023];
  TEAM *searcher_team = *hashT;
  GAME *searcher_game = *hashG;
  GAME *new_game;
  getchar();
  for (int name_index = 0; name_index < 10; name_index++)
  {
    name[name_index] = new_sym_var(sizeof(char) * 8);
  }

  name[10 - 1] = '\0';
  for (int team1_index = 0; team1_index < 10; team1_index++)
  {
    team1[team1_index] = new_sym_var(sizeof(char) * 8);
  }

  team1[10 - 1] = '\0';
  for (int team2_index = 0; team2_index < 10; team2_index++)
  {
    team2[team2_index] = new_sym_var(sizeof(char) * 8);
  }

  team2[10 - 1] = '\0';
  score1 = new_sym_var(sizeof(int) * 8);
  score2 = new_sym_var(sizeof(int) * 8);
  index = hash_function(team1);
  searcher_team = hashT[index];
  while (strcmp(searcher_team->name, team1) != 0)
  {
    if (searcher_team == 0)
    {
      printf("%d Equipa inexistente.", row);
      return;
    }
    else
    {
      
    }

    searcher_team = searcher_team->link;
  }

  index = hash_function(team2);
  searcher_team = hashT[index];
  while (strcmp(searcher_team->name, team2) != 0)
  {
    if (searcher_team == 0)
    {
      printf("%d Equipa inexistente.", row);
      return;
    }
    else
    {
      
    }

    searcher_team = searcher_team->link;
  }

  index = hash_function(name);
  searcher_game = hashG[index];
  while (strcmp(searcher_game->name, name) != 0)
  {
    if ((searcher_game->link == 0) && (strcmp(searcher_game->name, "\0") == 0))
    {
      new_game = (GAME *) calloc(1, sizeof(GAME *));
      strcpy(new_game->name, name);
      index = hash_function(team1);
      searcher_team = hashT[index];
      while (strcmp(searcher_team->name, team1) != 0)
        searcher_team = searcher_team->link;

      if (score1 > score2)
      {
        searcher_team->score++;
      }
      else
      {
        
      }

      new_game->team1 = searcher_team;
      index = hash_function(team2);
      searcher_team = hashT[index];
      while (strcmp(searcher_team->name, team2) != 0)
        searcher_team = searcher_team->link;

      if (score2 > score1)
      {
        searcher_team->score++;
      }
      else
      {
        
      }

      new_game->team2 = searcher_team;
      new_game->score1 = score1;
      new_game->score2 = score2;
      return;
    }
    else
    {
      
    }

    searcher_game = searcher_game->link;
  }

  printf("%d Jogo existente", row);
  return;
}

