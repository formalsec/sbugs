#include "/home/fmarques/sbugs/projects/alunos/lib/stubs.h"
/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "JOGO.h" 
#include "EQUIPA.h"
#include "NOVO_JOGO.h"


game_list *comando_a(game_list *l, team_list *tl, int NL)
{
  char nome_jogo[1024];
  char equipa1[1024];
  char equipa2[1024];
  for (int nome_jogo_index = 0; nome_jogo_index < 10; nome_jogo_index++)
  {
    nome_jogo[nome_jogo_index] = new_sym_var(sizeof(char) * 8);
  }

  nome_jogo[10 - 1] = '\0';
  for (int equipa1_index = 0; equipa1_index < 10; equipa1_index++)
  {
    equipa1[equipa1_index] = new_sym_var(sizeof(char) * 8);
  }

  equipa1[10 - 1] = '\0';
  for (int equipa2_index = 0; equipa2_index < 10; equipa2_index++)
  {
    equipa2[equipa2_index] = new_sym_var(sizeof(char) * 8);
  }

  equipa2[10 - 1] = '\0';
  return gameAdd(nome_jogo, equipa1, equipa2, l, tl, NL);
}

int gameErrors(char *nome_jogo, char *equipa1, char *equipa2, game_list *l, team_list *tl, int NL)
{
  if (FindGame(l, nome_jogo))
  {
    printf("%d Jogo existente.\n", NL);
    return -1;
  }
  else
  {
    
  }

  if (!FindTeam(tl, equipa1))
  {
    printf("%d Equipa inexistente.\n", NL);
    return -1;
  }
  else
  {
    
  }

  if (!FindTeam(tl, equipa2))
  {
    printf("%d Equipa inexistente.\n", NL);
    return -1;
  }
  else
  {
    
  }

  return 0;
}

game_list *gameAdd(char *nome_jogo, char *equipa1, char *equipa2, game_list *l, team_list *tl, int NL)
{
  int sc1;
  int sc2;
  Jogo *novo_jogo = (Jogo *) malloc(sizeof(Jogo));
  if (gameErrors(nome_jogo, equipa1, equipa2, l, tl, NL) == (-1))
  {
    free(novo_jogo);
    return l;
  }
  else
  {
    
  }

  novo_jogo->nome = (char *) malloc((strlen(nome_jogo) + 1) * (sizeof(char)));
  strcpy(novo_jogo->nome, nome_jogo);
  novo_jogo->equipa1 = (char *) malloc((strlen(equipa1) + 1) * (sizeof(char)));
  strcpy(novo_jogo->equipa1, equipa1);
  novo_jogo->equipa2 = (char *) malloc((strlen(equipa2) + 1) * (sizeof(char)));
  strcpy(novo_jogo->equipa2, equipa2);
  sc1 = new_sym_var(sizeof(int) * 8);
  sc2 = new_sym_var(sizeof(int) * 8);
  novo_jogo->score1 = sc1;
  novo_jogo->score2 = sc2;
  if (sc1 > sc2)
  {
    FindTeam(tl, equipa1)->vitorias++;
  }
  else
  {
    
  }

  if (sc2 > sc1)
  {
    FindTeam(tl, equipa2)->vitorias++;
  }
  else
  {
    
  }

  HashJogo(l, novo_jogo);
  return l;
}

