/*File generated by PreProcessor.py*/


#include "estrutura.h"


void cmd_a(jogo *heads_jogos[], equipa *heads_equipas[], int n_linha, lista_jogo *jogos_ordenados)
{
  char nome[1024];
  char equipa1[1024];
  char equipa2[1024];
  jogo *jogo_aux;
  equipa *aux1;
  equipa *aux2;
  int golos1;
  int golos2;
  for (int nome_index = 0; nome_index < 10; nome_index++)
  {
    nome[nome_index] = new_sym_var(sizeof(char) * 8);
  }

  nome[10 - 1] = '\0';
  for (int equipa1_index = 0; equipa1_index < 10; equipa1_index++)
  {
    equipa1[equipa1_index] = new_sym_var(sizeof(char) * 8);
  }

  equipa1[10 - 1] = '\0';
  for (int equipa2_index = 0; equipa2_index < 10; equipa2_index++)
  {
    equipa2[equipa2_index] = new_sym_var(sizeof(char) * 8);
  }

  equipa2[10 - 1] = '\0';
  golos1 = new_sym_var(sizeof(int) * 8);
  golos2 = new_sym_var(sizeof(int) * 8);
  if (procura_j(heads_jogos, nome))
  {
    printf("%d Jogo existente.\n", n_linha);
  }
  else
  {
    if ((aux1 = procura_e(heads_equipas, equipa1)) && (aux2 = procura_e(heads_equipas, equipa2)))
    {
      jogo_aux = adi_no(heads_jogos, nome, aux1, aux2, golos1, golos2);
      adiciona_fim(jogos_ordenados, jogo_aux);
      if (golos1 > golos2)
      {
        aux1->vitoria += 1;
      }
      else
      {
        if (golos2 > golos1)
        {
          aux2->vitoria += 1;
        }
        else
        {
          
        }

      }

    }
    else
    {
      printf("%d Equipa inexistente.\n", n_linha);
    }

  }

}

void cmd_A(equipa *heads_equipas[], int n_linha)
{
  char nome[1024];
  equipa *aux;
  for (int nome_index = 0; nome_index < 10; nome_index++)
  {
    nome[nome_index] = new_sym_var(sizeof(char) * 8);
  }

  nome[10 - 1] = '\0';
  aux = procura_e(heads_equipas, nome);
  if (aux)
  {
    printf("%d Equipa existente.\n", n_linha);
  }
  else
  {
    adi_eq(heads_equipas, nome);
  }

}

void cmd_l(lista_jogo *jogos_ordenados, int n_linha)
{
  jogo_l *aux = jogos_ordenados->head;
  while (aux)
  {
    printf("%d %s %s %s %d %d\n", n_linha, aux->jogo_lista->nome, aux->jogo_lista->equipa1->nome, aux->jogo_lista->equipa2->nome, aux->jogo_lista->golos1, aux->jogo_lista->golos2);
    aux = aux->next;
  }

}

void cmd_p(jogo *heads_jogos[], int n_linha)
{
  char nome[1024];
  jogo *aux;
  for (int nome_index = 0; nome_index < 10; nome_index++)
  {
    nome[nome_index] = new_sym_var(sizeof(char) * 8);
  }

  nome[10 - 1] = '\0';
  aux = procura_j(heads_jogos, nome);
  if (aux)
  {
    printf("%d %s %s %s %d %d\n", n_linha, aux->nome, aux->equipa1->nome, aux->equipa2->nome, aux->golos1, aux->golos2);
  }
  else
  {
    printf("%d Jogo inexistente.\n", n_linha);
  }

}

void cmd_P(equipa *heads_equipas[], int n_linha)
{
  char nome[1024];
  equipa *aux;
  for (int nome_index = 0; nome_index < 10; nome_index++)
  {
    nome[nome_index] = new_sym_var(sizeof(char) * 8);
  }

  nome[10 - 1] = '\0';
  aux = procura_e(heads_equipas, nome);
  if (aux)
  {
    printf("%d %s %d\n", n_linha, aux->nome, aux->vitoria);
  }
  else
  {
    printf("%d Equipa inexistente.\n", n_linha);
  }

}

void cmd_r(jogo *heads_jogos[], lista_jogo *jogos_ordenados, int n_linha)
{
  char nome[1024];
  jogo *aux;
  for (int nome_index = 0; nome_index < 10; nome_index++)
  {
    nome[nome_index] = new_sym_var(sizeof(char) * 8);
  }

  nome[10 - 1] = '\0';
  aux = elimina_jo(jogos_ordenados, nome);
  if (aux)
  {
    if (aux->golos1 > aux->golos2)
    {
      aux->equipa1->vitoria -= 1;
    }
    else
    {
      if (aux->golos2 > aux->golos1)
      {
        aux->equipa2->vitoria -= 1;
      }
      else
      {
        
      }

    }

    rem_no(heads_jogos, nome);
  }
  else
  {
    printf("%d Jogo inexistente.\n", n_linha);
  }

}

void cmd_s(jogo *heads_jogos[], int n_linha)
{
  char nome[1024];
  int golos1;
  int golos2;
  jogo *aux;
  for (int nome_index = 0; nome_index < 10; nome_index++)
  {
    nome[nome_index] = new_sym_var(sizeof(char) * 8);
  }

  nome[10 - 1] = '\0';
  golos1 = new_sym_var(sizeof(int) * 8);
  golos2 = new_sym_var(sizeof(int) * 8);
  aux = procura_j(heads_jogos, nome);
  if (aux)
  {
    if (aux->golos1 > aux->golos2)
    {
      aux->equipa1->vitoria -= 1;
    }
    else
    {
      if (aux->golos2 > aux->golos1)
      {
        aux->equipa2->vitoria -= 1;
      }
      else
      {
        
      }

    }

    aux->golos1 = golos1;
    aux->golos2 = golos2;
    if (golos1 > golos2)
    {
      aux->equipa1->vitoria += 1;
    }
    else
    {
      if (golos2 > golos1)
      {
        aux->equipa2->vitoria += 1;
      }
      else
      {
        
      }

    }

  }
  else
  {
    printf("%d Jogo inexistente.\n", n_linha);
  }

}

void cmd_g(equipa *heads_equipas[], int n_linha)
{
  int max_vitoria = -1;
  int i;
  equipa *aux;
  equipa_l *aux_2;
  lista_equipa *equipas_ordenadas = 0;
  for (i = 0; i < 8059; i++)
  {
    aux = heads_equipas[i];
    while (aux)
    {
      if (aux->vitoria > max_vitoria)
      {
        max_vitoria = aux->vitoria;
      }
      else
      {
        
      }

      aux = aux->next;
    }

  }

  if (max_vitoria >= 0)
  {
    equipas_ordenadas = inic_lista_e();
    for (i = 0; i < 8059; i++)
    {
      aux = heads_equipas[i];
      while (aux)
      {
        if (aux->vitoria == max_vitoria)
        {
          adiciona_lex(equipas_ordenadas, aux);
        }
        else
        {
          
        }

        aux = aux->next;
      }

    }

    printf("%d Melhores %d\n", n_linha, max_vitoria);
    for (aux_2 = equipas_ordenadas->head; aux_2; aux_2 = aux_2->next)
    {
      printf("%d * %s\n", n_linha, aux_2->equipa_lista->nome);
    }

    free_lista_e(equipas_ordenadas);
  }
  else
  {
    
  }

}

