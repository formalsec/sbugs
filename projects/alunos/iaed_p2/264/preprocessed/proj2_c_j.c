#include "/home/fmarques/sbugs/projects/alunos/lib/stubs.h"
/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "proj2_h.h"


int M;
hash_link_j *head_h_j;
hash_link_e *head_h_e;
list_j *mk_list_j()
{
  list_j *l = malloc(sizeof(list_j));
  l->head = (l->last = 0);
  return l;
}

void insertEnd_j(list_j *ls_j, char *n, link_e e1, link_e e2, int s1, int s2)
{
  link_j x = malloc(sizeof(struct jogo));
  x->nome = malloc((sizeof(char)) * (strlen(n) + 1));
  strcpy(x->nome, n);
  x->equ1 = e1;
  x->equ2 = e2;
  x->sco1 = s1;
  x->sco2 = s2;
  x->next = 0;
  x->prev = ls_j->last;
  if (ls_j->last)
  {
    ls_j->last->next = x;
  }
  else
  {
    ls_j->head = x;
  }

  ls_j->last = x;
}

void Init_hash_j(int m)
{
  int i;
  M = m;
  head_h_j = malloc(M * (sizeof(hash_link_j)));
  for (i = 0; i < M; i++)
    head_h_j[i] = 0;

}

void insert_h_j(link_j j)
{
  int i = hash_s(j->nome, M);
  hash_link_j t;
  t = malloc(sizeof(struct node_j));
  t->jo = j;
  t->next = head_h_j[i];
  head_h_j[i] = t;
}

link_j lookup_j(char *v)
{
  int i = hash_s(v, M);
  hash_link_j t;
  for (t = head_h_j[i]; t != 0; t = t->next)
    if (strcmp(t->jo->nome, v) == 0)
  {
    return t->jo;
  }
  else
  {
    
  }


  return 0;
}

void delete_h_j(link_j j)
{
  int i = hash_s(j->nome, M);
  hash_link_j t;
  hash_link_j prev;
  for (t = head_h_j[i], prev = 0; t != 0; prev = t, t = t->next)
  {
    if (strcmp(t->jo->nome, j->nome) == 0)
    {
      if (t == head_h_j[i])
      {
        head_h_j[i] = t->next;
      }
      else
      {
        prev->next = t->next;
      }

      free(t);
      break;
    }
    else
    {
      
    }

  }

}

void delete_j(list_j *ls_j, link_j j)
{
  if (j == ls_j->head)
  {
    ls_j->head = j->next;
  }
  else
  {
    j->prev->next = j->next;
  }

  if (j == ls_j->last)
  {
    ls_j->last = j->prev;
  }
  else
  {
    j->next->prev = j->prev;
  }

  free(j->nome);
  free(j);
}

