/*File generated by PreProcessor.py*/


#include "estrutura.h"


jogos *criar_hashtablejogos()
{
  jogos *hashtable_jogos = malloc(10 * (sizeof(struct jogo)));
  int p;
  for (p = 0; p < 10; p++)
  {
    hashtable_jogos[p] = 0;
  }

  return hashtable_jogos;
}

equipas *criar_hashtableequipas()
{
  equipas *hashtable_equipas = malloc(10 * (sizeof(struct equipa)));
  int p;
  for (p = 0; p < 10; p++)
  {
    hashtable_equipas[p] = 0;
  }

  return hashtable_equipas;
}

int hash(char *v)
{
  int h;
  int a = 31415;
  int b = 27183;
  for (h = 0; (*v) != '\0'; v++, a = (a * b) % (10 - 1))
    h = ((a * h) + (*v)) % 10;

  return h;
}

jogos NEWJOGO(char *nome, char *equipa1, char *equipa2, int score1, int score2, int num_jogos)
{
  jogos x = malloc(sizeof(struct jogo));
  x->nome = malloc((sizeof(char)) * (strlen(nome) + 1));
  x->equipa1 = malloc((sizeof(char)) * (strlen(equipa1) + 1));
  x->equipa2 = malloc((sizeof(char)) * (strlen(equipa2) + 1));
  x->score1 = score1;
  x->score2 = score2;
  x->num_jogos = num_jogos;
  strcpy(x->nome, nome);
  strcpy(x->equipa1, equipa1);
  strcpy(x->equipa2, equipa2);
  x->next = 0;
  return x;
}

equipas NEWEQUIPA(char *nome_equipa)
{
  equipas x = malloc(sizeof(struct equipa));
  x->nome_equipa = malloc((sizeof(char)) * (strlen(nome_equipa) + 1));
  x->vitorias = 0;
  strcpy(x->nome_equipa, nome_equipa);
  x->next = 0;
  return x;
}

void freehashtable_jogos(jogos *hashtable_jogos)
{
  int i;
  jogos x;
  jogos next;
  for (i = 0; i < 10; i++)
  {
    for (x = hashtable_jogos[i]; x != 0; x = next)
    {
      next = x->next;
      free(x->nome);
      free(x->equipa1);
      free(x->equipa2);
      free(x);
    }

  }

  free(hashtable_jogos);
}

void freehashtable_equipas(equipas *hashtable_equipas)
{
  int i;
  equipas x;
  equipas next;
  for (i = 0; i < 10; i++)
  {
    for (x = hashtable_equipas[i]; x != 0; x = next)
    {
      next = x->next;
      free(x->nome_equipa);
      free(x);
    }

  }

  free(hashtable_equipas);
}

jogos insertBeginjogos(jogos head_jogo, char *nome, char *equipa1, char *equipa2, int score1, int score2, int num_jogos)
{
  jogos x = NEWJOGO(nome, equipa1, equipa2, score1, score2, num_jogos);
  x->next = head_jogo;
  head_jogo = x;
  return x;
}

equipas insertBeginequipas(equipas head, char *nome_equipa)
{
  equipas x = NEWEQUIPA(nome_equipa);
  x->next = head;
  head = x;
  return x;
}

jogos lookupjogo(jogos *hashtable_jogos, char *nome)
{
  int id = hash(nome);
  jogos x = hashtable_jogos[id];
  for (; x != 0; x = x->next)
  {
    if (strcmp(x->nome, nome) == 0)
    {
      return x;
    }
    else
    {
      
    }

  }

  return 0;
}

equipas lookupequipa(equipas *hashtable_equipas, char *nome_equipa)
{
  int id = hash(nome_equipa);
  equipas x = hashtable_equipas[id];
  for (; x != 0; x = x->next)
  {
    if (strcmp(x->nome_equipa, nome_equipa) == 0)
    {
      return x;
    }
    else
    {
      
    }

  }

  return 0;
}

