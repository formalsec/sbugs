/*File generated by PreProcessor.py*/


#include "default.h"
#include "team.h"
#include "game.h"


void add_game(game_link *games, char buffer[1024], char t1[1024], char t2[1024], char s1[100], char s2[100], game_list *games_sorted)
{
  game_link aux;
  game_list auxiliar;
  aux = malloc(sizeof(struct game_node));
  aux->name = malloc((sizeof(char)) * (strlen(buffer) + 1));
  strcpy(aux->name, buffer);
  aux->team1 = malloc((sizeof(char)) * (strlen(t1) + 1));
  strcpy(aux->team1, t1);
  aux->team2 = malloc((sizeof(char)) * (strlen(t2) + 1));
  strcpy(aux->team2, t2);
  aux->score1 = atoi(s1);
  aux->score2 = atoi(s2);
  aux->next = games[hashU(buffer)];
  games[hashU(buffer)] = aux;
  auxiliar = malloc(sizeof(struct game_pointers));
  auxiliar->game = aux;
  auxiliar->next = *games_sorted;
  auxiliar->prev = 0;
  (*games_sorted)->prev = auxiliar;
  *games_sorted = auxiliar;
  return;
}

void print_games(game_link *games)
{
  int i;
  game_link aux;
  for (i = 0; i < 3000; i++)
  {
    if (games[i] == 0)
    {
      printf("Jogo %d: vazio\n", i);
    }
    else
    {
      aux = games[i];
      printf("Jogo %d", i);
      while (aux != 0)
      {
        printf(":-:%s", aux->name);
        aux = aux->next;
      }

      printf("\n");
    }

  }

  return;
}

int existing_game(game_link *hashtable, char buffer[1024])
{
  game_link aux;
  aux = hashtable[hashU(buffer)];
  while (aux != 0)
  {
    if (strcmp(aux->name, buffer))
    {
      aux = aux->next;
    }
    else
    {
      return 1;
    }

  }

  return 0;
}

game_link get_game(game_link *games, char buffer[1024])
{
  game_link aux;
  aux = games[hashU(buffer)];
  while (strcmp(aux->name, buffer))
  {
    aux = aux->next;
  }

  return aux;
}

game_link prev(game_link *games, game_link atual)
{
  game_link aux = games[hashU(atual->name)];
  if (!strcmp(aux->name, atual->name))
  {
    return 0;
  }
  else
  {
    
  }

  while (strcmp(aux->next->name, atual->name))
  {
    aux = aux->next;
  }

  return aux;
}

void free_game_list(game_link *games)
{
  int i;
  game_link aux;
  game_link aux2;
  for (i = 0; i < 3000; i++)
  {
    aux = games[i];
    aux2 = games[i];
    while (aux2 != 0)
    {
      aux = aux2;
      aux2 = aux->next;
      free_game_node(aux);
    }

  }

  return;
}

void free_game_node(game_link n)
{
  free(n->name);
  free(n->team1);
  free(n->team2);
  free(n);
  return;
}

void free_ord(game_list n)
{
  game_list aux;
  if (n->game == 0)
  {
    free(n);
    return;
  }
  else
  {
    
  }

  aux = n->next;
  free(n);
  free_ord(aux);
}

