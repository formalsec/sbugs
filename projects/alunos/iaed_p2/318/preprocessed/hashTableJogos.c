/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "heads.h"


HT_jogos *makeHTJ(int HT_tam)
{
  int i;
  HT_jogos *heads;
  heads = malloc((sizeof(HT_jogos)) * HT_tam);
  for (i = 0; i < HT_tam; i++)
  {
    heads[i] = 0;
  }

  return heads;
}

void addHTJ(jogo *jogo, HT_jogos *heads, int HT_tam)
{
  int i = hashU(jogo->nome, HT_tam);
  HT_jogos novo;
  novo = calloc(1, (sizeof(HT_jogos)) * 3);
  novo->p = jogo;
  if (heads[i])
  {
    heads[i]->prev = novo;
    heads[i]->prev->p = jogo;
    heads[i]->prev->next = heads[i];
    heads[i] = heads[i]->prev;
  }
  else
  {
    heads[i] = novo;
  }

}

void remHTJ(char *nome, HT_jogos *heads, int HT_tam)
{
  int i = hashU(nome, HT_tam);
  HT_jogos HT_jogos;
  jogo *jogo = 0;
  for (HT_jogos = heads[i]; HT_jogos; HT_jogos = HT_jogos->next)
  {
    jogo = HT_jogos->p;
    if (strcmp(jogo->nome, nome) == 0)
    {
      if (HT_jogos->prev == 0)
      {
        heads[i] = HT_jogos->next;
      }
      else
      {
        HT_jogos->prev->next = HT_jogos->next;
      }

      if (HT_jogos->next != 0)
      {
        HT_jogos->next->prev = HT_jogos->prev;
      }
      else
      {
        
      }

      free(HT_jogos);
      break;
    }
    else
    {
      
    }

  }

}

jogo *searchJogo(char *nome, HT_jogos *heads, int HT_tam)
{
  int i = hashU(nome, HT_tam);
  HT_jogos HT_jogos;
  jogo *jogo_ = 0;
  jogo *final = 0;
  HT_jogos = heads[i];
  while (HT_jogos)
  {
    jogo_ = HT_jogos->p;
    if (compare_strings(jogo_->nome, nome) == 0)
    {
      final = HT_jogos->p;
      break;
    }
    else
    {
      
    }

    HT_jogos = HT_jogos->next;
  }

  return final;
}

void freeHTJ(HT_jogos *HT, int HT_tam)
{
  int i;
  HT_jogos tmp;
  for (i = 0; i < HT_tam; i++)
  {
    while (HT[i] != 0)
    {
      tmp = HT[i]->next;
      free(HT[i]);
      HT[i] = tmp;
    }

  }

  free(HT);
}

