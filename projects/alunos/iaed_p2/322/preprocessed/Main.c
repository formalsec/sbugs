#include "/home/fmarques/sbugs/projects/alunos/lib/stubs.h"
/*File generated by PreProcessor.py*/


#include "main.h"


int main()
{
  int command;
  int counter = 1;
  Hash_Array *game_hash;
  Hash_Array *team_hash;
  Node_ptr top_game_list;
  game_hash = hashtable_init(1699);
  team_hash = hashtable_init(1699);
  top_game_list = init();
  while (1)
  {
    command = getchar();
    top_game_list = parse_instructions(command, counter++, game_hash, team_hash, top_game_list);
  }

  return 0;
}

Node_ptr parse_instructions(int command, int counter, Hash_Array *game_hash, Hash_Array *team_hash, Node_ptr top_game_list)
{
  int junk_flag = 0;
  Node_ptr aux;
  getchar();
  switch (command)
  {
    case 65:
      junk_flag = comando_A(counter, team_hash);
      break;

    case 80:
      junk_flag = comando_P(counter, team_hash);
      break;

    case 97:
      aux = comando_a(counter, game_hash, team_hash, top_game_list);
      if (aux != 0)
    {
      top_game_list = aux;
    }
    else
    {
      
    }

      junk_flag = 1;
      break;

    case 103:
      junk_flag = comando_g(counter, team_hash);
      break;

    case 108:
      junk_flag = comando_l(counter, game_hash, top_game_list);
      break;

    case 112:
      junk_flag = comando_p(counter, game_hash);
      break;

    case 114:
      top_game_list = comando_r(counter, game_hash, team_hash, top_game_list);
      junk_flag = 1;
      break;

    case 115:
      junk_flag = comando_s(counter, game_hash, team_hash);
      break;

    case 120:
      exit_program(team_hash, game_hash, top_game_list);

    default:
      break;

  }

  if (junk_flag)
  {
    getchar();
  }
  else
  {
    
  }

  return top_game_list;
}

void exit_program(Hash_Array *team_hash, Hash_Array *game_hash, Node_ptr top_game_list)
{
  hashtable_free_all(team_hash);
  hashtable_free_all(game_hash);
  clear_all(top_game_list);
  exit(0);
}

