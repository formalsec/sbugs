#include "/home/fmarques/sbugs/projects/alunos/lib/stubs.h"
/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include "jogos.h"


List_Games *init_list()
{
  List_Games *l;
  l = malloc(sizeof(List_Games));
  l->head = 0;
  l->last = 0;
  return l;
}

Game *new_game(char *j, char *eq1, char *eq2, int sc1, int sc2)
{
  Game *new;
  new = malloc(sizeof(Game));
  new->jogo_nome = malloc((sizeof(char)) * (strlen(j) + 1));
  strcpy(new->jogo_nome, j);
  new->nome_eq1 = malloc((sizeof(char)) * (strlen(eq1) + 1));
  strcpy(new->nome_eq1, eq1);
  new->nome_eq2 = malloc((sizeof(char)) * (strlen(eq2) + 1));
  strcpy(new->nome_eq2, eq2);
  new->score1 = sc1;
  new->score2 = sc2;
  new->next = 0;
  new->prev = 0;
  return new;
}

Game *add_end_game(List_Games *l, char *j, char *eq1, char *eq2, int sc1, int sc2)
{
  Game *new;
  new = new_game(j, eq1, eq2, sc1, sc2);
  new->prev = l->last;
  if (l->last)
  {
    l->last->next = new;
  }
  else
  {
    l->head = new;
  }

  l->last = new;
  return new;
}

Game *search_game(List_Games *l, char *nome_j)
{
  Game *t = l->head;
  while (t != 0)
  {
    if (!strcmp(t->jogo_nome, nome_j))
    {
      return t;
    }
    else
    {
      
    }

    t = t->next;
  }

  return 0;
}

void change_score(List_Games *l, char *jogo, int score1_new, int score2_new)
{
  Game *n;
  n = search_game(l, jogo);
  n->score1 = score1_new;
  n->score2 = score2_new;
}

void free_game(Game *n)
{
  free(n->jogo_nome);
  free(n->nome_eq1);
  free(n->nome_eq2);
  free(n);
}

void remove_game(List_Games *l, char *jogo)
{
  Game *t;
  t = search_game(l, jogo);
  if (t->prev == 0)
  {
    l->head = t->next;
  }
  else
  {
    t->prev->next = t->next;
  }

  if (t->next == 0)
  {
    l->last = t->prev;
  }
  else
  {
    t->next->prev = t->prev;
  }

  free_game(t);
}

Game *remove_first_game(Game *head)
{
  Game *aux;
  aux = head->next;
  free_game(head);
  return aux;
}

void free_all_games(List_Games *l)
{
  while (l->head != 0)
  {
    l->head = remove_first_game(l->head);
  }

  free(l);
}

void print_game(Game *n)
{
  printf("%s %s %s %i %i\n", n->jogo_nome, n->nome_eq1, n->nome_eq2, n->score1, n->score2);
}

