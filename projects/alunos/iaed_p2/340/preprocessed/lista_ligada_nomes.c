#include "/home/fmarques/sbugs/projects/alunos/lib/stubs.h"
/*File generated by PreProcessor.py*/


#include <stdlib.h>
#include <string.h>
#include <stdio.h>
#include "lista_ligada_nomes.h"


Lista **inicializa_lista(Lista **lista)
{
  lista = malloc(sizeof(Lista *));
  lista[0] = 0;
  return lista;
}

Lista *cria_elemento(char *nome)
{
  Lista *x = malloc(sizeof(Lista));
  x->nome = malloc((sizeof(char)) * (strlen(nome) + 1));
  strcpy(x->nome, nome);
  x->next = 0;
  x->previous = 0;
  return x;
}

void adiciona_elemento(Lista **lista, Lista *el, Lista **ultimo_jogo)
{
  Lista *prev;
  if (lista[0] == 0)
  {
    lista[0] = el;
    ultimo_jogo[0] = el;
  }
  else
  {
    prev = ultimo_jogo[0];
    prev->next = el;
    el->previous = prev;
    ultimo_jogo[0] = el;
  }

}

Lista **remove_el(Lista **lista, Lista **ultimo_jogo, char *nome)
{
  Lista *x;
  Lista *prev;
  for (x = lista[0], prev = 0; x != 0; prev = x, x = x->next)
  {
    if (strcmp(x->nome, nome) == 0)
    {
      if (x == lista[0])
      {
        lista[0] = x->next;
        if (x->next == 0)
        {
          ultimo_jogo[0] = 0;
        }
        else
        {
          
        }

      }
      else
      {
        prev->next = x->next;
        if (x->next != 0)
        {
          x->next->previous = prev;
        }
        else
        {
          ultimo_jogo[0] = prev;
        }

      }

      free_el(x);
      break;
    }
    else
    {
      
    }

  }

  return ultimo_jogo;
}

void free_el(Lista *head)
{
  free(head->nome);
  free(head);
}

