#include "/home/fmarques/sbugs/projects/alunos/lib/stubs.h"
/*File generated by PreProcessor.py*/


#include "hash_tables.h"


int hash_function(char array[])
{
  int i;
  int hash = 0;
  int a = 6679;
  int b = 6053;
  int len = strlen(array);
  for (i = 0; i <= len; i++, a = (a * b) % (1993 - 1))
  {
    hash = ((a * hash) + array[i]) % 1993;
  }

  return hash;
}

int hash_team(node_teams *node)
{
  return hash_function(node->t.name);
}

int hash_game(node_games *node)
{
  return hash_function(node->g.name);
}

void insert_team(node_teams **table, node_teams *node)
{
  int index;
  index = hash_team(node);
  node->next_in_hash_table = 0;
  if (table[index] == 0)
  {
    node->prev_in_hash_table = 0;
    table[index] = node;
    return;
  }
  else
  {
    
  }

  table[index]->next_in_hash_table = node;
  node->prev_in_hash_table = table[index];
  table[index] = node;
}

void insert_game(node_games **table, node_games *node)
{
  int index;
  index = hash_game(node);
  node->next_in_hash_table = 0;
  if (table[index] == 0)
  {
    node->prev_in_hash_table = 0;
    table[index] = node;
    return;
  }
  else
  {
    
  }

  table[index]->next_in_hash_table = node;
  node->prev_in_hash_table = table[index];
  table[index] = node;
}

node_teams *in_table_teams(node_teams **table, node_teams *node)
{
  int index;
  node_teams *tmp;
  index = hash_team(node);
  tmp = table[index];
  if (tmp == 0)
  {
    return 0;
  }
  else
  {
    
  }

  while (tmp != 0)
  {
    if (strcmp(tmp->t.name, node->t.name) == 0)
    {
      return tmp;
    }
    else
    {
      
    }

    tmp = tmp->prev_in_hash_table;
  }

  return 0;
}

node_games *in_table_games(node_games **table, node_games *node)
{
  int index;
  node_games *tmp;
  index = hash_game(node);
  tmp = table[index];
  if (tmp == 0)
  {
    return 0;
  }
  else
  {
    
  }

  while (tmp != 0)
  {
    if (strcmp(tmp->g.name, node->g.name) == 0)
    {
      return tmp;
    }
    else
    {
      
    }

    tmp = tmp->prev_in_hash_table;
  }

  return 0;
}

