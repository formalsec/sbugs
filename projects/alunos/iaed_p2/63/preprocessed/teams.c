/*File generated by PreProcessor.py*/


#include "teams.h"


team create_team()
{
  team new_team;
  char name[1024];
  for (int name_index = 0; name_index < 10; name_index++)
  {
    name[name_index] = new_sym_var(sizeof(char) * 8);
  }

  name[10 - 1] = '\0';
  new_team.name = malloc((strlen(name) + 1) * (sizeof(char)));
  strcpy(new_team.name, name);
  new_team.games_won = 0;
  return new_team;
}

void destroy_team(team t)
{
  free(t.name);
}

node_teams create_node_team(team new_team)
{
  node_teams node_new_team;
  node_new_team.t = new_team;
  node_new_team.next = 0;
  node_new_team.next_in_hash_table = 0;
  node_new_team.prev = 0;
  node_new_team.prev_in_hash_table = 0;
  return node_new_team;
}

node_teams *push_team(node_teams *head, team t)
{
  node_teams *new = malloc(sizeof(node_teams));
  new->t = t;
  new->next = 0;
  if (head == 0)
  {
    new->prev = 0;
    head = new;
    return head;
  }
  else
  {
    
  }

  head->next = new;
  new->prev = head;
  return new;
}

void free_team(node_teams *team)
{
  free(team->t.name);
  free(team);
}

node_teams *destroy_teams(node_teams *head)
{
  node_teams *tmp;
  while (head != 0)
  {
    tmp = head->prev;
    free_team(head);
    head = tmp;
  }

  return 0;
}

node_teams *find_team(node_teams **teams_table)
{
  team t;
  node_teams node_t;
  node_teams *p_node_t;
  node_teams *head_t;
  char name[1024];
  for (int name_index = 0; name_index < 10; name_index++)
  {
    name[name_index] = new_sym_var(sizeof(char) * 8);
  }

  name[10 - 1] = '\0';
  t.name = malloc((strlen(name) + 1) * (sizeof(char)));
  strcpy(t.name, name);
  node_t = create_node_team(t);
  p_node_t = &node_t;
  head_t = in_table_teams(teams_table, p_node_t);
  destroy_team(t);
  return head_t;
}

char *get_team_name(node_teams *team)
{
  return team->t.name;
}

node_teams *get_prev_team(node_teams *team)
{
  return team->prev;
}

int get_wins(node_teams *team)
{
  return team->t.games_won;
}

void give_win(node_teams *team)
{
  team->t.games_won++;
}

void take_win(node_teams *team)
{
  team->t.games_won--;
}

int compare_names(const void *team1, const void *team2)
{
  return strcmp(get_team_name(*((node_teams **) team1)), get_team_name(*((node_teams **) team2)));
}

