/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include "structs.h"
#include "jog_ligados.h"


Lista_Jogos init_lista_jogos()
{
  Lista_Jogos lista = malloc(sizeof(struct lista_ligada));
  lista->primeiro = 0;
  lista->ultimo = 0;
  return lista;
}

void acrescenta_jogo(Lista_Jogos lista, Jogo jogo)
{
  jog_lig link = malloc(sizeof(struct node_jogos));
  link->jogo = jogo;
  if (lista->primeiro == 0)
  {
    lista->primeiro = link;
    lista->ultimo = link;
    lista->primeiro->seguinte = lista->ultimo;
  }
  else
  {
    if (lista->primeiro->jogo == lista->ultimo->jogo)
    {
      lista->ultimo = link;
      lista->primeiro->seguinte = lista->ultimo;
    }
    else
    {
      lista->ultimo->seguinte = link;
      lista->ultimo = link;
    }

  }

  lista->ultimo->seguinte = 0;
}

void rem_aux1(Lista_Jogos lista, Jogo jogo)
{
  jog_lig atual;
  jog_lig anterior;
  int verifica = 0;
  if (lista->primeiro->jogo == jogo)
  {
    atual = lista->primeiro;
    lista->primeiro = lista->primeiro->seguinte;
    free(atual);
  }
  else
  {
    anterior = lista->primeiro;
    for (atual = lista->primeiro->seguinte; atual != lista->ultimo; atual = atual->seguinte)
    {
      if (atual->jogo == jogo)
      {
        verifica++;
        anterior->seguinte = atual->seguinte;
        free(atual);
        break;
      }
      else
      {
        
      }

      anterior = atual;
    }

    if (!verifica)
    {
      anterior->seguinte = 0;
      free(lista->ultimo);
      lista->ultimo = anterior;
    }
    else
    {
      
    }

  }

}

void destroi_jog_ligados(Lista_Jogos lista)
{
  jog_lig atual;
  jog_lig seg;
  if (lista->primeiro == 0)
  {
    free(lista);
  }
  else
  {
    if (lista->primeiro->jogo == lista->ultimo->jogo)
    {
      free(lista->primeiro);
      free(lista);
    }
    else
    {
      atual = lista->primeiro;
      while (atual != lista->ultimo)
      {
        seg = atual->seguinte;
        free(atual);
        atual = seg;
      }

      free(atual);
      free(lista);
    }

  }

}

