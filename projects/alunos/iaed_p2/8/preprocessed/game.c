#include "/home/fmarques/sbugs/projects/alunos/lib/stubs.h"
/*File generated by PreProcessor.py*/


#include <stdlib.h>
#include <stdio.h>
#include <string.h>
#include "myLib.h"
#include "game.h"
#include "team.h"


Game *new_game(char *name, Team *t1, Team *t2, Score score)
{
  extern char *strdup(const char *);
  Game *game = (Game *) malloc(sizeof(Game));
  if (errno > 0)
  {
    perror("game_new: create_game");
    exit(errno);
  }
  else
  {
    
  }

  ;
  game->name = strdup(name);
  game->t1 = t1;
  game->t2 = t2;
  game->score = score;
  return game;
}

void game_free(Game *g)
{
  if (g == 0)
  {
    printf("%s: null pointer\n", "game_free");
    exit(1);
  }
  else
  {
    
  }

  ;
  free((char *) g->name);
  free((Game *) g);
}

char *game_get_name(Game *g)
{
  if (g == 0)
  {
    printf("%s: null pointer\n", "game_get_name");
    exit(1);
  }
  else
  {
    
  }

  ;
  return (char *) g->name;
}

Team *game_get_team1(Game *g)
{
  if (g == 0)
  {
    printf("%s: null pointer\n", "game_get_team1");
    exit(1);
  }
  else
  {
    
  }

  ;
  return (Team *) g->t1;
}

Team *game_get_team2(Game *g)
{
  if (g == 0)
  {
    printf("%s: null pointer\n", "game_get_team2");
    exit(1);
  }
  else
  {
    
  }

  ;
  return (Team *) g->t2;
}

int game_get_score1(Game *g)
{
  if (g == 0)
  {
    printf("%s: null pointer\n", "game_get_score1");
    exit(1);
  }
  else
  {
    
  }

  ;
  return g->score.t1;
}

int game_get_score2(Game *g)
{
  if (g == 0)
  {
    printf("%s: null pointer\n", "game_get_score2");
    exit(1);
  }
  else
  {
    
  }

  ;
  return g->score.t2;
}

void game_set_score(Game *g, int s1, int s2)
{
  if (g == 0)
  {
    printf("%s: null pointer\n", "game_set_score");
    exit(1);
  }
  else
  {
    
  }

  ;
  g->score.t1 = s1;
  g->score.t2 = s2;
}

Team *game_get_team(Game *g, char *team_name)
{
  if (strcmp(team_get_name(g->t1), team_name) == 0)
  {
    return (Team *) g->t1;
  }
  else
  {
    if (strcmp(team_get_name(g->t2), team_name) == 0)
    {
      return (Team *) g->t2;
    }
    else
    {
      return 0;
    }

  }

}

Team *game_get_winner(Game *g)
{
  if (g->score.t1 > g->score.t2)
  {
    return (Team *) g->t1;
  }
  else
  {
    if (g->score.t2 > g->score.t1)
    {
      return (Team *) g->t2;
    }
    else
    {
      return 0;
    }

  }

}

void game_print(Game *g)
{
  if (g == 0)
  {
    printf("%s: null pointer\n", "game_print");
    exit(1);
  }
  else
  {
    
  }

  ;
  printf("Game: NAME=%s TEAM1=%s TEAM2=%s SCORE1=%d SCORE2=%d\n", game_get_name(g), game_get_team1(g)->name, game_get_team2(g)->name, game_get_score1(g), game_get_score2(g));
}

char *game_to_string(Game *g, char *buf)
{
  if (g == 0)
  {
    printf("%s: null pointer\n", "game_to_string");
    exit(1);
  }
  else
  {
    
  }

  ;
  sprintf(buf, "%s %s %s %d %d\n", game_get_name(g), game_get_team1(g)->name, game_get_team2(g)->name, game_get_score1(g), game_get_score2(g));
  return buf;
}

