/*File generated by PreProcessor.py*/


#include <stdlib.h>
#include "hashtable.h"


int hash(char *string, int max)
{
  int h = 0;
  int a = 127;
  for (; (*string) != '\0'; string++)
    h = ((a * h) + (*string)) % max;

  return h;
}

void TabJogosinit(int *max_jogos, int *N_jogos, Jogo *TabJogos)
{
  int i;
  *N_jogos = 0;
  for (i = 0; i < (*max_jogos); i++)
  {
    TabJogos[i] = 0;
  }

}

Jogo *expand_jogos(int *max_jogos, int *N_jogos, Jogo *TabJogos)
{
  int i;
  Jogo *aux = TabJogos;
  *max_jogos = (*max_jogos) * 2;
  TabJogos = (Jogo *) malloc((*max_jogos) * (sizeof(Jogo)));
  *N_jogos = 0;
  for (i = 0; i < (*max_jogos); i++)
  {
    TabJogos[i] = 0;
  }

  for (i = 0; i < ((*max_jogos) / 2); i++)
  {
    if (aux[i] != 0)
    {
      TabJogosinsert(max_jogos, N_jogos, TabJogos, aux[i]);
    }
    else
    {
      
    }

  }

  free(aux);
  return TabJogos;
}

void TabJogosinsert(int *max_jogos, int *N_jogos, Jogo *TabJogos, Jogo Jogo)
{
  int i = hash(Jogo->nome, *max_jogos);
  while (TabJogos[i] != 0)
  {
    i = (i + 1) % (*max_jogos);
  }

  TabJogos[i] = Jogo;
  (*N_jogos)++;
}

void TabJogosdelete(int *max_jogos, int *N_jogos, Jogo *TabJogos, char *string)
{
  int j;
  int i = hash(string, *max_jogos);
  Jogo aux;
  Jogo v;
  while (TabJogos[i] != 0)
  {
    if (strcmp(string, TabJogos[i]->nome) == 0)
    {
      break;
    }
    else
    {
      i = (i + 1) % (*max_jogos);
    }

  }

  if (TabJogos[i] == 0)
  {
    return;
  }
  else
  {
    
  }

  aux = TabJogos[i];
  TabJogos[i] = 0;
  (*N_jogos)--;
  for (j = (i + 1) % (*max_jogos); TabJogos[j] != 0; j = (j + 1) % (*max_jogos), (*N_jogos)--)
  {
    v = TabJogos[j];
    TabJogos[j] = 0;
    TabJogosinsert(max_jogos, N_jogos, TabJogos, v);
  }

  freeJogo(aux);
}

Jogo TabJogossearch(int *max_jogos, Jogo *TabJogos, char *string)
{
  int i = hash(string, *max_jogos);
  while (TabJogos[i] != 0)
  {
    if (strcmp(string, TabJogos[i]->nome) == 0)
    {
      return TabJogos[i];
    }
    else
    {
      i = (i + 1) % (*max_jogos);
    }

  }

  return 0;
}

void freeTabJogos(int *max_jogos, Jogo *TabJogos)
{
  int i = 0;
  while (i < (*max_jogos))
  {
    if (TabJogos[i] != 0)
    {
      freeJogo(TabJogos[i]);
    }
    else
    {
      
    }

    i++;
  }

  free(TabJogos);
}

void TabEquipasinit(int *max_equipas, int *N_equipas, Equipa *TabEquipas)
{
  int i;
  *N_equipas = 0;
  for (i = 0; i < (*max_equipas); i++)
  {
    TabEquipas[i] = 0;
  }

}

Equipa *expand_equipas(int *max_equipas, int *N_equipas, Equipa *TabEquipas)
{
  int i;
  Equipa *aux = TabEquipas;
  *max_equipas = (*max_equipas) * 2;
  TabEquipas = (Equipa *) malloc((*max_equipas) * (sizeof(Equipa)));
  *N_equipas = 0;
  for (i = 0; i < (*max_equipas); i++)
  {
    TabEquipas[i] = 0;
  }

  for (i = 0; i < ((*max_equipas) / 2); i++)
  {
    if (aux[i] != 0)
    {
      TabEquipasinsert(max_equipas, N_equipas, TabEquipas, aux[i]);
    }
    else
    {
      
    }

  }

  free(aux);
  return TabEquipas;
}

void TabEquipasinsert(int *max_equipas, int *N_equipas, Equipa *TabEquipas, Equipa Equipa)
{
  int i = hash(Equipa->nome, *max_equipas);
  while (TabEquipas[i] != 0)
  {
    i = (i + 1) % (*max_equipas);
  }

  TabEquipas[i] = Equipa;
  (*N_equipas)++;
}

Equipa TabEquipassearch(int *max_equipas, Equipa *TabEquipas, char *string)
{
  int i = hash(string, *max_equipas);
  while (TabEquipas[i] != 0)
  {
    if (strcmp(string, TabEquipas[i]->nome) == 0)
    {
      return TabEquipas[i];
    }
    else
    {
      i = (i + 1) % (*max_equipas);
    }

  }

  return 0;
}

void freeTabEquipas(int *max_equipas, Equipa *TabEquipas)
{
  int i = 0;
  while (i < (*max_equipas))
  {
    if (TabEquipas[i] != 0)
    {
      freeEquipa(TabEquipas[i]);
    }
    else
    {
      
    }

    i++;
  }

  free(TabEquipas);
}

