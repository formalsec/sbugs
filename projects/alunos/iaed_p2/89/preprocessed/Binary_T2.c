#include "/home/fmarques/sbugs/projects/alunos/lib/stubs.h"
/*File generated by PreProcessor.py*/


#include "Binary_T2.h"


BTlink BTinit()
{
  return 0;
}

BTlink BTnew(Team team)
{
  BTlink new = (BTlink) malloc(sizeof(struct BTnode));
  new->team = team;
  new->l = 0;
  new->r = 0;
  return new;
}

BTlink BTmax(BTlink link)
{
  if ((link == 0) || (link->r == 0))
  {
    return link;
  }
  else
  {
    return BTmax(link->r);
  }

}

BTlink BTinsert(BTlink link, Team team)
{
  if (link == 0)
  {
    return BTnew(team);
  }
  else
  {
    
  }

  if (strcmp(team->name, BTgetteam(link)->name) < 0)
  {
    link->l = BTinsert(link->l, team);
  }
  else
  {
    link->r = BTinsert(link->r, team);
  }

  return link;
}

Team BTsearch(BTlink link, char *name)
{
  if (link == 0)
  {
    return 0;
  }
  else
  {
    
  }

  if (strcmp(BTgetteam(link)->name, name) == 0)
  {
    return BTgetteam(link);
  }
  else
  {
    
  }

  if (strcmp(name, BTgetteam(link)->name) < 0)
  {
    return BTsearch(link->l, name);
  }
  else
  {
    return BTsearch(link->r, name);
  }

}

BTlink BTdelete(BTlink link, Team team)
{
  BTlink aux;
  Team team_aux;
  if (link == 0)
  {
    return link;
  }
  else
  {
    if (strcmp(team->name, BTgetteam(link)->name) < 0)
    {
      link->l = BTdelete(link->l, team);
    }
    else
    {
      if (strcmp(BTgetteam(link)->name, team->name) < 0)
      {
        link->r = BTdelete(link->r, team);
      }
      else
      {
        if ((link->l != 0) && (link->r != 0))
        {
          aux = BTmax(link->l);
          team_aux = BTgetteam(link);
          link->team = BTgetteam(aux);
          aux->team = team_aux;
          link->l = BTdelete(link->l, BTgetteam(aux));
        }
        else
        {
          aux = link;
          if ((link->l == 0) && (link->r == 0))
          {
            link = 0;
          }
          else
          {
            if (link->l == 0)
            {
              link = link->r;
            }
            else
            {
              link = link->l;
            }

          }

          free(aux);
        }

      }

    }

  }

  return link;
}

int Ttraverse(BTlink link, LTlink *head, int i)
{
  if (link == 0)
  {
    return i;
  }
  else
  {
    
  }

  if ((*head) != 0)
  {
    if (Tgetwins(BTgetteam(link)) == Tgetwins(LTgetteam(*head)))
    {
      *head = LTinsert(*head, BTgetteam(link));
      i++;
    }
    else
    {
      if (Tgetwins(BTgetteam(link)) > Tgetwins(LTgetteam(*head)))
      {
        *head = LTclear(*head);
        *head = LTinsert(*head, BTgetteam(link));
        i = 1;
      }
      else
      {
        
      }

    }

  }
  else
  {
    *head = LTinsert(*head, BTgetteam(link));
    i++;
  }

  i = Ttraverse(link->l, head, i);
  i = Ttraverse(link->r, head, i);
  return i;
}

Team BTgetteam(BTlink link)
{
  return link->team;
}

