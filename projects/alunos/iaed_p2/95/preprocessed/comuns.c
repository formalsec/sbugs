#include "/home/fmarques/sbugs/projects/alunos/lib/stubs.h"
/*File generated by PreProcessor.py*/


#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include "geral.h"
#include "structs.h"


listagem list()
{
  listagem lst;
  lst = malloc(sizeof(struct lst));
  lst->head = 0;
  lst->tail = 0;
  return lst;
}

table_eq Init_eq(int m)
{
  int i;
  table_eq table;
  table = (table_eq) malloc(sizeof(struct hash_eq));
  table->M = m;
  table->heads = malloc(table->M * (sizeof(struct node_eq)));
  for (i = 0; i < table->M; i++)
  {
    table->heads[i] = 0;
  }

  return table;
}

table_jogos Init_jogo(int m)
{
  int i;
  table_jogos table;
  table = (table_jogos) malloc(sizeof(struct hash_jogos));
  table->M = m;
  table->heads = malloc(table->M * (sizeof(struct node_jogo)));
  for (i = 0; i < table->M; i++)
  {
    table->heads[i] = 0;
  }

  return table;
}

int hash_eq(char nome[], table_eq table)
{
  unsigned int hash = 5381;
  int c;
  while (c = *(nome++))
    hash = ((hash << 5) + hash) + c;

  return hash % table->M;
}

int hash_jogos(char nome[], table_jogos table)
{
  unsigned int hash = 5381;
  int c;
  while (c = *(nome++))
    hash = ((hash << 5) + hash) + c;

  return hash % table->M;
}

Equipas SearchEquipa(char nome[], table_eq table)
{
  int i = hash_eq(nome, table);
  Equipas equipa = 0;
  if (table->heads[i] == 0)
  {
    return 0;
  }
  else
  {
    
  }

  equipa = search_equipa(table->heads[i], nome);
  if (equipa == 0)
  {
    return 0;
  }
  else
  {
    
  }

  return equipa;
}

Equipas search_equipa(Node_eq head, char nome[])
{
  Node_eq temp = head;
  while (temp != 0)
  {
    if (strcmp(temp->equipa->nome, nome) == 0)
    {
      return temp->equipa;
    }
    else
    {
      
    }

    temp = temp->next;
  }

  return 0;
}

pJogo SearchJogo(char nome[], table_jogos table)
{
  int i = hash_jogos(nome, table);
  pJogo match = 0;
  if (table->heads[i] == 0)
  {
    return 0;
  }
  else
  {
    
  }

  match = search_jogo(table->heads[i], nome);
  if (match == 0)
  {
    return 0;
  }
  else
  {
    
  }

  return match;
}

pJogo search_jogo(Node_jogos head, char nome[])
{
  Node_jogos temp = head;
  while (temp != 0)
  {
    if (strcmp(temp->match->nome, nome) == 0)
    {
      return temp->match;
    }
    else
    {
      
    }

    temp = temp->next;
  }

  return 0;
}

void liberta_hash_eq(table_eq tab_eq)
{
  int i;
  Node_eq temp;
  for (i = 0; i < tab_eq->M; i++)
  {
    temp = tab_eq->heads[i];
    while (tab_eq->heads[i] != 0)
    {
      temp = tab_eq->heads[i];
      tab_eq->heads[i] = tab_eq->heads[i]->next;
      liberta_no_eq(temp);
    }

    free(tab_eq->heads[i]);
  }

  free(tab_eq->heads);
  free(tab_eq);
}

void liberta_no_eq(Node_eq node_eq)
{
  free(node_eq->equipa->nome);
  free(node_eq->equipa);
  free(node_eq);
}

void liberta_hash_j(table_jogos tab_j)
{
  int i;
  Node_jogos temp;
  for (i = 0; i < tab_j->M; i++)
  {
    temp = tab_j->heads[i];
    while (tab_j->heads[i] != 0)
    {
      temp = tab_j->heads[i];
      tab_j->heads[i] = tab_j->heads[i]->next;
      liberta_no_j(temp);
    }

    free(tab_j->heads[i]);
  }

  free(tab_j->heads);
  free(tab_j);
}

void liberta_no_j(Node_jogos node_j)
{
  free(node_j->match->nome);
  free(node_j->match->equipa1);
  free(node_j->match->equipa2);
  free(node_j->match->winner);
  free(node_j->match);
  free(node_j);
}

