import os

class CGenerator:
	def __init__(self, outputfile, fakelib=None):

		self.fakelib =  f'{os.path.dirname(os.path.realpath(__file__))}/../Fake_libc/fake_libc_include'
		self.outputfile = outputfile

		tmpname = self.outputfile.split('/')[-1]
		self.tmpfile = f'tmp_{tmpname}'

		if fakelib is not None:
			self.fakelib = fakelib

	def _remove_files(self, *files):
		for f in files:
			if os.path.exists(f):
				os.remove(f)


	def _write_to_file(self, code, header, generator=None):

		header = [f'/*File generated by {generator}*/\n\n'] + header
		header.append('\n')
		header.append('\n')

		outfile = open(self.outputfile, "w")
		outfile.writelines(header)
		outfile.write(code)
		outfile.flush()

